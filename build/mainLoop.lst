ARM GAS  /tmp/ccFJCU99.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mainLoop.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._write,"ax",%progbits
  18              		.align	1
  19              		.global	_write
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	_write:
  27              	.LVL0:
  28              	.LFB133:
  29              		.file 1 "Core/Src/mainLoop.c"
   1:Core/Src/mainLoop.c **** #include "mainLoop.h"
   2:Core/Src/mainLoop.c **** 
   3:Core/Src/mainLoop.c **** #include <stdio.h>
   4:Core/Src/mainLoop.c **** //#include "arm_math.h"
   5:Core/Src/mainLoop.c **** #include "ad9520_function.h"
   6:Core/Src/mainLoop.c **** #include "main.h"
   7:Core/Src/mainLoop.c **** #include "math.h"
   8:Core/Src/mainLoop.c **** #include "max5307.h"
   9:Core/Src/mainLoop.c **** extern UART_HandleTypeDef huart2;
  10:Core/Src/mainLoop.c **** extern DAC_HandleTypeDef hdac;
  11:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim4;
  12:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim1;
  13:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim5;  // Áî®Êù•ÂÅö1sÁöÑÂÆöÊó∂Âô®
  14:Core/Src/mainLoop.c **** extern ADC_HandleTypeDef hadc1;
  15:Core/Src/mainLoop.c **** extern ADC_HandleTypeDef hadc2;
  16:Core/Src/mainLoop.c **** // floating point support in printf isn't enabled by default. To enable, add -u
  17:Core/Src/mainLoop.c **** // _printf_float to your LDFLAGS.
  18:Core/Src/mainLoop.c **** // for ubuntu arm-none-eabi-gcc compile
  19:Core/Src/mainLoop.c **** int _write(int fd, char *ptr, int len) {
  30              		.loc 1 19 40 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 19 40 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
ARM GAS  /tmp/ccFJCU99.s 			page 2


  40 0002 1446     		mov	r4, r2
  20:Core/Src/mainLoop.c ****   HAL_UART_Transmit(&huart2, (uint8_t *)ptr, len, HAL_MAX_DELAY);
  41              		.loc 1 20 3 is_stmt 1 view .LVU2
  42 0004 4FF0FF33 		mov	r3, #-1
  43 0008 92B2     		uxth	r2, r2
  44              	.LVL1:
  45              		.loc 1 20 3 is_stmt 0 view .LVU3
  46 000a 0248     		ldr	r0, .L3
  47              	.LVL2:
  48              		.loc 1 20 3 view .LVU4
  49 000c FFF7FEFF 		bl	HAL_UART_Transmit
  50              	.LVL3:
  21:Core/Src/mainLoop.c ****   return len;
  51              		.loc 1 21 3 is_stmt 1 view .LVU5
  22:Core/Src/mainLoop.c **** }
  52              		.loc 1 22 1 is_stmt 0 view .LVU6
  53 0010 2046     		mov	r0, r4
  54 0012 10BD     		pop	{r4, pc}
  55              	.LVL4:
  56              	.L4:
  57              		.loc 1 22 1 view .LVU7
  58              		.align	2
  59              	.L3:
  60 0014 00000000 		.word	huart2
  61              		.cfi_endproc
  62              	.LFE133:
  64              		.section	.text.transform_capNum_to_xNum,"ax",%progbits
  65              		.align	1
  66              		.global	transform_capNum_to_xNum
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  70              		.fpu fpv4-sp-d16
  72              	transform_capNum_to_xNum:
  73              	.LVL5:
  74              	.LFB134:
  23:Core/Src/mainLoop.c **** 
  24:Core/Src/mainLoop.c **** // for windows keil compile
  25:Core/Src/mainLoop.c **** //  int fputc(int ch, FILE *f)
  26:Core/Src/mainLoop.c **** //  {
  27:Core/Src/mainLoop.c **** //    /* Your implementation of fputc(). */
  28:Core/Src/mainLoop.c **** //  	HAL_UART_Transmit(&huart2, (uint8_t *)&ch, 1, HAL_MAX_DELAY);
  29:Core/Src/mainLoop.c **** //    return ch;
  30:Core/Src/mainLoop.c **** //  }
  31:Core/Src/mainLoop.c **** 
  32:Core/Src/mainLoop.c **** //ÂÖ®Â±ÄÂèÇÊï∞
  33:Core/Src/mainLoop.c **** uint32_t adc1_ok = 0, adc2_ok = 0;
  34:Core/Src/mainLoop.c **** #define MID_CP_VALUE (2048)
  35:Core/Src/mainLoop.c **** // uint32_t value_dacP = 0x8020200, value_dacN = 0x8020200;
  36:Core/Src/mainLoop.c **** uint32_t value_dacP = 0x80200800, value_dacN = 0x80200800;
  37:Core/Src/mainLoop.c **** int32_t mainCp = 0, mainCpLast = 0;
  38:Core/Src/mainLoop.c **** struct adc_buf_t adc1_t1, adc1_t2;
  39:Core/Src/mainLoop.c **** int32_t uartDMA_tri_sign = ADCCAPWAIT;
  40:Core/Src/mainLoop.c **** struct log_para_t logBufDma;
  41:Core/Src/mainLoop.c **** 
  42:Core/Src/mainLoop.c **** 
  43:Core/Src/mainLoop.c **** #define CAPNUM 100
ARM GAS  /tmp/ccFJCU99.s 			page 3


  44:Core/Src/mainLoop.c **** uint32_t chanl1_capNum[CAPNUM];
  45:Core/Src/mainLoop.c **** uint32_t chanl2_capNum[CAPNUM];
  46:Core/Src/mainLoop.c **** int32_t chanl1_xNum[CAPNUM];
  47:Core/Src/mainLoop.c **** int32_t chanl2_xNum[CAPNUM];
  48:Core/Src/mainLoop.c **** float chanl1_capNum_f[CAPNUM];
  49:Core/Src/mainLoop.c **** float chanl2_capNum_f[CAPNUM];
  50:Core/Src/mainLoop.c **** int32_t chanl1_completed = 0;
  51:Core/Src/mainLoop.c **** int32_t chanl2_completed = 0;
  52:Core/Src/mainLoop.c **** float average_xNum1 = 0, average_xNum2 = 0;
  53:Core/Src/mainLoop.c **** int32_t chanl1_midx = 0, chanl2_midx = 0;  // ‰øùÂ≠òÂæ™ÁéØDMAÈòüÂàóÁöÑ‰∏≠Èó¥ÂèòÈáè
  54:Core/Src/mainLoop.c **** // tim4 dma
  55:Core/Src/mainLoop.c **** // ÊñπÂºèÔºåËé∑ÂæóÊï∞ÊçÆÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºåÂàÜ‰∏∫ÂâçÂêé‰∏§‰∏™halfwordÔºåÊØè‰∏™halfwordÈÉΩ‰ª£Ë°®‰∏Ä‰∏
  56:Core/Src/mainLoop.c **** //  ËøôÊÆµ‰ª£Á†ÅÊòØÁî®Êù•Â§ÑÁêÜËøô‰∏§‰∏™halfwordÁöÑ
  57:Core/Src/mainLoop.c **** // ËæìÂÖ•ÂèÇÊï∞ canNum‰∏∫‰∏§‰∏™halfwordÁöÑÁªÑÂêàÊï∞ÔºåÊúâ‰∏ä‰∏™‰∏äÂçáÊ≤øÊó∂Èó¥,
  58:Core/Src/mainLoop.c **** // Áî±‰∫éÁ¨¨‰∏Ä‰∏™Êï∞ÈÄöÂ∏∏ÊòØÈîôËØØÁöÑÔºåÊâÄ‰ª•‰ªéÁ¨¨‰∫å‰∏™Êï∞ÂºÄÂßã
  59:Core/Src/mainLoop.c **** void transform_capNum_to_xNum(uint32_t *capNum, int32_t *xNum,
  60:Core/Src/mainLoop.c ****                               int32_t capNum_len) {
  75              		.loc 1 60 51 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		@ link register save eliminated.
  80              		.loc 1 60 51 is_stmt 0 view .LVU9
  81 0000 30B4     		push	{r4, r5}
  82              	.LCFI1:
  83              		.cfi_def_cfa_offset 8
  84              		.cfi_offset 4, -8
  85              		.cfi_offset 5, -4
  61:Core/Src/mainLoop.c ****   int32_t i;
  86              		.loc 1 61 3 is_stmt 1 view .LVU10
  62:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len / 2; i++) {
  87              		.loc 1 62 3 view .LVU11
  88              	.LVL6:
  89              		.loc 1 62 10 is_stmt 0 view .LVU12
  90 0002 0023     		movs	r3, #0
  91              	.LVL7:
  92              	.L6:
  93              		.loc 1 62 15 is_stmt 1 discriminator 1 view .LVU13
  94              		.loc 1 62 30 is_stmt 0 discriminator 1 view .LVU14
  95 0004 02EBD274 		add	r4, r2, r2, lsr #31
  96              		.loc 1 62 3 discriminator 1 view .LVU15
  97 0008 B3EB640F 		cmp	r3, r4, asr #1
  98 000c 0BDA     		bge	.L9
  63:Core/Src/mainLoop.c ****     xNum[i * 2] = capNum[i] & 0xffff;
  99              		.loc 1 63 5 is_stmt 1 discriminator 3 view .LVU16
 100              		.loc 1 63 9 is_stmt 0 discriminator 3 view .LVU17
 101 000e DC00     		lsls	r4, r3, #3
 102              		.loc 1 63 29 discriminator 3 view .LVU18
 103 0010 30F82350 		ldrh	r5, [r0, r3, lsl #2]
 104              		.loc 1 63 17 discriminator 3 view .LVU19
 105 0014 41F83350 		str	r5, [r1, r3, lsl #3]
  64:Core/Src/mainLoop.c ****     xNum[i * 2 + 1] = capNum[i] >> 16;
 106              		.loc 1 64 5 is_stmt 1 discriminator 3 view .LVU20
 107              		.loc 1 64 29 is_stmt 0 discriminator 3 view .LVU21
 108 0018 50F82350 		ldr	r5, [r0, r3, lsl #2]
 109              		.loc 1 64 9 discriminator 3 view .LVU22
 110 001c 0434     		adds	r4, r4, #4
ARM GAS  /tmp/ccFJCU99.s 			page 4


 111              		.loc 1 64 33 discriminator 3 view .LVU23
 112 001e 2D0C     		lsrs	r5, r5, #16
 113              		.loc 1 64 21 discriminator 3 view .LVU24
 114 0020 0D51     		str	r5, [r1, r4]
  62:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len / 2; i++) {
 115              		.loc 1 62 35 is_stmt 1 discriminator 3 view .LVU25
  62:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len / 2; i++) {
 116              		.loc 1 62 36 is_stmt 0 discriminator 3 view .LVU26
 117 0022 0133     		adds	r3, r3, #1
 118              	.LVL8:
  62:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len / 2; i++) {
 119              		.loc 1 62 36 discriminator 3 view .LVU27
 120 0024 EEE7     		b	.L6
 121              	.L9:
  65:Core/Src/mainLoop.c ****   }
  66:Core/Src/mainLoop.c **** }
 122              		.loc 1 66 1 view .LVU28
 123 0026 30BC     		pop	{r4, r5}
 124              	.LCFI2:
 125              		.cfi_restore 5
 126              		.cfi_restore 4
 127              		.cfi_def_cfa_offset 0
 128 0028 7047     		bx	lr
 129              		.cfi_endproc
 130              	.LFE134:
 132              		.section	.text.cal_average_xNum,"ax",%progbits
 133              		.align	1
 134              		.global	cal_average_xNum
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 138              		.fpu fpv4-sp-d16
 140              	cal_average_xNum:
 141              	.LVL9:
 142              	.LFB135:
  67:Core/Src/mainLoop.c **** 
  68:Core/Src/mainLoop.c **** // ËÆ°ÁÆóÂπ≥ÂùáxNumÔºå
  69:Core/Src/mainLoop.c **** // cal_average_xNum(chanl1_xNum, CAPNUM);
  70:Core/Src/mainLoop.c **** int32_t cal_average_xNum(int32_t *xNum, int32_t capNum_len) {
 143              		.loc 1 70 61 is_stmt 1 view -0
 144              		.cfi_startproc
 145              		@ args = 0, pretend = 0, frame = 0
 146              		@ frame_needed = 0, uses_anonymous_args = 0
 147              		@ link register save eliminated.
 148              		.loc 1 70 61 is_stmt 0 view .LVU30
 149 0000 70B4     		push	{r4, r5, r6}
 150              	.LCFI3:
 151              		.cfi_def_cfa_offset 12
 152              		.cfi_offset 4, -12
 153              		.cfi_offset 5, -8
 154              		.cfi_offset 6, -4
  71:Core/Src/mainLoop.c ****   int32_t i, sum = 0;
 155              		.loc 1 71 3 is_stmt 1 view .LVU31
 156              	.LVL10:
  72:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len - 1; i++) {
 157              		.loc 1 72 3 view .LVU32
  71:Core/Src/mainLoop.c ****   int32_t i, sum = 0;
ARM GAS  /tmp/ccFJCU99.s 			page 5


 158              		.loc 1 71 14 is_stmt 0 view .LVU33
 159 0002 0025     		movs	r5, #0
 160              		.loc 1 72 10 view .LVU34
 161 0004 2B46     		mov	r3, r5
 162              	.LVL11:
 163              	.L11:
 164              		.loc 1 72 15 is_stmt 1 discriminator 1 view .LVU35
 165              		.loc 1 72 30 is_stmt 0 discriminator 1 view .LVU36
 166 0006 4A1E     		subs	r2, r1, #1
 167              		.loc 1 72 3 discriminator 1 view .LVU37
 168 0008 9A42     		cmp	r2, r3
 169 000a 0ADD     		ble	.L14
  73:Core/Src/mainLoop.c ****     xNum[i] = xNum[i + 1] - xNum[i];
 170              		.loc 1 73 5 is_stmt 1 discriminator 3 view .LVU38
 171              		.loc 1 73 19 is_stmt 0 discriminator 3 view .LVU39
 172 000c 5C1C     		adds	r4, r3, #1
 173 000e 50F82420 		ldr	r2, [r0, r4, lsl #2]
 174              		.loc 1 73 33 discriminator 3 view .LVU40
 175 0012 50F82360 		ldr	r6, [r0, r3, lsl #2]
 176              		.loc 1 73 27 discriminator 3 view .LVU41
 177 0016 921B     		subs	r2, r2, r6
 178              		.loc 1 73 13 discriminator 3 view .LVU42
 179 0018 40F82320 		str	r2, [r0, r3, lsl #2]
  74:Core/Src/mainLoop.c ****     sum += xNum[i];
 180              		.loc 1 74 5 is_stmt 1 discriminator 3 view .LVU43
 181              		.loc 1 74 9 is_stmt 0 discriminator 3 view .LVU44
 182 001c 1544     		add	r5, r5, r2
 183              	.LVL12:
  72:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len - 1; i++) {
 184              		.loc 1 72 35 is_stmt 1 discriminator 3 view .LVU45
  72:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len - 1; i++) {
 185              		.loc 1 72 36 is_stmt 0 discriminator 3 view .LVU46
 186 001e 2346     		mov	r3, r4
 187              	.LVL13:
  72:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len - 1; i++) {
 188              		.loc 1 72 36 discriminator 3 view .LVU47
 189 0020 F1E7     		b	.L11
 190              	.L14:
  75:Core/Src/mainLoop.c ****   }
  76:Core/Src/mainLoop.c ****   return sum / (capNum_len - 1);
 191              		.loc 1 76 3 is_stmt 1 view .LVU48
  77:Core/Src/mainLoop.c **** }
 192              		.loc 1 77 1 is_stmt 0 view .LVU49
 193 0022 95FBF2F0 		sdiv	r0, r5, r2
 194              	.LVL14:
 195              		.loc 1 77 1 view .LVU50
 196 0026 70BC     		pop	{r4, r5, r6}
 197              	.LCFI4:
 198              		.cfi_restore 6
 199              		.cfi_restore 5
 200              		.cfi_restore 4
 201              		.cfi_def_cfa_offset 0
 202              	.LVL15:
 203              		.loc 1 77 1 view .LVU51
 204 0028 7047     		bx	lr
 205              		.cfi_endproc
 206              	.LFE135:
ARM GAS  /tmp/ccFJCU99.s 			page 6


 208              		.section	.text.enable_tim4_capture_Iterrupt,"ax",%progbits
 209              		.align	1
 210              		.global	enable_tim4_capture_Iterrupt
 211              		.syntax unified
 212              		.thumb
 213              		.thumb_func
 214              		.fpu fpv4-sp-d16
 216              	enable_tim4_capture_Iterrupt:
 217              	.LFB136:
  78:Core/Src/mainLoop.c **** 
  79:Core/Src/mainLoop.c **** void enable_tim4_capture_Iterrupt(void) {
 218              		.loc 1 79 41 is_stmt 1 view -0
 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
 222 0000 08B5     		push	{r3, lr}
 223              	.LCFI5:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 3, -8
 226              		.cfi_offset 14, -4
  80:Core/Src/mainLoop.c ****   // HAL_TIM_Base_Start_IT(&htim4);
  81:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_IT(&htim4, TIM_CHANNEL_1);
  82:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_IT(&htim4, TIM_CHANNEL_2);
  83:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_1, (uint32_t*)chanl1_capNum,
  84:Core/Src/mainLoop.c ****   // CAPNUM+4);
  85:Core/Src/mainLoop.c **** 
  86:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_2, (uint32_t*)chanl2_capNum,
  87:Core/Src/mainLoop.c ****   // CAPNUM); HAL_TIM_IC_Start_DMA(&htim1, TIM_CHANNEL_4,
  88:Core/Src/mainLoop.c ****   // (uint32_t*)chanl1_capNum, CAPNUM);
  89:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim5);
 227              		.loc 1 89 3 view .LVU53
 228 0002 0548     		ldr	r0, .L17
 229 0004 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 230              	.LVL16:
  90:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim4);
 231              		.loc 1 90 3 view .LVU54
 232 0008 0448     		ldr	r0, .L17+4
 233 000a FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 234              	.LVL17:
  91:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim1);
 235              		.loc 1 91 3 view .LVU55
 236 000e 0448     		ldr	r0, .L17+8
 237 0010 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 238              	.LVL18:
  92:Core/Src/mainLoop.c **** }
 239              		.loc 1 92 1 is_stmt 0 view .LVU56
 240 0014 08BD     		pop	{r3, pc}
 241              	.L18:
 242 0016 00BF     		.align	2
 243              	.L17:
 244 0018 00000000 		.word	htim5
 245 001c 00000000 		.word	htim4
 246 0020 00000000 		.word	htim1
 247              		.cfi_endproc
 248              	.LFE136:
 250              		.global	__aeabi_i2d
 251              		.global	__aeabi_dmul
ARM GAS  /tmp/ccFJCU99.s 			page 7


 252              		.global	__aeabi_dadd
 253              		.section	.text.generateSinWave,"ax",%progbits
 254              		.align	1
 255              		.global	generateSinWave
 256              		.syntax unified
 257              		.thumb
 258              		.thumb_func
 259              		.fpu fpv4-sp-d16
 261              	generateSinWave:
 262              	.LVL19:
 263              	.LFB137:
  93:Core/Src/mainLoop.c **** 
  94:Core/Src/mainLoop.c **** uint32_t i = 0;
  95:Core/Src/mainLoop.c **** float f = 3.14;
  96:Core/Src/mainLoop.c **** // int32_t chanl1_capNum = 0;
  97:Core/Src/mainLoop.c **** // int32_t chanl2_capNum = 0;
  98:Core/Src/mainLoop.c **** int32_t fre_dif = 0;
  99:Core/Src/mainLoop.c **** int32_t xx, yy, complete_sign;
 100:Core/Src/mainLoop.c **** int32_t xx_cnt, yy_cnt;
 101:Core/Src/mainLoop.c **** uint8_t buf[4];
 102:Core/Src/mainLoop.c **** float v_dianya;
 103:Core/Src/mainLoop.c **** uint32_t dacV;
 104:Core/Src/mainLoop.c **** double tmp;
 105:Core/Src/mainLoop.c **** #define NS 128
 106:Core/Src/mainLoop.c **** uint32_t Wave_LUT[NS] = {
 107:Core/Src/mainLoop.c ****     2048, 2149, 2250, 2350, 2450, 2549, 2646, 2742, 2837, 2929, 3020, 3108,
 108:Core/Src/mainLoop.c ****     3193, 3275, 3355, 3431, 3504, 3574, 3639, 3701, 3759, 3812, 3861, 3906,
 109:Core/Src/mainLoop.c ****     3946, 3982, 4013, 4039, 4060, 4076, 4087, 4094, 4095, 4091, 4082, 4069,
 110:Core/Src/mainLoop.c ****     4050, 4026, 3998, 3965, 3927, 3884, 3837, 3786, 3730, 3671, 3607, 3539,
 111:Core/Src/mainLoop.c ****     3468, 3394, 3316, 3235, 3151, 3064, 2975, 2883, 2790, 2695, 2598, 2500,
 112:Core/Src/mainLoop.c ****     2400, 2300, 2199, 2098, 1997, 1896, 1795, 1695, 1595, 1497, 1400, 1305,
 113:Core/Src/mainLoop.c ****     1212, 1120, 1031, 944,  860,  779,  701,  627,  556,  488,  424,  365,
 114:Core/Src/mainLoop.c ****     309,  258,  211,  168,  130,  97,   69,   45,   26,   13,   4,    0,
 115:Core/Src/mainLoop.c ****     1,    8,    19,   35,   56,   82,   113,  149,  189,  234,  283,  336,
 116:Core/Src/mainLoop.c ****     394,  456,  521,  591,  664,  740,  820,  902,  987,  1075, 1166, 1258,
 117:Core/Src/mainLoop.c ****     1353, 1449, 1546, 1645, 1745, 1845, 1946, 2047};
 118:Core/Src/mainLoop.c **** #define PI 3.14159265
 119:Core/Src/mainLoop.c **** #define AMPLITUDE 2048.0  // Ê≠£Âº¶Ê≥¢ÂπÖÂ∫¶
 120:Core/Src/mainLoop.c **** #define FREQUENCY 100.0   // Ê≠£Âº¶Ê≥¢È¢ëÁéáÔºàHzÔºâ
 121:Core/Src/mainLoop.c **** #define SAMPLE_RATE 4096  // ÈááÊ†∑ÁéáÔºàÊØèÁßíÈááÊ†∑Ê¨°Êï∞Ôºâ
 122:Core/Src/mainLoop.c **** 
 123:Core/Src/mainLoop.c **** void generateSinWave(int32_t i) {
 264              		.loc 1 123 33 is_stmt 1 view -0
 265              		.cfi_startproc
 266              		@ args = 0, pretend = 0, frame = 0
 267              		@ frame_needed = 0, uses_anonymous_args = 0
 268              		.loc 1 123 33 is_stmt 0 view .LVU58
 269 0000 08B5     		push	{r3, lr}
 270              	.LCFI6:
 271              		.cfi_def_cfa_offset 8
 272              		.cfi_offset 3, -8
 273              		.cfi_offset 14, -4
 124:Core/Src/mainLoop.c ****   double omega = 2.0 * PI * FREQUENCY / SAMPLE_RATE;
 274              		.loc 1 124 3 is_stmt 1 view .LVU59
 275              	.LVL20:
 125:Core/Src/mainLoop.c ****   tmp = AMPLITUDE * sin(omega * i) + AMPLITUDE;
 276              		.loc 1 125 3 view .LVU60
ARM GAS  /tmp/ccFJCU99.s 			page 8


 277              		.loc 1 125 21 is_stmt 0 view .LVU61
 278 0002 FFF7FEFF 		bl	__aeabi_i2d
 279              	.LVL21:
 280              		.loc 1 125 21 view .LVU62
 281 0006 0EA3     		adr	r3, .L21+8
 282 0008 D3E90023 		ldrd	r2, [r3]
 283 000c FFF7FEFF 		bl	__aeabi_dmul
 284              	.LVL22:
 285 0010 41EC100B 		vmov	d0, r0, r1
 286 0014 FFF7FEFF 		bl	sin
 287              	.LVL23:
 288 0018 51EC100B 		vmov	r0, r1, d0
 289              		.loc 1 125 19 view .LVU63
 290 001c 0022     		movs	r2, #0
 291 001e 064B     		ldr	r3, .L21
 292 0020 FFF7FEFF 		bl	__aeabi_dmul
 293              	.LVL24:
 294              		.loc 1 125 36 view .LVU64
 295 0024 0022     		movs	r2, #0
 296 0026 044B     		ldr	r3, .L21
 297 0028 FFF7FEFF 		bl	__aeabi_dadd
 298              	.LVL25:
 299              		.loc 1 125 7 view .LVU65
 300 002c 034B     		ldr	r3, .L21+4
 301 002e C3E90001 		strd	r0, [r3]
 126:Core/Src/mainLoop.c **** }
 302              		.loc 1 126 1 view .LVU66
 303 0032 08BD     		pop	{r3, pc}
 304              	.L22:
 305 0034 AFF30080 		.align	3
 306              	.L21:
 307 0038 0000A040 		.word	1084227584
 308 003c 00000000 		.word	tmp
 309 0040 5CE67459 		.word	1500833372
 310 0044 8CA2C33F 		.word	1069785740
 311              		.cfi_endproc
 312              	.LFE137:
 314              		.global	__aeabi_f2d
 315              		.global	__aeabi_ddiv
 316              		.global	__aeabi_d2uiz
 317              		.section	.text.mainLoop,"ax",%progbits
 318              		.align	1
 319              		.global	mainLoop
 320              		.syntax unified
 321              		.thumb
 322              		.thumb_func
 323              		.fpu fpv4-sp-d16
 325              	mainLoop:
 326              	.LFB138:
 127:Core/Src/mainLoop.c **** void mainLoop(void) {
 327              		.loc 1 127 21 is_stmt 1 view -0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 332              	.LCFI7:
 333              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccFJCU99.s 			page 9


 334              		.cfi_offset 3, -24
 335              		.cfi_offset 4, -20
 336              		.cfi_offset 5, -16
 337              		.cfi_offset 6, -12
 338              		.cfi_offset 7, -8
 339              		.cfi_offset 14, -4
 128:Core/Src/mainLoop.c ****   uint32_t dacN = 0;  //,dacV=0;
 340              		.loc 1 128 3 view .LVU68
 341              	.LVL26:
 129:Core/Src/mainLoop.c **** 
 130:Core/Src/mainLoop.c ****   int32_t dacSign = 1;
 342              		.loc 1 130 3 view .LVU69
 131:Core/Src/mainLoop.c ****   init_max5307();
 343              		.loc 1 131 3 view .LVU70
 344 0002 FFF7FEFF 		bl	init_max5307
 345              	.LVL27:
 132:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch8, 2048, max_outenable);
 346              		.loc 1 132 3 view .LVU71
 347 0006 0122     		movs	r2, #1
 348 0008 4FF40061 		mov	r1, #2048
 349 000c 0920     		movs	r0, #9
 350 000e FFF7FEFF 		bl	max5307_w_chanel
 351              	.LVL28:
 133:Core/Src/mainLoop.c ****   //	while(1){
 134:Core/Src/mainLoop.c ****   //	    HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 135:Core/Src/mainLoop.c ****   //   //HAL_Delay(3);
 136:Core/Src/mainLoop.c ****   //    HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 137:Core/Src/mainLoop.c ****   //   // HAL_Delay(300);
 138:Core/Src/mainLoop.c ****   //	HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 139:Core/Src/mainLoop.c ****   //	//HAL_Delay(300);
 140:Core/Src/mainLoop.c ****   //		//void max5307_w_chanel(uint32_t chanel, uint32_t val);
 141:Core/Src/mainLoop.c ****   //
 142:Core/Src/mainLoop.c ****   //		//max5307_w_chanel(0x02,dacN);
 143:Core/Src/mainLoop.c ****   //		generateSinWave(dacN%SAMPLE_RATE);
 144:Core/Src/mainLoop.c ****   //		max5307_w_chanel(max_ch1,round(tmp),max_outenable);
 145:Core/Src/mainLoop.c ****   //		max5307_w_chanel(DACP_1K,round(tmp),max_outenable);
 146:Core/Src/mainLoop.c ****   //		//max5307_loadpin();
 147:Core/Src/mainLoop.c ****   //		//max5307_w_chanel(0x0e,0x2f);
 148:Core/Src/mainLoop.c ****   ////		if(dacN>=0xfff){
 149:Core/Src/mainLoop.c ****   ////			dacSign = -1;
 150:Core/Src/mainLoop.c ****   ////		}else if(dacN==0){
 151:Core/Src/mainLoop.c ****   ////			dacSign = 1;
 152:Core/Src/mainLoop.c ****   ////		}
 153:Core/Src/mainLoop.c ****   //		dacN = dacN + dacSign;
 154:Core/Src/mainLoop.c **** 
 155:Core/Src/mainLoop.c ****   ////		tmp = (dacN%4096) * 3.14 /4096;
 156:Core/Src/mainLoop.c ****   ////		tmp = sin(tmp);
 157:Core/Src/mainLoop.c ****   ////		dacV = 4096*tmp;
 158:Core/Src/mainLoop.c ****   //	}
 159:Core/Src/mainLoop.c ****   int32_t xx_bak = 0;
 352              		.loc 1 159 3 view .LVU72
 160:Core/Src/mainLoop.c ****   int32_t yy_bak = 0;
 353              		.loc 1 160 3 view .LVU73
 161:Core/Src/mainLoop.c ****   // init_ad9520_spiport();
 162:Core/Src/mainLoop.c ****   complete_sign = 0;
 354              		.loc 1 162 3 view .LVU74
 355              		.loc 1 162 17 is_stmt 0 view .LVU75
ARM GAS  /tmp/ccFJCU99.s 			page 10


 356 0012 0024     		movs	r4, #0
 357 0014 504B     		ldr	r3, .L31+8
 358 0016 1C60     		str	r4, [r3]
 163:Core/Src/mainLoop.c ****   xx = 0;
 359              		.loc 1 163 3 is_stmt 1 view .LVU76
 360              		.loc 1 163 6 is_stmt 0 view .LVU77
 361 0018 504B     		ldr	r3, .L31+12
 362 001a 1C60     		str	r4, [r3]
 164:Core/Src/mainLoop.c ****   yy = 0;
 363              		.loc 1 164 3 is_stmt 1 view .LVU78
 364              		.loc 1 164 6 is_stmt 0 view .LVU79
 365 001c 504B     		ldr	r3, .L31+16
 366 001e 1C60     		str	r4, [r3]
 165:Core/Src/mainLoop.c ****   fre_dif = 0;
 367              		.loc 1 165 3 is_stmt 1 view .LVU80
 368              		.loc 1 165 11 is_stmt 0 view .LVU81
 369 0020 504D     		ldr	r5, .L31+20
 370 0022 2C60     		str	r4, [r5]
 166:Core/Src/mainLoop.c ****   xx_cnt = 0;
 371              		.loc 1 166 3 is_stmt 1 view .LVU82
 372              		.loc 1 166 10 is_stmt 0 view .LVU83
 373 0024 504B     		ldr	r3, .L31+24
 374 0026 1C60     		str	r4, [r3]
 167:Core/Src/mainLoop.c ****   yy_cnt = 0;
 375              		.loc 1 167 3 is_stmt 1 view .LVU84
 376              		.loc 1 167 10 is_stmt 0 view .LVU85
 377 0028 504B     		ldr	r3, .L31+28
 378 002a 1C60     		str	r4, [r3]
 168:Core/Src/mainLoop.c ****   v_dianya = 1.65;
 379              		.loc 1 168 3 is_stmt 1 view .LVU86
 380              		.loc 1 168 12 is_stmt 0 view .LVU87
 381 002c 504F     		ldr	r7, .L31+32
 382 002e 514B     		ldr	r3, .L31+36
 383 0030 3B60     		str	r3, [r7]	@ float
 169:Core/Src/mainLoop.c ****   HAL_DAC_Start(&hdac, DAC_CHANNEL_1);
 384              		.loc 1 169 3 is_stmt 1 view .LVU88
 385 0032 514E     		ldr	r6, .L31+40
 386 0034 2146     		mov	r1, r4
 387 0036 3046     		mov	r0, r6
 388 0038 FFF7FEFF 		bl	HAL_DAC_Start
 389              	.LVL29:
 170:Core/Src/mainLoop.c ****   // HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 171:Core/Src/mainLoop.c ****   HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 390              		.loc 1 171 3 view .LVU89
 172:Core/Src/mainLoop.c ****                    (uint32_t)((v_dianya / 3.3) * 4096));
 391              		.loc 1 172 41 is_stmt 0 view .LVU90
 392 003c 3868     		ldr	r0, [r7]	@ float
 393 003e FFF7FEFF 		bl	__aeabi_f2d
 394              	.LVL30:
 395 0042 43A3     		adr	r3, .L31
 396 0044 D3E90023 		ldrd	r2, [r3]
 397 0048 FFF7FEFF 		bl	__aeabi_ddiv
 398              	.LVL31:
 399              		.loc 1 172 48 view .LVU91
 400 004c 0022     		movs	r2, #0
 401 004e 4B4B     		ldr	r3, .L31+44
 402 0050 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /tmp/ccFJCU99.s 			page 11


 403              	.LVL32:
 171:Core/Src/mainLoop.c ****                    (uint32_t)((v_dianya / 3.3) * 4096));
 404              		.loc 1 171 3 view .LVU92
 405 0054 FFF7FEFF 		bl	__aeabi_d2uiz
 406              	.LVL33:
 407 0058 0346     		mov	r3, r0
 408 005a 2246     		mov	r2, r4
 409 005c 2146     		mov	r1, r4
 410 005e 3046     		mov	r0, r6
 411 0060 FFF7FEFF 		bl	HAL_DAC_SetValue
 412              	.LVL34:
 173:Core/Src/mainLoop.c ****   // HAL_UART_Receive_IT(UART_HandleTypeDef *huart, uint8_t *pData, uint16_t
 174:Core/Src/mainLoop.c ****   // Size)
 175:Core/Src/mainLoop.c ****   HAL_UART_Receive_IT(&huart2, (uint8_t *)(buf), 1);
 413              		.loc 1 175 3 is_stmt 1 view .LVU93
 414 0064 0122     		movs	r2, #1
 415 0066 4649     		ldr	r1, .L31+48
 416 0068 4648     		ldr	r0, .L31+52
 417 006a FFF7FEFF 		bl	HAL_UART_Receive_IT
 418              	.LVL35:
 176:Core/Src/mainLoop.c ****   init_ad9520();
 419              		.loc 1 176 3 view .LVU94
 420 006e FFF7FEFF 		bl	init_ad9520
 421              	.LVL36:
 177:Core/Src/mainLoop.c ****   enable_tim4_capture_Iterrupt();
 422              		.loc 1 177 3 view .LVU95
 423 0072 FFF7FEFF 		bl	enable_tim4_capture_Iterrupt
 424              	.LVL37:
 178:Core/Src/mainLoop.c ****   while (1) {
 425              		.loc 1 178 3 view .LVU96
 179:Core/Src/mainLoop.c ****     // do{
 180:Core/Src/mainLoop.c **** 
 181:Core/Src/mainLoop.c ****     // }while(0);
 182:Core/Src/mainLoop.c **** 
 183:Core/Src/mainLoop.c ****     i++;
 426              		.loc 1 183 5 view .LVU97
 427              		.loc 1 183 6 is_stmt 0 view .LVU98
 428 0076 444A     		ldr	r2, .L31+56
 429 0078 1368     		ldr	r3, [r2]
 430 007a 0133     		adds	r3, r3, #1
 431 007c 1360     		str	r3, [r2]
 184:Core/Src/mainLoop.c **** 
 185:Core/Src/mainLoop.c ****     // HAL_DAC_SetValue(DAC_HandleTypeDef* hdac, uint32_t Channel, uint32_t
 186:Core/Src/mainLoop.c ****     // Alignment, uint32_t Data)
 187:Core/Src/mainLoop.c **** 
 188:Core/Src/mainLoop.c ****     // HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, i++);
 189:Core/Src/mainLoop.c ****     // init_ad9520();
 190:Core/Src/mainLoop.c ****     // set_ad9520_device();
 191:Core/Src/mainLoop.c ****     // HAL_GPIO_TogglePin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin)
 192:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 432              		.loc 1 192 5 is_stmt 1 view .LVU99
 433 007e 434E     		ldr	r6, .L31+60
 434 0080 4FF40061 		mov	r1, #2048
 435 0084 3046     		mov	r0, r6
 436 0086 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 437              	.LVL38:
 193:Core/Src/mainLoop.c ****     HAL_Delay(3);
ARM GAS  /tmp/ccFJCU99.s 			page 12


 438              		.loc 1 193 5 view .LVU100
 439 008a 0320     		movs	r0, #3
 440 008c FFF7FEFF 		bl	HAL_Delay
 441              	.LVL39:
 194:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 442              		.loc 1 194 5 view .LVU101
 443 0090 4FF48051 		mov	r1, #4096
 444 0094 3046     		mov	r0, r6
 445 0096 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 446              	.LVL40:
 195:Core/Src/mainLoop.c ****     HAL_Delay(300);
 447              		.loc 1 195 5 view .LVU102
 448 009a 4FF49670 		mov	r0, #300
 449 009e FFF7FEFF 		bl	HAL_Delay
 450              	.LVL41:
 196:Core/Src/mainLoop.c ****     check_ad9520_status();
 451              		.loc 1 196 5 view .LVU103
 452 00a2 FFF7FEFF 		bl	check_ad9520_status
 453              	.LVL42:
 197:Core/Src/mainLoop.c ****     // printf("hello world %ld:float %f\n",i,f*i);
 198:Core/Src/mainLoop.c ****     fre_dif = chanl1_capNum - chanl2_capNum;
 454              		.loc 1 198 5 view .LVU104
 455              		.loc 1 198 29 is_stmt 0 view .LVU105
 456 00a6 3A4B     		ldr	r3, .L31+64
 457 00a8 3A4A     		ldr	r2, .L31+68
 458 00aa 9B1A     		subs	r3, r3, r2
 459 00ac 9B10     		asrs	r3, r3, #2
 460              		.loc 1 198 13 view .LVU106
 461 00ae 2B60     		str	r3, [r5]
 462 00b0 1FE0     		b	.L27
 463              	.LVL43:
 464              	.L29:
 199:Core/Src/mainLoop.c **** 
 200:Core/Src/mainLoop.c ****     while (1) {
 201:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 202:Core/Src/mainLoop.c ****       //   chanl1_completed=0;
 203:Core/Src/mainLoop.c ****       //   transform_capNum_to_xNum((uint32_t *)(&chanl1_capNum[2]),
 204:Core/Src/mainLoop.c ****       //   chanl1_xNum, CAPNUM); average_xNum1 =
 205:Core/Src/mainLoop.c ****       //   (float)cal_average_xNum(chanl1_xNum, CAPNUM);
 206:Core/Src/mainLoop.c ****       //   //HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_1,
 207:Core/Src/mainLoop.c ****       //   (uint32_t*)chanl1_capNum, CAPNUM);
 208:Core/Src/mainLoop.c **** 
 209:Core/Src/mainLoop.c ****       //   break;
 210:Core/Src/mainLoop.c ****       // }else if(chanl2_completed==1){
 211:Core/Src/mainLoop.c ****       //   chanl2_completed=0;
 212:Core/Src/mainLoop.c ****       //   //HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_2,
 213:Core/Src/mainLoop.c ****       //   (uint32_t*)chanl2_capNum, CAPNUM); break;
 214:Core/Src/mainLoop.c ****       // }
 215:Core/Src/mainLoop.c ****       generateSinWave(dacN % SAMPLE_RATE);
 216:Core/Src/mainLoop.c ****       max5307_w_chanel(max_ch1, round(tmp), max_outenable);
 217:Core/Src/mainLoop.c ****       max5307_w_chanel(DACP_1, round(tmp), max_outenable);
 218:Core/Src/mainLoop.c ****       dacN = dacN + dacSign;
 219:Core/Src/mainLoop.c ****       if (v_dianya > 1) {
 220:Core/Src/mainLoop.c ****         v_dianya = 0;
 221:Core/Src/mainLoop.c ****       } else {
 222:Core/Src/mainLoop.c ****         v_dianya = 3.3;
 465              		.loc 1 222 9 is_stmt 1 view .LVU107
ARM GAS  /tmp/ccFJCU99.s 			page 13


 466              		.loc 1 222 18 is_stmt 0 view .LVU108
 467 00b2 2F4B     		ldr	r3, .L31+32
 468 00b4 384A     		ldr	r2, .L31+72
 469 00b6 1A60     		str	r2, [r3]	@ float
 470              	.L26:
 223:Core/Src/mainLoop.c ****       }
 224:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 471              		.loc 1 224 7 is_stmt 1 view .LVU109
 225:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 472              		.loc 1 225 45 is_stmt 0 view .LVU110
 473 00b8 2D4B     		ldr	r3, .L31+32
 474 00ba 1868     		ldr	r0, [r3]	@ float
 475 00bc FFF7FEFF 		bl	__aeabi_f2d
 476              	.LVL44:
 477 00c0 23A3     		adr	r3, .L31
 478 00c2 D3E90023 		ldrd	r2, [r3]
 479 00c6 FFF7FEFF 		bl	__aeabi_ddiv
 480              	.LVL45:
 481              		.loc 1 225 52 view .LVU111
 482 00ca 0022     		movs	r2, #0
 483 00cc 2B4B     		ldr	r3, .L31+44
 484 00ce FFF7FEFF 		bl	__aeabi_dmul
 485              	.LVL46:
 224:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 486              		.loc 1 224 7 view .LVU112
 487 00d2 FFF7FEFF 		bl	__aeabi_d2uiz
 488              	.LVL47:
 489 00d6 0346     		mov	r3, r0
 490 00d8 0022     		movs	r2, #0
 491 00da 1146     		mov	r1, r2
 492 00dc 2648     		ldr	r0, .L31+40
 493 00de FFF7FEFF 		bl	HAL_DAC_SetValue
 494              	.LVL48:
 226:Core/Src/mainLoop.c ****       HAL_Delay(100);
 495              		.loc 1 226 7 is_stmt 1 view .LVU113
 496 00e2 6420     		movs	r0, #100
 497 00e4 FFF7FEFF 		bl	HAL_Delay
 498              	.LVL49:
 227:Core/Src/mainLoop.c ****       HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 499              		.loc 1 227 7 view .LVU114
 500 00e8 4FF48051 		mov	r1, #4096
 501 00ec 2748     		ldr	r0, .L31+60
 502 00ee FFF7FEFF 		bl	HAL_GPIO_TogglePin
 503              	.LVL50:
 200:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 504              		.loc 1 200 11 view .LVU115
 505              	.L27:
 200:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 506              		.loc 1 200 5 view .LVU116
 215:Core/Src/mainLoop.c ****       max5307_w_chanel(max_ch1, round(tmp), max_outenable);
 507              		.loc 1 215 7 view .LVU117
 508 00f2 C4F30B00 		ubfx	r0, r4, #0, #12
 509 00f6 FFF7FEFF 		bl	generateSinWave
 510              	.LVL51:
 216:Core/Src/mainLoop.c ****       max5307_w_chanel(DACP_1, round(tmp), max_outenable);
 511              		.loc 1 216 7 view .LVU118
 216:Core/Src/mainLoop.c ****       max5307_w_chanel(DACP_1, round(tmp), max_outenable);
ARM GAS  /tmp/ccFJCU99.s 			page 14


 512              		.loc 1 216 33 is_stmt 0 view .LVU119
 513 00fa 284D     		ldr	r5, .L31+76
 514 00fc 95ED000B 		vldr.64	d0, [r5]
 515 0100 FFF7FEFF 		bl	round
 516              	.LVL52:
 517 0104 51EC100B 		vmov	r0, r1, d0
 216:Core/Src/mainLoop.c ****       max5307_w_chanel(DACP_1, round(tmp), max_outenable);
 518              		.loc 1 216 7 view .LVU120
 519 0108 FFF7FEFF 		bl	__aeabi_d2uiz
 520              	.LVL53:
 521 010c 0146     		mov	r1, r0
 522 010e 0122     		movs	r2, #1
 523 0110 0220     		movs	r0, #2
 524 0112 FFF7FEFF 		bl	max5307_w_chanel
 525              	.LVL54:
 217:Core/Src/mainLoop.c ****       dacN = dacN + dacSign;
 526              		.loc 1 217 7 is_stmt 1 view .LVU121
 217:Core/Src/mainLoop.c ****       dacN = dacN + dacSign;
 527              		.loc 1 217 32 is_stmt 0 view .LVU122
 528 0116 95ED000B 		vldr.64	d0, [r5]
 529 011a FFF7FEFF 		bl	round
 530              	.LVL55:
 531 011e 51EC100B 		vmov	r0, r1, d0
 217:Core/Src/mainLoop.c ****       dacN = dacN + dacSign;
 532              		.loc 1 217 7 view .LVU123
 533 0122 FFF7FEFF 		bl	__aeabi_d2uiz
 534              	.LVL56:
 535 0126 0146     		mov	r1, r0
 536 0128 0122     		movs	r2, #1
 537 012a 0620     		movs	r0, #6
 538 012c FFF7FEFF 		bl	max5307_w_chanel
 539              	.LVL57:
 218:Core/Src/mainLoop.c ****       if (v_dianya > 1) {
 540              		.loc 1 218 7 is_stmt 1 view .LVU124
 218:Core/Src/mainLoop.c ****       if (v_dianya > 1) {
 541              		.loc 1 218 12 is_stmt 0 view .LVU125
 542 0130 0134     		adds	r4, r4, #1
 543              	.LVL58:
 219:Core/Src/mainLoop.c ****         v_dianya = 0;
 544              		.loc 1 219 7 is_stmt 1 view .LVU126
 219:Core/Src/mainLoop.c ****         v_dianya = 0;
 545              		.loc 1 219 20 is_stmt 0 view .LVU127
 546 0132 0F4B     		ldr	r3, .L31+32
 547 0134 93ED007A 		vldr.32	s14, [r3]
 219:Core/Src/mainLoop.c ****         v_dianya = 0;
 548              		.loc 1 219 10 view .LVU128
 549 0138 F7EE007A 		vmov.f32	s15, #1.0e+0
 550 013c B4EEE77A 		vcmpe.f32	s14, s15
 551 0140 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 552 0144 B5DD     		ble	.L29
 220:Core/Src/mainLoop.c ****       } else {
 553              		.loc 1 220 9 is_stmt 1 view .LVU129
 220:Core/Src/mainLoop.c ****       } else {
 554              		.loc 1 220 18 is_stmt 0 view .LVU130
 555 0146 0022     		movs	r2, #0
 556 0148 1A60     		str	r2, [r3]	@ float
 557 014a B5E7     		b	.L26
ARM GAS  /tmp/ccFJCU99.s 			page 15


 558              	.L32:
 559 014c AFF30080 		.align	3
 560              	.L31:
 561 0150 66666666 		.word	1717986918
 562 0154 66660A40 		.word	1074423398
 563 0158 00000000 		.word	complete_sign
 564 015c 00000000 		.word	xx
 565 0160 00000000 		.word	yy
 566 0164 00000000 		.word	.LANCHOR0
 567 0168 00000000 		.word	xx_cnt
 568 016c 00000000 		.word	yy_cnt
 569 0170 00000000 		.word	v_dianya
 570 0174 3333D33F 		.word	1070805811
 571 0178 00000000 		.word	hdac
 572 017c 0000B040 		.word	1085276160
 573 0180 00000000 		.word	buf
 574 0184 00000000 		.word	huart2
 575 0188 00000000 		.word	.LANCHOR1
 576 018c 00080240 		.word	1073874944
 577 0190 00000000 		.word	chanl1_capNum
 578 0194 00000000 		.word	chanl2_capNum
 579 0198 33335340 		.word	1079194419
 580 019c 00000000 		.word	tmp
 581              		.cfi_endproc
 582              	.LFE138:
 584              		.section	.text.HAL_TIM_IC_CaptureCallback,"ax",%progbits
 585              		.align	1
 586              		.global	HAL_TIM_IC_CaptureCallback
 587              		.syntax unified
 588              		.thumb
 589              		.thumb_func
 590              		.fpu fpv4-sp-d16
 592              	HAL_TIM_IC_CaptureCallback:
 593              	.LVL59:
 594              	.LFB139:
 228:Core/Src/mainLoop.c ****       // check_ad9520_status();
 229:Core/Src/mainLoop.c ****     }
 230:Core/Src/mainLoop.c **** 
 231:Core/Src/mainLoop.c ****     while (complete_sign == 0) {
 232:Core/Src/mainLoop.c ****       HAL_Delay(3);
 233:Core/Src/mainLoop.c ****     };
 234:Core/Src/mainLoop.c ****     complete_sign = 0;
 235:Core/Src/mainLoop.c ****     // fre_dif=chanl1_midx - chanl2_midx;
 236:Core/Src/mainLoop.c ****     // printf("%ld = %ld - %ld \n",fre_dif,xx,yy);
 237:Core/Src/mainLoop.c ****     // printf("cha1=%ld,cha2=%ld\n",xx-xx_bak,yy-yy_bak);
 238:Core/Src/mainLoop.c ****     xx_bak = xx;
 239:Core/Src/mainLoop.c ****     yy_bak = yy;
 240:Core/Src/mainLoop.c **** 
 241:Core/Src/mainLoop.c ****     HAL_Delay(2);
 242:Core/Src/mainLoop.c ****   }
 243:Core/Src/mainLoop.c **** }
 244:Core/Src/mainLoop.c **** 
 245:Core/Src/mainLoop.c **** void HAL_TIM_IC_CaptureCallback(TIM_HandleTypeDef *htim) {
 595              		.loc 1 245 58 is_stmt 1 view -0
 596              		.cfi_startproc
 597              		@ args = 0, pretend = 0, frame = 0
 598              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccFJCU99.s 			page 16


 599              		@ link register save eliminated.
 246:Core/Src/mainLoop.c ****   if (htim->Instance == TIM4) {
 600              		.loc 1 246 3 view .LVU132
 601              		.loc 1 246 11 is_stmt 0 view .LVU133
 602 0000 0368     		ldr	r3, [r0]
 603              		.loc 1 246 6 view .LVU134
 604 0002 104A     		ldr	r2, .L40
 605 0004 9342     		cmp	r3, r2
 606 0006 03D0     		beq	.L37
 247:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1) {
 248:Core/Src/mainLoop.c ****       // chanl1_capNum++;
 249:Core/Src/mainLoop.c ****       // chanl2_capNum = TIM4->CCR1;
 250:Core/Src/mainLoop.c ****       // xx = TIM4->CCR1;
 251:Core/Src/mainLoop.c ****       // for(i=1;i<CAPNUM;i++){
 252:Core/Src/mainLoop.c ****       //   chanl1_capNum[i-1]=chanl1_capNum[i]-chanl1_capNum[i-1];
 253:Core/Src/mainLoop.c ****       // }
 254:Core/Src/mainLoop.c ****       // yy = TIM4->CCR2;
 255:Core/Src/mainLoop.c ****       // chanl1_completed=1;
 256:Core/Src/mainLoop.c ****       chanl1_midx = chanl1_capNum[CAPNUM / 2 - 2] & 0xffff;
 257:Core/Src/mainLoop.c ****       // chanl2_midx = TIM4->CCR2;
 258:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_1;
 259:Core/Src/mainLoop.c ****     }
 260:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_2) {
 261:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 262:Core/Src/mainLoop.c ****       chanl2_midx = chanl2_capNum[CAPNUM / 2 - 2] & 0xffff;
 263:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 264:Core/Src/mainLoop.c ****     }
 265:Core/Src/mainLoop.c ****   } else if (htim->Instance == TIM1) {
 607              		.loc 1 265 10 is_stmt 1 view .LVU135
 608              		.loc 1 265 13 is_stmt 0 view .LVU136
 609 0008 0F4A     		ldr	r2, .L40+4
 610 000a 9342     		cmp	r3, r2
 611 000c 11D0     		beq	.L38
 612              	.L33:
 266:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_4) {
 267:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 268:Core/Src/mainLoop.c ****       chanl1_midx = chanl1_capNum[CAPNUM / 2 - 2] & 0xffff;
 269:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 270:Core/Src/mainLoop.c ****     }
 271:Core/Src/mainLoop.c ****   }
 272:Core/Src/mainLoop.c **** }
 613              		.loc 1 272 1 view .LVU137
 614 000e 7047     		bx	lr
 615              	.L37:
 247:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1) {
 616              		.loc 1 247 5 is_stmt 1 view .LVU138
 247:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1) {
 617              		.loc 1 247 13 is_stmt 0 view .LVU139
 618 0010 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 247:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1) {
 619              		.loc 1 247 8 view .LVU140
 620 0012 012B     		cmp	r3, #1
 621 0014 07D0     		beq	.L39
 622              	.L35:
 260:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 623              		.loc 1 260 5 is_stmt 1 view .LVU141
 260:Core/Src/mainLoop.c ****       // chanl2_capNum++;
ARM GAS  /tmp/ccFJCU99.s 			page 17


 624              		.loc 1 260 8 is_stmt 0 view .LVU142
 625 0016 022B     		cmp	r3, #2
 626 0018 F9D1     		bne	.L33
 262:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 627              		.loc 1 262 7 is_stmt 1 view .LVU143
 262:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 628              		.loc 1 262 51 is_stmt 0 view .LVU144
 629 001a 0C4B     		ldr	r3, .L40+8
 630 001c B3F8C020 		ldrh	r2, [r3, #192]
 262:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 631              		.loc 1 262 19 view .LVU145
 632 0020 0B4B     		ldr	r3, .L40+12
 633 0022 1A60     		str	r2, [r3]
 634 0024 7047     		bx	lr
 635              	.L39:
 256:Core/Src/mainLoop.c ****       // chanl2_midx = TIM4->CCR2;
 636              		.loc 1 256 7 is_stmt 1 view .LVU146
 256:Core/Src/mainLoop.c ****       // chanl2_midx = TIM4->CCR2;
 637              		.loc 1 256 51 is_stmt 0 view .LVU147
 638 0026 0B4A     		ldr	r2, .L40+16
 639 0028 B2F8C010 		ldrh	r1, [r2, #192]
 256:Core/Src/mainLoop.c ****       // chanl2_midx = TIM4->CCR2;
 640              		.loc 1 256 19 view .LVU148
 641 002c 0A4A     		ldr	r2, .L40+20
 642 002e 1160     		str	r1, [r2]
 643 0030 F1E7     		b	.L35
 644              	.L38:
 266:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 645              		.loc 1 266 5 is_stmt 1 view .LVU149
 266:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 646              		.loc 1 266 13 is_stmt 0 view .LVU150
 647 0032 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 266:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 648              		.loc 1 266 8 view .LVU151
 649 0034 082B     		cmp	r3, #8
 650 0036 EAD1     		bne	.L33
 268:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 651              		.loc 1 268 7 is_stmt 1 view .LVU152
 268:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 652              		.loc 1 268 51 is_stmt 0 view .LVU153
 653 0038 064B     		ldr	r3, .L40+16
 654 003a B3F8C020 		ldrh	r2, [r3, #192]
 268:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 655              		.loc 1 268 19 view .LVU154
 656 003e 064B     		ldr	r3, .L40+20
 657 0040 1A60     		str	r2, [r3]
 658              		.loc 1 272 1 view .LVU155
 659 0042 E4E7     		b	.L33
 660              	.L41:
 661              		.align	2
 662              	.L40:
 663 0044 00080040 		.word	1073743872
 664 0048 00000140 		.word	1073807360
 665 004c 00000000 		.word	chanl2_capNum
 666 0050 00000000 		.word	.LANCHOR3
 667 0054 00000000 		.word	chanl1_capNum
 668 0058 00000000 		.word	.LANCHOR2
ARM GAS  /tmp/ccFJCU99.s 			page 18


 669              		.cfi_endproc
 670              	.LFE139:
 672              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 673              		.align	1
 674              		.global	HAL_TIM_PeriodElapsedCallback
 675              		.syntax unified
 676              		.thumb
 677              		.thumb_func
 678              		.fpu fpv4-sp-d16
 680              	HAL_TIM_PeriodElapsedCallback:
 681              	.LVL60:
 682              	.LFB140:
 273:Core/Src/mainLoop.c **** 
 274:Core/Src/mainLoop.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim) {
 683              		.loc 1 274 61 is_stmt 1 view -0
 684              		.cfi_startproc
 685              		@ args = 0, pretend = 0, frame = 0
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 687              		.loc 1 274 61 is_stmt 0 view .LVU157
 688 0000 08B5     		push	{r3, lr}
 689              	.LCFI8:
 690              		.cfi_def_cfa_offset 8
 691              		.cfi_offset 3, -8
 692              		.cfi_offset 14, -4
 275:Core/Src/mainLoop.c ****   // htim4.Init.Period = 65535; 1ms ÂÆöÊó∂
 276:Core/Src/mainLoop.c ****   //  if(htim == &htim4){
 277:Core/Src/mainLoop.c ****   //    HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 278:Core/Src/mainLoop.c ****   //    xx= HAL_TIM_ReadCapturedValue(&htim4, TIM_CHANNEL_1);
 279:Core/Src/mainLoop.c **** 
 280:Core/Src/mainLoop.c ****   //   yy = TIM4->CCR2;
 281:Core/Src/mainLoop.c ****   //   //TIM4->CCR1=0;
 282:Core/Src/mainLoop.c ****   //   //TIM4->CCR2=0;
 283:Core/Src/mainLoop.c ****   //   fre_dif = xx - yy;
 284:Core/Src/mainLoop.c ****   // }
 285:Core/Src/mainLoop.c ****   if (htim == &htim5) {
 693              		.loc 1 285 3 is_stmt 1 view .LVU158
 694              		.loc 1 285 6 is_stmt 0 view .LVU159
 695 0002 0C4B     		ldr	r3, .L46
 696 0004 8342     		cmp	r3, r0
 697 0006 00D0     		beq	.L45
 698              	.LVL61:
 699              	.L42:
 286:Core/Src/mainLoop.c ****     xx = TIM4->CNT;
 287:Core/Src/mainLoop.c ****     // yy = TIM4->CCR2;
 288:Core/Src/mainLoop.c ****     yy = TIM1->CNT;
 289:Core/Src/mainLoop.c ****     fre_dif = xx - yy;
 290:Core/Src/mainLoop.c ****     complete_sign = 1;
 291:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 292:Core/Src/mainLoop.c ****   }
 293:Core/Src/mainLoop.c ****   // if(htim == &htim1){
 294:Core/Src/mainLoop.c ****   //   xx_cnt++;
 295:Core/Src/mainLoop.c ****   // }
 296:Core/Src/mainLoop.c ****   // if(htim == &htim4){
 297:Core/Src/mainLoop.c ****   //   yy_cnt++;
 298:Core/Src/mainLoop.c ****   // }
 299:Core/Src/mainLoop.c **** }
 700              		.loc 1 299 1 view .LVU160
ARM GAS  /tmp/ccFJCU99.s 			page 19


 701 0008 08BD     		pop	{r3, pc}
 702              	.LVL62:
 703              	.L45:
 286:Core/Src/mainLoop.c ****     xx = TIM4->CNT;
 704              		.loc 1 286 5 is_stmt 1 view .LVU161
 286:Core/Src/mainLoop.c ****     xx = TIM4->CNT;
 705              		.loc 1 286 14 is_stmt 0 view .LVU162
 706 000a 0B4B     		ldr	r3, .L46+4
 707 000c 5B6A     		ldr	r3, [r3, #36]
 286:Core/Src/mainLoop.c ****     xx = TIM4->CNT;
 708              		.loc 1 286 8 view .LVU163
 709 000e 0B4A     		ldr	r2, .L46+8
 710 0010 1360     		str	r3, [r2]
 288:Core/Src/mainLoop.c ****     fre_dif = xx - yy;
 711              		.loc 1 288 5 is_stmt 1 view .LVU164
 288:Core/Src/mainLoop.c ****     fre_dif = xx - yy;
 712              		.loc 1 288 14 is_stmt 0 view .LVU165
 713 0012 0B4A     		ldr	r2, .L46+12
 714 0014 526A     		ldr	r2, [r2, #36]
 288:Core/Src/mainLoop.c ****     fre_dif = xx - yy;
 715              		.loc 1 288 8 view .LVU166
 716 0016 0B49     		ldr	r1, .L46+16
 717 0018 0A60     		str	r2, [r1]
 289:Core/Src/mainLoop.c ****     complete_sign = 1;
 718              		.loc 1 289 5 is_stmt 1 view .LVU167
 289:Core/Src/mainLoop.c ****     complete_sign = 1;
 719              		.loc 1 289 18 is_stmt 0 view .LVU168
 720 001a 9B1A     		subs	r3, r3, r2
 289:Core/Src/mainLoop.c ****     complete_sign = 1;
 721              		.loc 1 289 13 view .LVU169
 722 001c 0A4A     		ldr	r2, .L46+20
 723 001e 1360     		str	r3, [r2]
 290:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 724              		.loc 1 290 5 is_stmt 1 view .LVU170
 290:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 725              		.loc 1 290 19 is_stmt 0 view .LVU171
 726 0020 0A4B     		ldr	r3, .L46+24
 727 0022 0122     		movs	r2, #1
 728 0024 1A60     		str	r2, [r3]
 291:Core/Src/mainLoop.c ****   }
 729              		.loc 1 291 5 is_stmt 1 view .LVU172
 730 0026 4FF40061 		mov	r1, #2048
 731 002a 0948     		ldr	r0, .L46+28
 732              	.LVL63:
 291:Core/Src/mainLoop.c ****   }
 733              		.loc 1 291 5 is_stmt 0 view .LVU173
 734 002c FFF7FEFF 		bl	HAL_GPIO_TogglePin
 735              	.LVL64:
 736              		.loc 1 299 1 view .LVU174
 737 0030 EAE7     		b	.L42
 738              	.L47:
 739 0032 00BF     		.align	2
 740              	.L46:
 741 0034 00000000 		.word	htim5
 742 0038 00080040 		.word	1073743872
 743 003c 00000000 		.word	xx
 744 0040 00000140 		.word	1073807360
ARM GAS  /tmp/ccFJCU99.s 			page 20


 745 0044 00000000 		.word	yy
 746 0048 00000000 		.word	.LANCHOR0
 747 004c 00000000 		.word	complete_sign
 748 0050 00080240 		.word	1073874944
 749              		.cfi_endproc
 750              	.LFE140:
 752              		.global	__aeabi_d2f
 753              		.global	__aeabi_dsub
 754              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 755              		.align	1
 756              		.global	HAL_UART_RxCpltCallback
 757              		.syntax unified
 758              		.thumb
 759              		.thumb_func
 760              		.fpu fpv4-sp-d16
 762              	HAL_UART_RxCpltCallback:
 763              	.LVL65:
 764              	.LFB141:
 300:Core/Src/mainLoop.c **** 
 301:Core/Src/mainLoop.c **** // void HAL_GPIO_EXTI_Callback( uint16_t GPIO_Pin)
 302:Core/Src/mainLoop.c **** // {
 303:Core/Src/mainLoop.c **** // 	if(GPIO_Pin == capture_sig_it_Pin){
 304:Core/Src/mainLoop.c **** // 	   //This block will be triggered after pin activated.
 305:Core/Src/mainLoop.c **** //      chanl2_capNum++;
 306:Core/Src/mainLoop.c **** // 	}
 307:Core/Src/mainLoop.c **** // }
 308:Core/Src/mainLoop.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart) {
 765              		.loc 1 308 57 is_stmt 1 view -0
 766              		.cfi_startproc
 767              		@ args = 0, pretend = 0, frame = 0
 768              		@ frame_needed = 0, uses_anonymous_args = 0
 309:Core/Src/mainLoop.c ****   if (huart == &huart2) {
 769              		.loc 1 309 3 view .LVU176
 770              		.loc 1 309 6 is_stmt 0 view .LVU177
 771 0000 514B     		ldr	r3, .L63+24
 772 0002 8342     		cmp	r3, r0
 773 0004 00D0     		beq	.L58
 774 0006 7047     		bx	lr
 775              	.L58:
 308:Core/Src/mainLoop.c ****   if (huart == &huart2) {
 776              		.loc 1 308 57 view .LVU178
 777 0008 10B5     		push	{r4, lr}
 778              	.LCFI9:
 779              		.cfi_def_cfa_offset 8
 780              		.cfi_offset 4, -8
 781              		.cfi_offset 14, -4
 310:Core/Src/mainLoop.c ****     // xx++;
 311:Core/Src/mainLoop.c ****     // uint8_t tmp = (uint16_t)(huart->Instance->DR & (uint16_t)0x01FF);
 312:Core/Src/mainLoop.c ****     if (buf[0] == 'u') {
 782              		.loc 1 312 5 is_stmt 1 view .LVU179
 783              		.loc 1 312 12 is_stmt 0 view .LVU180
 784 000a 504B     		ldr	r3, .L63+28
 785 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 786              		.loc 1 312 8 view .LVU181
 787 000e 752B     		cmp	r3, #117
 788 0010 0BD0     		beq	.L59
 313:Core/Src/mainLoop.c ****       // HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
ARM GAS  /tmp/ccFJCU99.s 			page 21


 314:Core/Src/mainLoop.c ****       v_dianya += 0.1;
 315:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 316:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 317:Core/Src/mainLoop.c ****     } else if (buf[0] == 'd') {
 789              		.loc 1 317 12 is_stmt 1 view .LVU182
 790              		.loc 1 317 15 is_stmt 0 view .LVU183
 791 0012 642B     		cmp	r3, #100
 792 0014 29D0     		beq	.L60
 318:Core/Src/mainLoop.c ****       // HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 319:Core/Src/mainLoop.c ****       v_dianya -= 0.1;
 320:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 321:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 322:Core/Src/mainLoop.c ****     } else if (buf[0] == 'r') {
 793              		.loc 1 322 12 is_stmt 1 view .LVU184
 794              		.loc 1 322 15 is_stmt 0 view .LVU185
 795 0016 722B     		cmp	r3, #114
 796 0018 47D0     		beq	.L61
 323:Core/Src/mainLoop.c ****       v_dianya += 0.01;
 324:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 325:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 326:Core/Src/mainLoop.c ****     } else if (buf[0] == 'x') {
 797              		.loc 1 326 12 is_stmt 1 view .LVU186
 798              		.loc 1 326 15 is_stmt 0 view .LVU187
 799 001a 782B     		cmp	r3, #120
 800 001c 65D0     		beq	.L62
 801              	.LVL66:
 802              	.L51:
 327:Core/Src/mainLoop.c ****       v_dianya -= 0.01;
 328:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 329:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 330:Core/Src/mainLoop.c ****     }
 331:Core/Src/mainLoop.c ****     HAL_UART_Receive_IT(&huart2, (uint8_t *)(buf), 1);
 803              		.loc 1 331 5 is_stmt 1 view .LVU188
 804 001e 0122     		movs	r2, #1
 805 0020 4A49     		ldr	r1, .L63+28
 806 0022 4948     		ldr	r0, .L63+24
 807 0024 FFF7FEFF 		bl	HAL_UART_Receive_IT
 808              	.LVL67:
 332:Core/Src/mainLoop.c ****   }
 333:Core/Src/mainLoop.c **** }
 809              		.loc 1 333 1 is_stmt 0 view .LVU189
 810 0028 10BD     		pop	{r4, pc}
 811              	.LVL68:
 812              	.L59:
 314:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 813              		.loc 1 314 7 is_stmt 1 view .LVU190
 314:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 814              		.loc 1 314 16 is_stmt 0 view .LVU191
 815 002a 494C     		ldr	r4, .L63+32
 816 002c 2068     		ldr	r0, [r4]	@ float
 817              	.LVL69:
 314:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 818              		.loc 1 314 16 view .LVU192
 819 002e FFF7FEFF 		bl	__aeabi_f2d
 820              	.LVL70:
 821 0032 3FA3     		adr	r3, .L63
 822 0034 D3E90023 		ldrd	r2, [r3]
ARM GAS  /tmp/ccFJCU99.s 			page 22


 823 0038 FFF7FEFF 		bl	__aeabi_dadd
 824              	.LVL71:
 825 003c FFF7FEFF 		bl	__aeabi_d2f
 826              	.LVL72:
 827 0040 2060     		str	r0, [r4]	@ float
 315:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 828              		.loc 1 315 7 is_stmt 1 view .LVU193
 316:Core/Src/mainLoop.c ****     } else if (buf[0] == 'd') {
 829              		.loc 1 316 45 is_stmt 0 view .LVU194
 830 0042 FFF7FEFF 		bl	__aeabi_f2d
 831              	.LVL73:
 832 0046 3CA3     		adr	r3, .L63+8
 833 0048 D3E90023 		ldrd	r2, [r3]
 834 004c FFF7FEFF 		bl	__aeabi_ddiv
 835              	.LVL74:
 316:Core/Src/mainLoop.c ****     } else if (buf[0] == 'd') {
 836              		.loc 1 316 52 view .LVU195
 837 0050 0022     		movs	r2, #0
 838 0052 404B     		ldr	r3, .L63+36
 839 0054 FFF7FEFF 		bl	__aeabi_dmul
 840              	.LVL75:
 315:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 841              		.loc 1 315 7 view .LVU196
 842 0058 FFF7FEFF 		bl	__aeabi_d2uiz
 843              	.LVL76:
 844 005c 0346     		mov	r3, r0
 845 005e 0022     		movs	r2, #0
 846 0060 1146     		mov	r1, r2
 847 0062 3D48     		ldr	r0, .L63+40
 848 0064 FFF7FEFF 		bl	HAL_DAC_SetValue
 849              	.LVL77:
 850 0068 D9E7     		b	.L51
 851              	.LVL78:
 852              	.L60:
 319:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 853              		.loc 1 319 7 is_stmt 1 view .LVU197
 319:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 854              		.loc 1 319 16 is_stmt 0 view .LVU198
 855 006a 394C     		ldr	r4, .L63+32
 856 006c 2068     		ldr	r0, [r4]	@ float
 857              	.LVL79:
 319:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 858              		.loc 1 319 16 view .LVU199
 859 006e FFF7FEFF 		bl	__aeabi_f2d
 860              	.LVL80:
 861 0072 2FA3     		adr	r3, .L63
 862 0074 D3E90023 		ldrd	r2, [r3]
 863 0078 FFF7FEFF 		bl	__aeabi_dsub
 864              	.LVL81:
 865 007c FFF7FEFF 		bl	__aeabi_d2f
 866              	.LVL82:
 867 0080 2060     		str	r0, [r4]	@ float
 320:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 868              		.loc 1 320 7 is_stmt 1 view .LVU200
 321:Core/Src/mainLoop.c ****     } else if (buf[0] == 'r') {
 869              		.loc 1 321 45 is_stmt 0 view .LVU201
 870 0082 FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  /tmp/ccFJCU99.s 			page 23


 871              	.LVL83:
 872 0086 2CA3     		adr	r3, .L63+8
 873 0088 D3E90023 		ldrd	r2, [r3]
 874 008c FFF7FEFF 		bl	__aeabi_ddiv
 875              	.LVL84:
 321:Core/Src/mainLoop.c ****     } else if (buf[0] == 'r') {
 876              		.loc 1 321 52 view .LVU202
 877 0090 0022     		movs	r2, #0
 878 0092 304B     		ldr	r3, .L63+36
 879 0094 FFF7FEFF 		bl	__aeabi_dmul
 880              	.LVL85:
 320:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 881              		.loc 1 320 7 view .LVU203
 882 0098 FFF7FEFF 		bl	__aeabi_d2uiz
 883              	.LVL86:
 884 009c 0346     		mov	r3, r0
 885 009e 0022     		movs	r2, #0
 886 00a0 1146     		mov	r1, r2
 887 00a2 2D48     		ldr	r0, .L63+40
 888 00a4 FFF7FEFF 		bl	HAL_DAC_SetValue
 889              	.LVL87:
 890 00a8 B9E7     		b	.L51
 891              	.LVL88:
 892              	.L61:
 323:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 893              		.loc 1 323 7 is_stmt 1 view .LVU204
 323:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 894              		.loc 1 323 16 is_stmt 0 view .LVU205
 895 00aa 294C     		ldr	r4, .L63+32
 896 00ac 2068     		ldr	r0, [r4]	@ float
 897              	.LVL89:
 323:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 898              		.loc 1 323 16 view .LVU206
 899 00ae FFF7FEFF 		bl	__aeabi_f2d
 900              	.LVL90:
 901 00b2 23A3     		adr	r3, .L63+16
 902 00b4 D3E90023 		ldrd	r2, [r3]
 903 00b8 FFF7FEFF 		bl	__aeabi_dadd
 904              	.LVL91:
 905 00bc FFF7FEFF 		bl	__aeabi_d2f
 906              	.LVL92:
 907 00c0 2060     		str	r0, [r4]	@ float
 324:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 908              		.loc 1 324 7 is_stmt 1 view .LVU207
 325:Core/Src/mainLoop.c ****     } else if (buf[0] == 'x') {
 909              		.loc 1 325 45 is_stmt 0 view .LVU208
 910 00c2 FFF7FEFF 		bl	__aeabi_f2d
 911              	.LVL93:
 912 00c6 1CA3     		adr	r3, .L63+8
 913 00c8 D3E90023 		ldrd	r2, [r3]
 914 00cc FFF7FEFF 		bl	__aeabi_ddiv
 915              	.LVL94:
 325:Core/Src/mainLoop.c ****     } else if (buf[0] == 'x') {
 916              		.loc 1 325 52 view .LVU209
 917 00d0 0022     		movs	r2, #0
 918 00d2 204B     		ldr	r3, .L63+36
 919 00d4 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /tmp/ccFJCU99.s 			page 24


 920              	.LVL95:
 324:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 921              		.loc 1 324 7 view .LVU210
 922 00d8 FFF7FEFF 		bl	__aeabi_d2uiz
 923              	.LVL96:
 924 00dc 0346     		mov	r3, r0
 925 00de 0022     		movs	r2, #0
 926 00e0 1146     		mov	r1, r2
 927 00e2 1D48     		ldr	r0, .L63+40
 928 00e4 FFF7FEFF 		bl	HAL_DAC_SetValue
 929              	.LVL97:
 930 00e8 99E7     		b	.L51
 931              	.LVL98:
 932              	.L62:
 327:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 933              		.loc 1 327 7 is_stmt 1 view .LVU211
 327:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 934              		.loc 1 327 16 is_stmt 0 view .LVU212
 935 00ea 194C     		ldr	r4, .L63+32
 936 00ec 2068     		ldr	r0, [r4]	@ float
 937              	.LVL99:
 327:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 938              		.loc 1 327 16 view .LVU213
 939 00ee FFF7FEFF 		bl	__aeabi_f2d
 940              	.LVL100:
 941 00f2 13A3     		adr	r3, .L63+16
 942 00f4 D3E90023 		ldrd	r2, [r3]
 943 00f8 FFF7FEFF 		bl	__aeabi_dsub
 944              	.LVL101:
 945 00fc FFF7FEFF 		bl	__aeabi_d2f
 946              	.LVL102:
 947 0100 2060     		str	r0, [r4]	@ float
 328:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 948              		.loc 1 328 7 is_stmt 1 view .LVU214
 329:Core/Src/mainLoop.c ****     }
 949              		.loc 1 329 45 is_stmt 0 view .LVU215
 950 0102 FFF7FEFF 		bl	__aeabi_f2d
 951              	.LVL103:
 952 0106 0CA3     		adr	r3, .L63+8
 953 0108 D3E90023 		ldrd	r2, [r3]
 954 010c FFF7FEFF 		bl	__aeabi_ddiv
 955              	.LVL104:
 329:Core/Src/mainLoop.c ****     }
 956              		.loc 1 329 52 view .LVU216
 957 0110 0022     		movs	r2, #0
 958 0112 104B     		ldr	r3, .L63+36
 959 0114 FFF7FEFF 		bl	__aeabi_dmul
 960              	.LVL105:
 328:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 961              		.loc 1 328 7 view .LVU217
 962 0118 FFF7FEFF 		bl	__aeabi_d2uiz
 963              	.LVL106:
 964 011c 0346     		mov	r3, r0
 965 011e 0022     		movs	r2, #0
 966 0120 1146     		mov	r1, r2
 967 0122 0D48     		ldr	r0, .L63+40
 968 0124 FFF7FEFF 		bl	HAL_DAC_SetValue
ARM GAS  /tmp/ccFJCU99.s 			page 25


 969              	.LVL107:
 970 0128 79E7     		b	.L51
 971              	.L64:
 972 012a 00BFAFF3 		.align	3
 972      0080
 973              	.L63:
 974 0130 9A999999 		.word	2576980378
 975 0134 9999B93F 		.word	1069128089
 976 0138 66666666 		.word	1717986918
 977 013c 66660A40 		.word	1074423398
 978 0140 7B14AE47 		.word	1202590843
 979 0144 E17A843F 		.word	1065646817
 980 0148 00000000 		.word	huart2
 981 014c 00000000 		.word	buf
 982 0150 00000000 		.word	v_dianya
 983 0154 0000B040 		.word	1085276160
 984 0158 00000000 		.word	hdac
 985              		.cfi_endproc
 986              	.LFE141:
 988              		.section	.text.set_dac_initVal,"ax",%progbits
 989              		.align	1
 990              		.global	set_dac_initVal
 991              		.syntax unified
 992              		.thumb
 993              		.thumb_func
 994              		.fpu fpv4-sp-d16
 996              	set_dac_initVal:
 997              	.LVL108:
 998              	.LFB142:
 334:Core/Src/mainLoop.c **** 
 335:Core/Src/mainLoop.c **** void set_dac_initVal(uint32_t *val) {
 999              		.loc 1 335 37 is_stmt 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003              		.loc 1 335 37 is_stmt 0 view .LVU219
 1004 0000 10B5     		push	{r4, lr}
 1005              	.LCFI10:
 1006              		.cfi_def_cfa_offset 8
 1007              		.cfi_offset 4, -8
 1008              		.cfi_offset 14, -4
 1009 0002 0446     		mov	r4, r0
 336:Core/Src/mainLoop.c ****   // set all dac val
 337:Core/Src/mainLoop.c **** 
 338:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch1, *(val + 0), max_outdisable);
 1010              		.loc 1 338 3 is_stmt 1 view .LVU220
 1011 0004 0222     		movs	r2, #2
 1012 0006 0168     		ldr	r1, [r0]
 1013 0008 1046     		mov	r0, r2
 1014              	.LVL109:
 1015              		.loc 1 338 3 is_stmt 0 view .LVU221
 1016 000a FFF7FEFF 		bl	max5307_w_chanel
 1017              	.LVL110:
 339:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch2, *(val + 1), max_outdisable);
 1018              		.loc 1 339 3 is_stmt 1 view .LVU222
 1019 000e 0222     		movs	r2, #2
 1020 0010 6168     		ldr	r1, [r4, #4]
ARM GAS  /tmp/ccFJCU99.s 			page 26


 1021 0012 0320     		movs	r0, #3
 1022 0014 FFF7FEFF 		bl	max5307_w_chanel
 1023              	.LVL111:
 340:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch3, *(val + 2), max_outdisable);
 1024              		.loc 1 340 3 view .LVU223
 1025 0018 0222     		movs	r2, #2
 1026 001a A168     		ldr	r1, [r4, #8]
 1027 001c 0420     		movs	r0, #4
 1028 001e FFF7FEFF 		bl	max5307_w_chanel
 1029              	.LVL112:
 341:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch4, *(val + 3), max_outdisable);
 1030              		.loc 1 341 3 view .LVU224
 1031 0022 0222     		movs	r2, #2
 1032 0024 E168     		ldr	r1, [r4, #12]
 1033 0026 0520     		movs	r0, #5
 1034 0028 FFF7FEFF 		bl	max5307_w_chanel
 1035              	.LVL113:
 342:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch5, *(val + 4), max_outdisable);
 1036              		.loc 1 342 3 view .LVU225
 1037 002c 0222     		movs	r2, #2
 1038 002e 2169     		ldr	r1, [r4, #16]
 1039 0030 0620     		movs	r0, #6
 1040 0032 FFF7FEFF 		bl	max5307_w_chanel
 1041              	.LVL114:
 343:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch6, *(val + 5), max_outdisable);
 1042              		.loc 1 343 3 view .LVU226
 1043 0036 0222     		movs	r2, #2
 1044 0038 6169     		ldr	r1, [r4, #20]
 1045 003a 0720     		movs	r0, #7
 1046 003c FFF7FEFF 		bl	max5307_w_chanel
 1047              	.LVL115:
 344:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch7, *(val + 6), max_outdisable);
 1048              		.loc 1 344 3 view .LVU227
 1049 0040 0222     		movs	r2, #2
 1050 0042 A169     		ldr	r1, [r4, #24]
 1051 0044 0820     		movs	r0, #8
 1052 0046 FFF7FEFF 		bl	max5307_w_chanel
 1053              	.LVL116:
 345:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch8, *(val + 7), max_outdisable);
 1054              		.loc 1 345 3 view .LVU228
 1055 004a 0222     		movs	r2, #2
 1056 004c E169     		ldr	r1, [r4, #28]
 1057 004e 0920     		movs	r0, #9
 1058 0050 FFF7FEFF 		bl	max5307_w_chanel
 1059              	.LVL117:
 346:Core/Src/mainLoop.c **** 
 347:Core/Src/mainLoop.c ****   max5307_loadpin();
 1060              		.loc 1 347 3 view .LVU229
 1061 0054 FFF7FEFF 		bl	max5307_loadpin
 1062              	.LVL118:
 348:Core/Src/mainLoop.c **** }
 1063              		.loc 1 348 1 is_stmt 0 view .LVU230
 1064 0058 10BD     		pop	{r4, pc}
 1065              		.loc 1 348 1 view .LVU231
 1066              		.cfi_endproc
 1067              	.LFE142:
 1069              		.section	.text.cal_k_value_cp,"ax",%progbits
ARM GAS  /tmp/ccFJCU99.s 			page 27


 1070              		.align	1
 1071              		.global	cal_k_value_cp
 1072              		.syntax unified
 1073              		.thumb
 1074              		.thumb_func
 1075              		.fpu fpv4-sp-d16
 1077              	cal_k_value_cp:
 1078              	.LFB143:
 349:Core/Src/mainLoop.c **** #define ADC_BUF_SIZE 4000  // 200=1ms
 350:Core/Src/mainLoop.c **** #define ADC_TIMES_N (ADC_BUF_SIZE * 2)
 351:Core/Src/mainLoop.c **** uint32_t value_adc1[ADC_BUF_SIZE], value_adc2[ADC_BUF_SIZE];
 352:Core/Src/mainLoop.c **** #define CP_TIMES_N (ADC_TIMES_N)
 353:Core/Src/mainLoop.c **** int32_t value_cp[CP_TIMES_N];
 354:Core/Src/mainLoop.c **** 
 355:Core/Src/mainLoop.c **** int32_t cal_k_value_cp(void) {  // cal k
 1079              		.loc 1 355 30 is_stmt 1 view -0
 1080              		.cfi_startproc
 1081              		@ args = 0, pretend = 0, frame = 0
 1082              		@ frame_needed = 0, uses_anonymous_args = 0
 1083              		@ link register save eliminated.
 1084 0000 10B4     		push	{r4}
 1085              	.LCFI11:
 1086              		.cfi_def_cfa_offset 4
 1087              		.cfi_offset 4, -4
 356:Core/Src/mainLoop.c ****   int32_t kUp = 0, kDown = 0;
 1088              		.loc 1 356 3 view .LVU233
 1089              	.LVL119:
 357:Core/Src/mainLoop.c ****   int32_t i = 0;
 1090              		.loc 1 357 3 view .LVU234
 358:Core/Src/mainLoop.c ****   for (i = 1; i < CP_TIMES_N; i++) {
 1091              		.loc 1 358 3 view .LVU235
 1092              		.loc 1 358 10 is_stmt 0 view .LVU236
 1093 0002 0123     		movs	r3, #1
 1094              	.LVL120:
 1095              	.L68:
 1096              		.loc 1 358 15 is_stmt 1 discriminator 1 view .LVU237
 1097              		.loc 1 358 3 is_stmt 0 discriminator 1 view .LVU238
 1098 0004 B3F5FA5F 		cmp	r3, #8000
 1099 0008 0ADA     		bge	.L75
 359:Core/Src/mainLoop.c ****     value_cp[i - 1] = value_cp[i] - value_cp[i - 1];
 1100              		.loc 1 359 5 is_stmt 1 discriminator 3 view .LVU239
 1101              		.loc 1 359 31 is_stmt 0 discriminator 3 view .LVU240
 1102 000a 144A     		ldr	r2, .L77
 1103 000c 52F82310 		ldr	r1, [r2, r3, lsl #2]
 1104              		.loc 1 359 48 discriminator 3 view .LVU241
 1105 0010 581E     		subs	r0, r3, #1
 1106              		.loc 1 359 45 discriminator 3 view .LVU242
 1107 0012 52F82040 		ldr	r4, [r2, r0, lsl #2]
 1108              		.loc 1 359 35 discriminator 3 view .LVU243
 1109 0016 091B     		subs	r1, r1, r4
 1110              		.loc 1 359 21 discriminator 3 view .LVU244
 1111 0018 42F82010 		str	r1, [r2, r0, lsl #2]
 358:Core/Src/mainLoop.c ****   for (i = 1; i < CP_TIMES_N; i++) {
 1112              		.loc 1 358 31 is_stmt 1 discriminator 3 view .LVU245
 358:Core/Src/mainLoop.c ****   for (i = 1; i < CP_TIMES_N; i++) {
 1113              		.loc 1 358 32 is_stmt 0 discriminator 3 view .LVU246
 1114 001c 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccFJCU99.s 			page 28


 1115              	.LVL121:
 358:Core/Src/mainLoop.c ****   for (i = 1; i < CP_TIMES_N; i++) {
 1116              		.loc 1 358 32 discriminator 3 view .LVU247
 1117 001e F1E7     		b	.L68
 1118              	.L75:
 360:Core/Src/mainLoop.c ****   }
 361:Core/Src/mainLoop.c ****   value_cp[CP_TIMES_N - 1] = 0;
 1119              		.loc 1 361 3 is_stmt 1 view .LVU248
 1120              		.loc 1 361 28 is_stmt 0 view .LVU249
 1121 0020 0020     		movs	r0, #0
 1122 0022 0E4A     		ldr	r2, .L77
 1123 0024 47F6FC43 		movw	r3, #31996
 1124              	.LVL122:
 1125              		.loc 1 361 28 view .LVU250
 1126 0028 D050     		str	r0, [r2, r3]
 362:Core/Src/mainLoop.c **** 
 363:Core/Src/mainLoop.c ****   for (i = 0; i < CP_TIMES_N; i++) {
 1127              		.loc 1 363 3 is_stmt 1 view .LVU251
 1128              	.LVL123:
 1129              		.loc 1 363 10 is_stmt 0 view .LVU252
 1130 002a 0346     		mov	r3, r0
 356:Core/Src/mainLoop.c ****   int32_t i = 0;
 1131              		.loc 1 356 20 view .LVU253
 1132 002c 0446     		mov	r4, r0
 1133              		.loc 1 363 3 view .LVU254
 1134 002e 01E0     		b	.L70
 1135              	.LVL124:
 1136              	.L72:
 1137              	.LBB2:
 364:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 365:Core/Src/mainLoop.c ****       if (value_cp[i] > 0) {
 366:Core/Src/mainLoop.c ****         kUp += 1;
 367:Core/Src/mainLoop.c ****       } else {
 368:Core/Src/mainLoop.c ****         kDown += 1;
 1138              		.loc 1 368 9 is_stmt 1 view .LVU255
 1139              		.loc 1 368 15 is_stmt 0 view .LVU256
 1140 0030 0134     		adds	r4, r4, #1
 1141              	.LVL125:
 1142              	.L71:
 1143              		.loc 1 368 15 view .LVU257
 1144              	.LBE2:
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1145              		.loc 1 363 31 is_stmt 1 discriminator 2 view .LVU258
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1146              		.loc 1 363 32 is_stmt 0 discriminator 2 view .LVU259
 1147 0032 0133     		adds	r3, r3, #1
 1148              	.LVL126:
 1149              	.L70:
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1150              		.loc 1 363 15 is_stmt 1 discriminator 1 view .LVU260
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1151              		.loc 1 363 3 is_stmt 0 discriminator 1 view .LVU261
 1152 0034 B3F5FA5F 		cmp	r3, #8000
 1153 0038 0CDA     		bge	.L76
 364:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1154              		.loc 1 364 5 is_stmt 1 view .LVU262
 1155              	.LBB3:
ARM GAS  /tmp/ccFJCU99.s 			page 29


 364:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1156              		.loc 1 364 21 is_stmt 0 view .LVU263
 1157 003a 084A     		ldr	r2, .L77
 1158 003c 52F82320 		ldr	r2, [r2, r3, lsl #2]
 364:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1159              		.loc 1 364 9 view .LVU264
 1160 0040 82EAE271 		eor	r1, r2, r2, asr #31
 1161 0044 A1EBE271 		sub	r1, r1, r2, asr #31
 364:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1162              		.loc 1 364 8 view .LVU265
 1163 0048 0429     		cmp	r1, #4
 1164 004a F2DD     		ble	.L71
 365:Core/Src/mainLoop.c ****         kUp += 1;
 1165              		.loc 1 365 7 is_stmt 1 view .LVU266
 365:Core/Src/mainLoop.c ****         kUp += 1;
 1166              		.loc 1 365 10 is_stmt 0 view .LVU267
 1167 004c 002A     		cmp	r2, #0
 1168 004e EFDD     		ble	.L72
 366:Core/Src/mainLoop.c ****       } else {
 1169              		.loc 1 366 9 is_stmt 1 view .LVU268
 366:Core/Src/mainLoop.c ****       } else {
 1170              		.loc 1 366 13 is_stmt 0 view .LVU269
 1171 0050 0130     		adds	r0, r0, #1
 1172              	.LVL127:
 366:Core/Src/mainLoop.c ****       } else {
 1173              		.loc 1 366 13 view .LVU270
 1174 0052 EEE7     		b	.L71
 1175              	.L76:
 366:Core/Src/mainLoop.c ****       } else {
 1176              		.loc 1 366 13 view .LVU271
 1177              	.LBE3:
 369:Core/Src/mainLoop.c ****       }
 370:Core/Src/mainLoop.c ****     }
 371:Core/Src/mainLoop.c ****   }
 372:Core/Src/mainLoop.c ****   return (kDown - kUp);
 1178              		.loc 1 372 3 is_stmt 1 view .LVU272
 373:Core/Src/mainLoop.c **** }
 1179              		.loc 1 373 1 is_stmt 0 view .LVU273
 1180 0054 201A     		subs	r0, r4, r0
 1181              	.LVL128:
 1182              		.loc 1 373 1 view .LVU274
 1183 0056 5DF8044B 		ldr	r4, [sp], #4
 1184              	.LCFI12:
 1185              		.cfi_restore 4
 1186              		.cfi_def_cfa_offset 0
 1187              	.LVL129:
 1188              		.loc 1 373 1 view .LVU275
 1189 005a 7047     		bx	lr
 1190              	.L78:
 1191              		.align	2
 1192              	.L77:
 1193 005c 00000000 		.word	value_cp
 1194              		.cfi_endproc
 1195              	.LFE143:
 1197              		.section	.text.cal_value_cp,"ax",%progbits
 1198              		.align	1
 1199              		.global	cal_value_cp
ARM GAS  /tmp/ccFJCU99.s 			page 30


 1200              		.syntax unified
 1201              		.thumb
 1202              		.thumb_func
 1203              		.fpu fpv4-sp-d16
 1205              	cal_value_cp:
 1206              	.LFB144:
 374:Core/Src/mainLoop.c **** 
 375:Core/Src/mainLoop.c **** int32_t cal_value_cp(void) {
 1207              		.loc 1 375 28 is_stmt 1 view -0
 1208              		.cfi_startproc
 1209              		@ args = 0, pretend = 0, frame = 0
 1210              		@ frame_needed = 0, uses_anonymous_args = 0
 1211 0000 08B5     		push	{r3, lr}
 1212              	.LCFI13:
 1213              		.cfi_def_cfa_offset 8
 1214              		.cfi_offset 3, -8
 1215              		.cfi_offset 14, -4
 376:Core/Src/mainLoop.c ****   int32_t i = 0;
 1216              		.loc 1 376 3 view .LVU277
 1217              	.LVL130:
 377:Core/Src/mainLoop.c ****   int32_t tmp1, tmp2, tmp3, tmp4, allSum = 0;
 1218              		.loc 1 377 3 view .LVU278
 378:Core/Src/mainLoop.c ****   for (i = 0; i < CP_TIMES_N; i++) {
 1219              		.loc 1 378 3 view .LVU279
 1220              		.loc 1 378 10 is_stmt 0 view .LVU280
 1221 0002 0023     		movs	r3, #0
 1222              	.LVL131:
 1223              	.L80:
 1224              		.loc 1 378 15 is_stmt 1 discriminator 1 view .LVU281
 1225              		.loc 1 378 3 is_stmt 0 discriminator 1 view .LVU282
 1226 0004 B3F5FA5F 		cmp	r3, #8000
 1227 0008 0CDA     		bge	.L83
 379:Core/Src/mainLoop.c ****     tmp1 = (int32_t)(value_adc1[i / 2 + 0] & 0x0fff);
 1228              		.loc 1 379 5 is_stmt 1 discriminator 3 view .LVU283
 1229              		.loc 1 379 39 is_stmt 0 discriminator 3 view .LVU284
 1230 000a 03EBD372 		add	r2, r3, r3, lsr #31
 1231 000e 5210     		asrs	r2, r2, #1
 1232              		.loc 1 379 32 discriminator 3 view .LVU285
 1233 0010 0649     		ldr	r1, .L84
 1234 0012 51F82220 		ldr	r2, [r1, r2, lsl #2]
 1235              		.loc 1 379 10 discriminator 3 view .LVU286
 1236 0016 C2F30B02 		ubfx	r2, r2, #0, #12
 1237              	.LVL132:
 380:Core/Src/mainLoop.c ****     // tmp2 = (int32_t)((value_adc1[i/2+0] >> 16)&(0x0fff));
 381:Core/Src/mainLoop.c ****     // tmp3 = (int32_t)(value_adc1[i*2+1] & 0xfff);
 382:Core/Src/mainLoop.c ****     // tmp4 = (int32_t)((value_adc1[i*2+1] >> 16)&(0x0fff));
 383:Core/Src/mainLoop.c ****     // value_cp[i] = (tmp1+tmp2)/2 + (tmp3+tmp4)/2;
 384:Core/Src/mainLoop.c ****     value_cp[i] = tmp1;
 1238              		.loc 1 384 5 is_stmt 1 discriminator 3 view .LVU287
 1239              		.loc 1 384 17 is_stmt 0 discriminator 3 view .LVU288
 1240 001a 0549     		ldr	r1, .L84+4
 1241 001c 41F82320 		str	r2, [r1, r3, lsl #2]
 385:Core/Src/mainLoop.c ****     allSum += value_cp[i];
 1242              		.loc 1 385 5 is_stmt 1 discriminator 3 view .LVU289
 378:Core/Src/mainLoop.c ****     tmp1 = (int32_t)(value_adc1[i / 2 + 0] & 0x0fff);
 1243              		.loc 1 378 31 discriminator 3 view .LVU290
 378:Core/Src/mainLoop.c ****     tmp1 = (int32_t)(value_adc1[i / 2 + 0] & 0x0fff);
ARM GAS  /tmp/ccFJCU99.s 			page 31


 1244              		.loc 1 378 32 is_stmt 0 discriminator 3 view .LVU291
 1245 0020 0133     		adds	r3, r3, #1
 1246              	.LVL133:
 378:Core/Src/mainLoop.c ****     tmp1 = (int32_t)(value_adc1[i / 2 + 0] & 0x0fff);
 1247              		.loc 1 378 32 discriminator 3 view .LVU292
 1248 0022 EFE7     		b	.L80
 1249              	.LVL134:
 1250              	.L83:
 386:Core/Src/mainLoop.c ****   }
 387:Core/Src/mainLoop.c ****   return cal_k_value_cp();
 1251              		.loc 1 387 3 is_stmt 1 view .LVU293
 1252              		.loc 1 387 10 is_stmt 0 view .LVU294
 1253 0024 FFF7FEFF 		bl	cal_k_value_cp
 1254              	.LVL135:
 388:Core/Src/mainLoop.c ****   // return (allSum/CP_TIMES_N)-2048;
 389:Core/Src/mainLoop.c **** }
 1255              		.loc 1 389 1 view .LVU295
 1256 0028 08BD     		pop	{r3, pc}
 1257              	.L85:
 1258 002a 00BF     		.align	2
 1259              	.L84:
 1260 002c 00000000 		.word	value_adc1
 1261 0030 00000000 		.word	value_cp
 1262              		.cfi_endproc
 1263              	.LFE144:
 1265              		.section	.text.cal_cp_output_dac,"ax",%progbits
 1266              		.align	1
 1267              		.global	cal_cp_output_dac
 1268              		.syntax unified
 1269              		.thumb
 1270              		.thumb_func
 1271              		.fpu fpv4-sp-d16
 1273              	cal_cp_output_dac:
 1274              	.LVL136:
 1275              	.LFB145:
 390:Core/Src/mainLoop.c **** 
 391:Core/Src/mainLoop.c **** // 1Hz 10
 392:Core/Src/mainLoop.c **** // adcsumarray_size=2,1,1kÊî∂ÊïõÂæàÂø´Ôºå
 393:Core/Src/mainLoop.c **** #define ADCSUMARRAY_SIZE (10)
 394:Core/Src/mainLoop.c **** // #define ADCSUMARRAY_SIZE (300)
 395:Core/Src/mainLoop.c **** int32_t adcSumArray[ADCSUMARRAY_SIZE];
 396:Core/Src/mainLoop.c **** int32_t pidP = 0, pidI = 0, pidD = 0;
 397:Core/Src/mainLoop.c **** float_t dletDac = 0;
 398:Core/Src/mainLoop.c **** 
 399:Core/Src/mainLoop.c **** // 1hz
 400:Core/Src/mainLoop.c **** // #define kP (-0.005)
 401:Core/Src/mainLoop.c **** // #define kI (+0.001)
 402:Core/Src/mainLoop.c **** // #define kD (0.005)
 403:Core/Src/mainLoop.c **** // void cal_cp_output_dac(struct adc_buf_t* adc_buf, uint32_t *dacP, uint32_t
 404:Core/Src/mainLoop.c **** // *dacN){ 	int32_t i=0; 	int32_t N=ADC_BUF_T_SIZE*2; 	int32_t
 405:Core/Src/mainLoop.c **** // allSum=0; 	uint32_t
 406:Core/Src/mainLoop.c **** // tmpUint32=0; 	for(i=0; i<N; i++){ 		allSum += (int32_t)
 407:Core/Src/mainLoop.c **** //((adc_buf->buf[i/2]&0x0fff));
 408:Core/Src/mainLoop.c **** //	}
 409:Core/Src/mainLoop.c **** //	allSum = allSum/N - TARGET_CPV;
 410:Core/Src/mainLoop.c **** //
 411:Core/Src/mainLoop.c **** //	for(i=0; i<ADCSUMARRAY_SIZE-1; i++){
ARM GAS  /tmp/ccFJCU99.s 			page 32


 412:Core/Src/mainLoop.c **** //		adcSumArray[i] = adcSumArray[i+1];
 413:Core/Src/mainLoop.c **** //	}
 414:Core/Src/mainLoop.c **** //	adcSumArray[ADCSUMARRAY_SIZE-1] = allSum;
 415:Core/Src/mainLoop.c **** //
 416:Core/Src/mainLoop.c **** //	//pid
 417:Core/Src/mainLoop.c **** //	pidP = adcSumArray[ADCSUMARRAY_SIZE-1];
 418:Core/Src/mainLoop.c **** //	pidI = 0;
 419:Core/Src/mainLoop.c **** //	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 420:Core/Src/mainLoop.c **** //		pidI += adcSumArray[i];
 421:Core/Src/mainLoop.c **** //	}
 422:Core/Src/mainLoop.c **** //	pidI = pidI/ADCSUMARRAY_SIZE;
 423:Core/Src/mainLoop.c **** //	pidD = adcSumArray[ADCSUMARRAY_SIZE-1] -
 424:Core/Src/mainLoop.c **** // adcSumArray[ADCSUMARRAY_SIZE-2]; 	dletDac = kP*((float_t)pidP) +
 425:Core/Src/mainLoop.c **** // kI*((float_t)pidI) + kD*((float_t)pidD); 	tmpUint32 = abs((int32_t)
 426:Core/Src/mainLoop.c **** // (dletDac));
 427:Core/Src/mainLoop.c **** //	(*dacP) += (int32_t) (dletDac);
 428:Core/Src/mainLoop.c **** //	(*dacN) -= (int32_t) (dletDac);
 429:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACP_1,  (*dacP)>>12,      max_outenable);
 430:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACP_1K, ((*dacP)&0xfff),  max_outenable);
 431:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACN_1,  (*dacN)>>12,      max_outenable);
 432:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACN_1K, ((*dacN)&0xfff),  max_outenable);
 433:Core/Src/mainLoop.c **** //
 434:Core/Src/mainLoop.c **** //	//clear buf
 435:Core/Src/mainLoop.c **** //	for(i=0; i<ADC_BUF_T_SIZE; i++){
 436:Core/Src/mainLoop.c **** //		adc_buf->buf[i]=0;
 437:Core/Src/mainLoop.c **** //	}
 438:Core/Src/mainLoop.c **** // }
 439:Core/Src/mainLoop.c **** // for test before 20231206
 440:Core/Src/mainLoop.c **** // #define kP (-0.0005)
 441:Core/Src/mainLoop.c **** // #define kI (+0.051)
 442:Core/Src/mainLoop.c **** // #define kD ( 0.00005)
 443:Core/Src/mainLoop.c **** 
 444:Core/Src/mainLoop.c **** // get jubuzhengdang, jiezhi
 445:Core/Src/mainLoop.c **** // #define kP (-0.0005)
 446:Core/Src/mainLoop.c **** // #define kI (+0.0051)
 447:Core/Src/mainLoop.c **** // #define kD (1.1275)
 448:Core/Src/mainLoop.c **** 
 449:Core/Src/mainLoop.c **** // for test 20231206 this is almost ok
 450:Core/Src/mainLoop.c **** #define kP (-0.0005)
 451:Core/Src/mainLoop.c **** #define kI (+0.0051)
 452:Core/Src/mainLoop.c **** #define kD (1.1275)
 453:Core/Src/mainLoop.c **** 
 454:Core/Src/mainLoop.c **** // #define kP (-0.0002)
 455:Core/Src/mainLoop.c **** // #define kI (+0.0031)
 456:Core/Src/mainLoop.c **** // #define kD (0.5275)
 457:Core/Src/mainLoop.c **** // #define TARGET_CPV  (2748)
 458:Core/Src/mainLoop.c **** #define TARGET_CPV (3096)
 459:Core/Src/mainLoop.c **** void cal_cp_output_dac(struct adc_buf_t *adc_buf, uint32_t *dacP,
 460:Core/Src/mainLoop.c ****                        uint32_t *dacN) {
 1276              		.loc 1 460 40 is_stmt 1 view -0
 1277              		.cfi_startproc
 1278              		@ args = 0, pretend = 0, frame = 0
 1279              		@ frame_needed = 0, uses_anonymous_args = 0
 1280              		.loc 1 460 40 is_stmt 0 view .LVU297
 1281 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1282              	.LCFI14:
 1283              		.cfi_def_cfa_offset 32
ARM GAS  /tmp/ccFJCU99.s 			page 33


 1284              		.cfi_offset 4, -32
 1285              		.cfi_offset 5, -28
 1286              		.cfi_offset 6, -24
 1287              		.cfi_offset 7, -20
 1288              		.cfi_offset 8, -16
 1289              		.cfi_offset 9, -12
 1290              		.cfi_offset 10, -8
 1291              		.cfi_offset 14, -4
 1292 0004 0546     		mov	r5, r0
 1293 0006 0F46     		mov	r7, r1
 1294 0008 1646     		mov	r6, r2
 461:Core/Src/mainLoop.c ****   int32_t i = 0;
 1295              		.loc 1 461 3 is_stmt 1 view .LVU298
 1296              	.LVL137:
 462:Core/Src/mainLoop.c ****   int32_t N = ADC_BUF_T_SIZE * 2;
 1297              		.loc 1 462 3 view .LVU299
 463:Core/Src/mainLoop.c ****   int32_t allSum = 0;
 1298              		.loc 1 463 3 view .LVU300
 464:Core/Src/mainLoop.c ****   uint32_t tmpUint32 = 0;
 1299              		.loc 1 464 3 view .LVU301
 465:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1300              		.loc 1 465 3 view .LVU302
 463:Core/Src/mainLoop.c ****   int32_t allSum = 0;
 1301              		.loc 1 463 11 is_stmt 0 view .LVU303
 1302 000a 0022     		movs	r2, #0
 1303              	.LVL138:
 1304              		.loc 1 465 10 view .LVU304
 1305 000c 1446     		mov	r4, r2
 1306              	.LVL139:
 1307              	.L87:
 1308              		.loc 1 465 15 is_stmt 1 discriminator 1 view .LVU305
 1309              		.loc 1 465 3 is_stmt 0 discriminator 1 view .LVU306
 1310 000e C72C     		cmp	r4, #199
 1311 0010 0ADC     		bgt	.L96
 466:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i / 2] & 0x0fff));
 1312              		.loc 1 466 5 is_stmt 1 discriminator 3 view .LVU307
 1313              		.loc 1 466 41 is_stmt 0 discriminator 3 view .LVU308
 1314 0012 04EBD473 		add	r3, r4, r4, lsr #31
 1315 0016 5B10     		asrs	r3, r3, #1
 1316              		.loc 1 466 38 discriminator 3 view .LVU309
 1317 0018 05EB8303 		add	r3, r5, r3, lsl #2
 1318 001c 5B68     		ldr	r3, [r3, #4]
 1319              		.loc 1 466 15 discriminator 3 view .LVU310
 1320 001e C3F30B03 		ubfx	r3, r3, #0, #12
 1321              		.loc 1 466 12 discriminator 3 view .LVU311
 1322 0022 1A44     		add	r2, r2, r3
 1323              	.LVL140:
 465:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1324              		.loc 1 465 22 is_stmt 1 discriminator 3 view .LVU312
 465:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1325              		.loc 1 465 23 is_stmt 0 discriminator 3 view .LVU313
 1326 0024 0134     		adds	r4, r4, #1
 1327              	.LVL141:
 465:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1328              		.loc 1 465 23 discriminator 3 view .LVU314
 1329 0026 F2E7     		b	.L87
 1330              	.L96:
ARM GAS  /tmp/ccFJCU99.s 			page 34


 467:Core/Src/mainLoop.c ****   }
 468:Core/Src/mainLoop.c ****   allSum = allSum / N - TARGET_CPV;
 1331              		.loc 1 468 3 is_stmt 1 view .LVU315
 1332              		.loc 1 468 19 is_stmt 0 view .LVU316
 1333 0028 594B     		ldr	r3, .L97+24
 1334 002a 83FB0213 		smull	r1, r3, r3, r2
 1335              	.LVL142:
 1336              		.loc 1 468 19 view .LVU317
 1337 002e D017     		asrs	r0, r2, #31
 1338              	.LVL143:
 1339              		.loc 1 468 19 view .LVU318
 1340 0030 C0EBA310 		rsb	r0, r0, r3, asr #6
 1341              		.loc 1 468 10 view .LVU319
 1342 0034 A0F61840 		subw	r0, r0, #3096
 1343              	.LVL144:
 469:Core/Src/mainLoop.c **** 
 470:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE - 1; i++) {
 1344              		.loc 1 470 3 is_stmt 1 view .LVU320
 1345              		.loc 1 470 10 is_stmt 0 view .LVU321
 1346 0038 0023     		movs	r3, #0
 1347              		.loc 1 470 3 view .LVU322
 1348 003a 06E0     		b	.L89
 1349              	.LVL145:
 1350              	.L90:
 471:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1351              		.loc 1 471 5 is_stmt 1 discriminator 3 view .LVU323
 1352              		.loc 1 471 36 is_stmt 0 discriminator 3 view .LVU324
 1353 003c 5A1C     		adds	r2, r3, #1
 1354              		.loc 1 471 33 discriminator 3 view .LVU325
 1355 003e 5549     		ldr	r1, .L97+28
 1356 0040 51F82240 		ldr	r4, [r1, r2, lsl #2]
 1357              		.loc 1 471 20 discriminator 3 view .LVU326
 1358 0044 41F82340 		str	r4, [r1, r3, lsl #2]
 470:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1359              		.loc 1 470 41 is_stmt 1 discriminator 3 view .LVU327
 1360              	.LVL146:
 470:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1361              		.loc 1 470 42 is_stmt 0 discriminator 3 view .LVU328
 1362 0048 1346     		mov	r3, r2
 1363              	.LVL147:
 1364              	.L89:
 470:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1365              		.loc 1 470 15 is_stmt 1 discriminator 1 view .LVU329
 470:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1366              		.loc 1 470 3 is_stmt 0 discriminator 1 view .LVU330
 1367 004a 082B     		cmp	r3, #8
 1368 004c F6DD     		ble	.L90
 472:Core/Src/mainLoop.c ****   }
 473:Core/Src/mainLoop.c ****   adcSumArray[ADCSUMARRAY_SIZE - 1] = allSum;
 1369              		.loc 1 473 3 is_stmt 1 view .LVU331
 1370              		.loc 1 473 37 is_stmt 0 view .LVU332
 1371 004e 514B     		ldr	r3, .L97+28
 1372              	.LVL148:
 1373              		.loc 1 473 37 view .LVU333
 1374 0050 5862     		str	r0, [r3, #36]
 474:Core/Src/mainLoop.c **** 
 475:Core/Src/mainLoop.c ****   // pid
ARM GAS  /tmp/ccFJCU99.s 			page 35


 476:Core/Src/mainLoop.c ****   pidP = adcSumArray[ADCSUMARRAY_SIZE - 1];
 1375              		.loc 1 476 3 is_stmt 1 view .LVU334
 1376              		.loc 1 476 8 is_stmt 0 view .LVU335
 1377 0052 514B     		ldr	r3, .L97+32
 1378 0054 1860     		str	r0, [r3]
 477:Core/Src/mainLoop.c ****   pidI = 0;
 1379              		.loc 1 477 3 is_stmt 1 view .LVU336
 1380              		.loc 1 477 8 is_stmt 0 view .LVU337
 1381 0056 0023     		movs	r3, #0
 1382 0058 504A     		ldr	r2, .L97+36
 1383 005a 1360     		str	r3, [r2]
 478:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1384              		.loc 1 478 3 is_stmt 1 view .LVU338
 1385              	.LVL149:
 1386              		.loc 1 478 3 is_stmt 0 view .LVU339
 1387 005c 07E0     		b	.L91
 1388              	.LVL150:
 1389              	.L92:
 479:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1390              		.loc 1 479 5 is_stmt 1 discriminator 3 view .LVU340
 1391              		.loc 1 479 24 is_stmt 0 discriminator 3 view .LVU341
 1392 005e 4D4A     		ldr	r2, .L97+28
 1393 0060 52F82340 		ldr	r4, [r2, r3, lsl #2]
 1394              		.loc 1 479 10 discriminator 3 view .LVU342
 1395 0064 4D49     		ldr	r1, .L97+36
 1396 0066 0A68     		ldr	r2, [r1]
 1397 0068 2244     		add	r2, r2, r4
 1398 006a 0A60     		str	r2, [r1]
 478:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1399              		.loc 1 478 37 is_stmt 1 discriminator 3 view .LVU343
 478:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1400              		.loc 1 478 38 is_stmt 0 discriminator 3 view .LVU344
 1401 006c 0133     		adds	r3, r3, #1
 1402              	.LVL151:
 1403              	.L91:
 478:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1404              		.loc 1 478 15 is_stmt 1 discriminator 1 view .LVU345
 478:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1405              		.loc 1 478 3 is_stmt 0 discriminator 1 view .LVU346
 1406 006e 092B     		cmp	r3, #9
 1407 0070 F5DD     		ble	.L92
 480:Core/Src/mainLoop.c ****   }
 481:Core/Src/mainLoop.c ****   pidI = pidI / ADCSUMARRAY_SIZE;
 1408              		.loc 1 481 3 is_stmt 1 view .LVU347
 1409              		.loc 1 481 15 is_stmt 0 view .LVU348
 1410 0072 4A4A     		ldr	r2, .L97+36
 1411 0074 1368     		ldr	r3, [r2]
 1412              	.LVL152:
 1413              		.loc 1 481 15 view .LVU349
 1414 0076 4A4C     		ldr	r4, .L97+40
 1415 0078 84FB0314 		smull	r1, r4, r4, r3
 1416 007c DB17     		asrs	r3, r3, #31
 1417 007e C3EBA404 		rsb	r4, r3, r4, asr #2
 1418              		.loc 1 481 8 view .LVU350
 1419 0082 1460     		str	r4, [r2]
 482:Core/Src/mainLoop.c ****   pidD = adcSumArray[ADCSUMARRAY_SIZE - 1] - adcSumArray[ADCSUMARRAY_SIZE - 2];
 1420              		.loc 1 482 3 is_stmt 1 view .LVU351
ARM GAS  /tmp/ccFJCU99.s 			page 36


 1421              		.loc 1 482 57 is_stmt 0 view .LVU352
 1422 0084 434B     		ldr	r3, .L97+28
 1423 0086 1B6A     		ldr	r3, [r3, #32]
 1424              		.loc 1 482 44 view .LVU353
 1425 0088 A0EB030A 		sub	r10, r0, r3
 1426              		.loc 1 482 8 view .LVU354
 1427 008c 454B     		ldr	r3, .L97+44
 1428 008e C3F800A0 		str	r10, [r3]
 483:Core/Src/mainLoop.c ****   dletDac = kP * ((float_t)pidP) + kI * ((float_t)pidI) + kD * ((float_t)pidD);
 1429              		.loc 1 483 3 is_stmt 1 view .LVU355
 1430              		.loc 1 483 19 is_stmt 0 view .LVU356
 1431 0092 07EE900A 		vmov	s15, r0	@ int
 1432 0096 F8EEE77A 		vcvt.f32.s32	s15, s15
 1433 009a 17EE900A 		vmov	r0, s15
 1434              	.LVL153:
 1435              		.loc 1 483 19 view .LVU357
 1436 009e FFF7FEFF 		bl	__aeabi_f2d
 1437              	.LVL154:
 1438              		.loc 1 483 16 view .LVU358
 1439 00a2 35A3     		adr	r3, .L97
 1440 00a4 D3E90023 		ldrd	r2, [r3]
 1441 00a8 FFF7FEFF 		bl	__aeabi_dmul
 1442              	.LVL155:
 1443 00ac 8046     		mov	r8, r0
 1444 00ae 8946     		mov	r9, r1
 1445              		.loc 1 483 42 view .LVU359
 1446 00b0 07EE904A 		vmov	s15, r4	@ int
 1447 00b4 F8EEE77A 		vcvt.f32.s32	s15, s15
 1448 00b8 17EE900A 		vmov	r0, s15
 1449 00bc FFF7FEFF 		bl	__aeabi_f2d
 1450              	.LVL156:
 1451              		.loc 1 483 39 view .LVU360
 1452 00c0 2FA3     		adr	r3, .L97+8
 1453 00c2 D3E90023 		ldrd	r2, [r3]
 1454 00c6 FFF7FEFF 		bl	__aeabi_dmul
 1455              	.LVL157:
 1456 00ca 0246     		mov	r2, r0
 1457 00cc 0B46     		mov	r3, r1
 1458              		.loc 1 483 34 view .LVU361
 1459 00ce 4046     		mov	r0, r8
 1460 00d0 4946     		mov	r1, r9
 1461 00d2 FFF7FEFF 		bl	__aeabi_dadd
 1462              	.LVL158:
 1463 00d6 8046     		mov	r8, r0
 1464 00d8 8946     		mov	r9, r1
 1465              		.loc 1 483 65 view .LVU362
 1466 00da 07EE90AA 		vmov	s15, r10	@ int
 1467 00de F8EEE77A 		vcvt.f32.s32	s15, s15
 1468 00e2 17EE900A 		vmov	r0, s15
 1469 00e6 FFF7FEFF 		bl	__aeabi_f2d
 1470              	.LVL159:
 1471              		.loc 1 483 62 view .LVU363
 1472 00ea 27A3     		adr	r3, .L97+16
 1473 00ec D3E90023 		ldrd	r2, [r3]
 1474 00f0 FFF7FEFF 		bl	__aeabi_dmul
 1475              	.LVL160:
 1476 00f4 0246     		mov	r2, r0
ARM GAS  /tmp/ccFJCU99.s 			page 37


 1477 00f6 0B46     		mov	r3, r1
 1478              		.loc 1 483 57 view .LVU364
 1479 00f8 4046     		mov	r0, r8
 1480 00fa 4946     		mov	r1, r9
 1481 00fc FFF7FEFF 		bl	__aeabi_dadd
 1482              	.LVL161:
 1483 0100 FFF7FEFF 		bl	__aeabi_d2f
 1484              	.LVL162:
 1485 0104 07EE900A 		vmov	s15, r0
 1486              		.loc 1 483 11 view .LVU365
 1487 0108 274A     		ldr	r2, .L97+48
 1488 010a 1060     		str	r0, [r2]	@ float
 484:Core/Src/mainLoop.c ****   tmpUint32 = abs((int32_t)(dletDac));
 1489              		.loc 1 484 3 is_stmt 1 view .LVU366
 1490              		.loc 1 484 19 is_stmt 0 view .LVU367
 1491 010c FDEEE77A 		vcvt.s32.f32	s15, s15
 1492              	.LVL163:
 485:Core/Src/mainLoop.c ****   (*dacP) += (int32_t)(dletDac);
 1493              		.loc 1 485 3 is_stmt 1 view .LVU368
 1494              		.loc 1 485 11 is_stmt 0 view .LVU369
 1495 0110 3B68     		ldr	r3, [r7]
 1496 0112 17EE901A 		vmov	r1, s15	@ int
 1497 0116 0B44     		add	r3, r3, r1
 1498 0118 3B60     		str	r3, [r7]
 486:Core/Src/mainLoop.c ****   (*dacN) -= (int32_t)(dletDac);
 1499              		.loc 1 486 3 is_stmt 1 view .LVU370
 1500              		.loc 1 486 14 is_stmt 0 view .LVU371
 1501 011a D2ED007A 		vldr.32	s15, [r2]
 1502              	.LVL164:
 1503              		.loc 1 486 14 view .LVU372
 1504 011e FDEEE77A 		vcvt.s32.f32	s15, s15
 1505              		.loc 1 486 11 view .LVU373
 1506 0122 3368     		ldr	r3, [r6]
 1507 0124 17EE902A 		vmov	r2, s15	@ int
 1508 0128 9B1A     		subs	r3, r3, r2
 1509 012a 3360     		str	r3, [r6]
 487:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1, (*dacP) >> 12, max_outenable);
 1510              		.loc 1 487 3 is_stmt 1 view .LVU374
 1511              		.loc 1 487 29 is_stmt 0 view .LVU375
 1512 012c 3968     		ldr	r1, [r7]
 1513              	.LVL165:
 1514              		.loc 1 487 3 view .LVU376
 1515 012e 0122     		movs	r2, #1
 1516 0130 090B     		lsrs	r1, r1, #12
 1517 0132 0620     		movs	r0, #6
 1518              	.LVL166:
 1519              		.loc 1 487 3 view .LVU377
 1520 0134 FFF7FEFF 		bl	max5307_w_chanel
 1521              	.LVL167:
 488:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1K, ((*dacP) & 0xfff), max_outenable);
 1522              		.loc 1 488 3 is_stmt 1 view .LVU378
 1523              		.loc 1 488 31 is_stmt 0 view .LVU379
 1524 0138 3968     		ldr	r1, [r7]
 1525              		.loc 1 488 3 view .LVU380
 1526 013a 0122     		movs	r2, #1
 1527 013c C1F30B01 		ubfx	r1, r1, #0, #12
 1528 0140 0720     		movs	r0, #7
ARM GAS  /tmp/ccFJCU99.s 			page 38


 1529 0142 FFF7FEFF 		bl	max5307_w_chanel
 1530              	.LVL168:
 489:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1, (*dacN) >> 12, max_outenable);
 1531              		.loc 1 489 3 is_stmt 1 view .LVU381
 1532              		.loc 1 489 29 is_stmt 0 view .LVU382
 1533 0146 3168     		ldr	r1, [r6]
 1534              		.loc 1 489 3 view .LVU383
 1535 0148 0122     		movs	r2, #1
 1536 014a 090B     		lsrs	r1, r1, #12
 1537 014c 0520     		movs	r0, #5
 1538 014e FFF7FEFF 		bl	max5307_w_chanel
 1539              	.LVL169:
 490:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1K, ((*dacN) & 0xfff), max_outenable);
 1540              		.loc 1 490 3 is_stmt 1 view .LVU384
 1541              		.loc 1 490 31 is_stmt 0 view .LVU385
 1542 0152 3168     		ldr	r1, [r6]
 1543              		.loc 1 490 3 view .LVU386
 1544 0154 0122     		movs	r2, #1
 1545 0156 C1F30B01 		ubfx	r1, r1, #0, #12
 1546 015a 0420     		movs	r0, #4
 1547 015c FFF7FEFF 		bl	max5307_w_chanel
 1548              	.LVL170:
 491:Core/Src/mainLoop.c **** 
 492:Core/Src/mainLoop.c ****   // clear buf
 493:Core/Src/mainLoop.c ****   for (i = 0; i < ADC_BUF_T_SIZE; i++) {
 1549              		.loc 1 493 3 is_stmt 1 view .LVU387
 1550              		.loc 1 493 10 is_stmt 0 view .LVU388
 1551 0160 0023     		movs	r3, #0
 1552              		.loc 1 493 3 view .LVU389
 1553 0162 04E0     		b	.L93
 1554              	.LVL171:
 1555              	.L94:
 494:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1556              		.loc 1 494 5 is_stmt 1 discriminator 3 view .LVU390
 1557              		.loc 1 494 21 is_stmt 0 discriminator 3 view .LVU391
 1558 0164 05EB8302 		add	r2, r5, r3, lsl #2
 1559 0168 0021     		movs	r1, #0
 1560 016a 5160     		str	r1, [r2, #4]
 493:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1561              		.loc 1 493 35 is_stmt 1 discriminator 3 view .LVU392
 493:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1562              		.loc 1 493 36 is_stmt 0 discriminator 3 view .LVU393
 1563 016c 0133     		adds	r3, r3, #1
 1564              	.LVL172:
 1565              	.L93:
 493:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1566              		.loc 1 493 15 is_stmt 1 discriminator 1 view .LVU394
 493:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1567              		.loc 1 493 3 is_stmt 0 discriminator 1 view .LVU395
 1568 016e 632B     		cmp	r3, #99
 1569 0170 F8DD     		ble	.L94
 495:Core/Src/mainLoop.c ****   }
 496:Core/Src/mainLoop.c **** }
 1570              		.loc 1 496 1 view .LVU396
 1571 0172 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1572              	.LVL173:
 1573              	.L98:
ARM GAS  /tmp/ccFJCU99.s 			page 39


 1574              		.loc 1 496 1 view .LVU397
 1575 0176 00BF     		.align	3
 1576              	.L97:
 1577 0178 FCA9F1D2 		.word	3539053052
 1578 017c 4D6240BF 		.word	-1086299571
 1579 0180 88855AD3 		.word	3545925000
 1580 0184 BCE3743F 		.word	1064625084
 1581 0188 0AD7A370 		.word	1889785610
 1582 018c 3D0AF23F 		.word	1072826941
 1583 0190 1F85EB51 		.word	1374389535
 1584 0194 00000000 		.word	adcSumArray
 1585 0198 00000000 		.word	.LANCHOR4
 1586 019c 00000000 		.word	.LANCHOR5
 1587 01a0 67666666 		.word	1717986919
 1588 01a4 00000000 		.word	.LANCHOR6
 1589 01a8 00000000 		.word	.LANCHOR7
 1590              		.cfi_endproc
 1591              	.LFE145:
 1593              		.section	.text.insertMeanVal,"ax",%progbits
 1594              		.align	1
 1595              		.global	insertMeanVal
 1596              		.syntax unified
 1597              		.thumb
 1598              		.thumb_func
 1599              		.fpu fpv4-sp-d16
 1601              	insertMeanVal:
 1602              	.LVL174:
 1603              	.LFB146:
 497:Core/Src/mainLoop.c **** 
 498:Core/Src/mainLoop.c **** #define VALMEANARRAY_N 20
 499:Core/Src/mainLoop.c **** int32_t valMeanArray[VALMEANARRAY_N];
 500:Core/Src/mainLoop.c **** // ËÆ°ÁÆóvalMeanArrayÂ∫èÂàó‰∏≠ÁöÑÂùáÂÄºÂíåÂ∑ÆÂÄºÔºåËøôÁõ∏ÂΩì‰∏éadc‚ÄîdmaÈááÊ†∑200Ê¨°ÁöÑÂπ≥ÂùáÂ§ÑÁêÜ
 501:Core/Src/mainLoop.c **** void insertMeanVal(int32_t val, struct adc_buf_t *adc_buf) {
 1604              		.loc 1 501 60 is_stmt 1 view -0
 1605              		.cfi_startproc
 1606              		@ args = 0, pretend = 0, frame = 0
 1607              		@ frame_needed = 0, uses_anonymous_args = 0
 1608              		@ link register save eliminated.
 1609              		.loc 1 501 60 is_stmt 0 view .LVU399
 1610 0000 30B4     		push	{r4, r5}
 1611              	.LCFI15:
 1612              		.cfi_def_cfa_offset 8
 1613              		.cfi_offset 4, -8
 1614              		.cfi_offset 5, -4
 502:Core/Src/mainLoop.c ****   static int32_t currentP = 0;
 1615              		.loc 1 502 3 is_stmt 1 view .LVU400
 503:Core/Src/mainLoop.c ****   int32_t i = 0, sumval = 0, difval = 0;
 1616              		.loc 1 503 3 view .LVU401
 1617              	.LVL175:
 504:Core/Src/mainLoop.c ****   valMeanArray[currentP++] = val;
 1618              		.loc 1 504 3 view .LVU402
 1619              		.loc 1 504 24 is_stmt 0 view .LVU403
 1620 0002 1A4C     		ldr	r4, .L104
 1621 0004 2368     		ldr	r3, [r4]
 1622 0006 5A1C     		adds	r2, r3, #1
 1623              		.loc 1 504 28 view .LVU404
 1624 0008 194D     		ldr	r5, .L104+4
ARM GAS  /tmp/ccFJCU99.s 			page 40


 1625 000a 45F82300 		str	r0, [r5, r3, lsl #2]
 505:Core/Src/mainLoop.c ****   currentP = currentP % VALMEANARRAY_N;
 1626              		.loc 1 505 3 is_stmt 1 view .LVU405
 1627              		.loc 1 505 23 is_stmt 0 view .LVU406
 1628 000e 1948     		ldr	r0, .L104+8
 1629              	.LVL176:
 1630              		.loc 1 505 23 view .LVU407
 1631 0010 80FB0230 		smull	r3, r0, r0, r2
 1632              	.LVL177:
 1633              		.loc 1 505 23 view .LVU408
 1634 0014 D317     		asrs	r3, r2, #31
 1635 0016 C3EBE003 		rsb	r3, r3, r0, asr #3
 1636 001a 03EB8303 		add	r3, r3, r3, lsl #2
 1637 001e A2EB8303 		sub	r3, r2, r3, lsl #2
 1638              		.loc 1 505 12 view .LVU409
 1639 0022 2360     		str	r3, [r4]
 1640              	.LVL178:
 506:Core/Src/mainLoop.c ****   for (i = 0; i < VALMEANARRAY_N - 1; i++) {
 1641              		.loc 1 506 3 is_stmt 1 view .LVU410
 503:Core/Src/mainLoop.c ****   valMeanArray[currentP++] = val;
 1642              		.loc 1 503 30 is_stmt 0 view .LVU411
 1643 0024 0020     		movs	r0, #0
 503:Core/Src/mainLoop.c ****   valMeanArray[currentP++] = val;
 1644              		.loc 1 503 18 view .LVU412
 1645 0026 0446     		mov	r4, r0
 1646              		.loc 1 506 10 view .LVU413
 1647 0028 0246     		mov	r2, r0
 1648              	.LVL179:
 1649              	.L100:
 1650              		.loc 1 506 15 is_stmt 1 discriminator 1 view .LVU414
 1651              		.loc 1 506 3 is_stmt 0 discriminator 1 view .LVU415
 1652 002a 122A     		cmp	r2, #18
 1653 002c 0CDC     		bgt	.L103
 1654              	.LBB4:
 507:Core/Src/mainLoop.c ****     sumval += valMeanArray[i];
 1655              		.loc 1 507 5 is_stmt 1 discriminator 3 view .LVU416
 1656              		.loc 1 507 27 is_stmt 0 discriminator 3 view .LVU417
 1657 002e 104B     		ldr	r3, .L104+4
 1658 0030 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1659              		.loc 1 507 12 discriminator 3 view .LVU418
 1660 0034 1C44     		add	r4, r4, r3
 1661              	.LVL180:
 508:Core/Src/mainLoop.c ****     difval += abs(valMeanArray[i] - adc_buf->adcMeanVal);
 1662              		.loc 1 508 5 is_stmt 1 discriminator 3 view .LVU419
 1663              		.loc 1 508 44 is_stmt 0 discriminator 3 view .LVU420
 1664 0036 D1F89451 		ldr	r5, [r1, #404]
 1665              		.loc 1 508 35 discriminator 3 view .LVU421
 1666 003a 5B1B     		subs	r3, r3, r5
 1667              		.loc 1 508 15 discriminator 3 view .LVU422
 1668 003c 002B     		cmp	r3, #0
 1669 003e B8BF     		it	lt
 1670 0040 5B42     		rsblt	r3, r3, #0
 1671              		.loc 1 508 12 discriminator 3 view .LVU423
 1672 0042 1844     		add	r0, r0, r3
 1673              	.LVL181:
 1674              		.loc 1 508 12 discriminator 3 view .LVU424
 1675              	.LBE4:
ARM GAS  /tmp/ccFJCU99.s 			page 41


 506:Core/Src/mainLoop.c ****     sumval += valMeanArray[i];
 1676              		.loc 1 506 39 is_stmt 1 discriminator 3 view .LVU425
 506:Core/Src/mainLoop.c ****     sumval += valMeanArray[i];
 1677              		.loc 1 506 40 is_stmt 0 discriminator 3 view .LVU426
 1678 0044 0132     		adds	r2, r2, #1
 1679              	.LVL182:
 506:Core/Src/mainLoop.c ****     sumval += valMeanArray[i];
 1680              		.loc 1 506 40 discriminator 3 view .LVU427
 1681 0046 F0E7     		b	.L100
 1682              	.L103:
 509:Core/Src/mainLoop.c ****   }
 510:Core/Src/mainLoop.c ****   sumval = sumval / VALMEANARRAY_N;
 1683              		.loc 1 510 3 is_stmt 1 view .LVU428
 1684              		.loc 1 510 10 is_stmt 0 view .LVU429
 1685 0048 0A4B     		ldr	r3, .L104+8
 1686 004a 83FB0452 		smull	r5, r2, r3, r4
 1687              	.LVL183:
 1688              		.loc 1 510 10 view .LVU430
 1689 004e E417     		asrs	r4, r4, #31
 1690              	.LVL184:
 1691              		.loc 1 510 10 view .LVU431
 1692 0050 C4EBE204 		rsb	r4, r4, r2, asr #3
 1693              	.LVL185:
 511:Core/Src/mainLoop.c ****   difval = difval / VALMEANARRAY_N;
 1694              		.loc 1 511 3 is_stmt 1 view .LVU432
 1695              		.loc 1 511 10 is_stmt 0 view .LVU433
 1696 0054 83FB0023 		smull	r2, r3, r3, r0
 1697 0058 C017     		asrs	r0, r0, #31
 1698              	.LVL186:
 1699              		.loc 1 511 10 view .LVU434
 1700 005a C0EBE300 		rsb	r0, r0, r3, asr #3
 1701              	.LVL187:
 512:Core/Src/mainLoop.c ****   adc_buf->adcMeanVal = sumval;
 1702              		.loc 1 512 3 is_stmt 1 view .LVU435
 1703              		.loc 1 512 23 is_stmt 0 view .LVU436
 1704 005e C1F89441 		str	r4, [r1, #404]
 513:Core/Src/mainLoop.c ****   adc_buf->adcDif2 = difval;
 1705              		.loc 1 513 3 is_stmt 1 view .LVU437
 1706              		.loc 1 513 20 is_stmt 0 view .LVU438
 1707 0062 C1F89801 		str	r0, [r1, #408]
 514:Core/Src/mainLoop.c **** }
 1708              		.loc 1 514 1 view .LVU439
 1709 0066 30BC     		pop	{r4, r5}
 1710              	.LCFI16:
 1711              		.cfi_restore 5
 1712              		.cfi_restore 4
 1713              		.cfi_def_cfa_offset 0
 1714              	.LVL188:
 1715              		.loc 1 514 1 view .LVU440
 1716 0068 7047     		bx	lr
 1717              	.L105:
 1718 006a 00BF     		.align	2
 1719              	.L104:
 1720 006c 00000000 		.word	.LANCHOR8
 1721 0070 00000000 		.word	valMeanArray
 1722 0074 67666666 		.word	1717986919
 1723              		.cfi_endproc
ARM GAS  /tmp/ccFJCU99.s 			page 42


 1724              	.LFE146:
 1726              		.section	.text.cal_cp_output_dac_ext,"ax",%progbits
 1727              		.align	1
 1728              		.global	cal_cp_output_dac_ext
 1729              		.syntax unified
 1730              		.thumb
 1731              		.thumb_func
 1732              		.fpu fpv4-sp-d16
 1734              	cal_cp_output_dac_ext:
 1735              	.LVL189:
 1736              	.LFB147:
 515:Core/Src/mainLoop.c **** struct log_para_t
 516:Core/Src/mainLoop.c ****     logPara;  // Áî®‰∫éÂêëhostÂèëÈÄÅË∞ÉËØïËøáÁ®ãÊï∞ÊçÆÔºåÂú®cal_cp_output_dac_extËøáÁ®ã‰∏≠‰øùÂ≠ò
 517:Core/Src/mainLoop.c **** int32_t meanVal_view = 0;
 518:Core/Src/mainLoop.c **** int32_t difVal_view = 0;
 519:Core/Src/mainLoop.c **** #define RUN_30S 180000  // about 90S
 520:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext(struct adc_buf_t *adc_buf, uint32_t *dacP,
 521:Core/Src/mainLoop.c ****                            uint32_t *dacN, int32_t runTime500us) {
 1737              		.loc 1 521 66 is_stmt 1 view -0
 1738              		.cfi_startproc
 1739              		@ args = 0, pretend = 0, frame = 0
 1740              		@ frame_needed = 0, uses_anonymous_args = 0
 1741              		.loc 1 521 66 is_stmt 0 view .LVU442
 1742 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1743              	.LCFI17:
 1744              		.cfi_def_cfa_offset 40
 1745              		.cfi_offset 3, -40
 1746              		.cfi_offset 4, -36
 1747              		.cfi_offset 5, -32
 1748              		.cfi_offset 6, -28
 1749              		.cfi_offset 7, -24
 1750              		.cfi_offset 8, -20
 1751              		.cfi_offset 9, -16
 1752              		.cfi_offset 10, -12
 1753              		.cfi_offset 11, -8
 1754              		.cfi_offset 14, -4
 1755 0004 0446     		mov	r4, r0
 1756 0006 0D46     		mov	r5, r1
 1757 0008 1646     		mov	r6, r2
 522:Core/Src/mainLoop.c ****   int32_t i = 0;
 1758              		.loc 1 522 3 is_stmt 1 view .LVU443
 1759              	.LVL190:
 523:Core/Src/mainLoop.c ****   int32_t N = ADC_BUF_T_SIZE;
 1760              		.loc 1 523 3 view .LVU444
 524:Core/Src/mainLoop.c ****   uint32_t allSum = 0;
 1761              		.loc 1 524 3 view .LVU445
 525:Core/Src/mainLoop.c ****   uint16_t forSaveAllSum = 0;
 1762              		.loc 1 525 3 view .LVU446
 526:Core/Src/mainLoop.c ****   uint32_t tmpUint32 = 0;
 1763              		.loc 1 526 3 view .LVU447
 527:Core/Src/mainLoop.c ****   int32_t deltNoisV = 0;
 1764              		.loc 1 527 3 view .LVU448
 528:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_SET);
 1765              		.loc 1 528 3 view .LVU449
 1766 000a 0122     		movs	r2, #1
 1767              	.LVL191:
 1768              		.loc 1 528 3 is_stmt 0 view .LVU450
ARM GAS  /tmp/ccFJCU99.s 			page 43


 1769 000c 4FF48051 		mov	r1, #4096
 1770              	.LVL192:
 1771              		.loc 1 528 3 view .LVU451
 1772 0010 6B48     		ldr	r0, .L117+24
 1773              	.LVL193:
 1774              		.loc 1 528 3 view .LVU452
 1775 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1776              	.LVL194:
 529:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1777              		.loc 1 529 3 is_stmt 1 view .LVU453
 1778              		.loc 1 529 10 is_stmt 0 view .LVU454
 1779 0016 0023     		movs	r3, #0
 1780              	.LVL195:
 1781              	.L107:
 1782              		.loc 1 529 15 is_stmt 1 discriminator 1 view .LVU455
 1783              		.loc 1 529 3 is_stmt 0 discriminator 1 view .LVU456
 1784 0018 632B     		cmp	r3, #99
 1785 001a 01DC     		bgt	.L116
 530:Core/Src/mainLoop.c ****     allSum += (uint32_t)((adc_buf->buf[i] & 0x0fff));
 1786              		.loc 1 530 5 is_stmt 1 discriminator 3 view .LVU457
 531:Core/Src/mainLoop.c ****     allSum += (uint32_t)(((adc_buf->buf[i] >> 16) & 0x0fff));
 1787              		.loc 1 531 5 discriminator 3 view .LVU458
 529:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1788              		.loc 1 529 22 discriminator 3 view .LVU459
 529:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1789              		.loc 1 529 23 is_stmt 0 discriminator 3 view .LVU460
 1790 001c 0133     		adds	r3, r3, #1
 1791              	.LVL196:
 529:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1792              		.loc 1 529 23 discriminator 3 view .LVU461
 1793 001e FBE7     		b	.L107
 1794              	.L116:
 532:Core/Src/mainLoop.c ****   }
 533:Core/Src/mainLoop.c ****   allSum = allSum / (N * 2);
 1795              		.loc 1 533 3 is_stmt 1 view .LVU462
 534:Core/Src/mainLoop.c ****   allSum = (adc_buf->buf[99] & 0x0fff);
 1796              		.loc 1 534 3 view .LVU463
 1797              		.loc 1 534 25 is_stmt 0 view .LVU464
 1798 0020 D4F89071 		ldr	r7, [r4, #400]
 1799              		.loc 1 534 10 view .LVU465
 1800 0024 C7F30B08 		ubfx	r8, r7, #0, #12
 1801              	.LVL197:
 535:Core/Src/mainLoop.c ****   forSaveAllSum = allSum;
 1802              		.loc 1 535 3 is_stmt 1 view .LVU466
 1803              		.loc 1 535 17 is_stmt 0 view .LVU467
 1804 0028 4746     		mov	r7, r8
 1805              	.LVL198:
 536:Core/Src/mainLoop.c ****   allSum = allSum - TARGET_CPV;
 1806              		.loc 1 536 3 is_stmt 1 view .LVU468
 1807              		.loc 1 536 10 is_stmt 0 view .LVU469
 1808 002a A8F61848 		subw	r8, r8, #3096
 1809              	.LVL199:
 537:Core/Src/mainLoop.c ****   insertMeanVal(allSum, adc_buf);
 1810              		.loc 1 537 3 is_stmt 1 view .LVU470
 1811 002e 2146     		mov	r1, r4
 1812 0030 4046     		mov	r0, r8
 1813 0032 FFF7FEFF 		bl	insertMeanVal
ARM GAS  /tmp/ccFJCU99.s 			page 44


 1814              	.LVL200:
 538:Core/Src/mainLoop.c ****   meanVal_view = adc_buf->adcMeanVal;
 1815              		.loc 1 538 3 view .LVU471
 1816              		.loc 1 538 25 is_stmt 0 view .LVU472
 1817 0036 D4F89421 		ldr	r2, [r4, #404]
 1818              		.loc 1 538 16 view .LVU473
 1819 003a 624B     		ldr	r3, .L117+28
 1820 003c 1A60     		str	r2, [r3]
 539:Core/Src/mainLoop.c ****   difVal_view = adc_buf->adcDif2;
 1821              		.loc 1 539 3 is_stmt 1 view .LVU474
 1822              		.loc 1 539 24 is_stmt 0 view .LVU475
 1823 003e D4F89821 		ldr	r2, [r4, #408]
 1824              		.loc 1 539 15 view .LVU476
 1825 0042 614B     		ldr	r3, .L117+32
 1826 0044 1A60     		str	r2, [r3]
 540:Core/Src/mainLoop.c **** 
 541:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE - 1; i++) {
 1827              		.loc 1 541 3 is_stmt 1 view .LVU477
 1828              	.LVL201:
 1829              		.loc 1 541 10 is_stmt 0 view .LVU478
 1830 0046 0023     		movs	r3, #0
 1831              		.loc 1 541 3 view .LVU479
 1832 0048 06E0     		b	.L109
 1833              	.LVL202:
 1834              	.L110:
 542:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1835              		.loc 1 542 5 is_stmt 1 discriminator 3 view .LVU480
 1836              		.loc 1 542 36 is_stmt 0 discriminator 3 view .LVU481
 1837 004a 5A1C     		adds	r2, r3, #1
 1838              		.loc 1 542 33 discriminator 3 view .LVU482
 1839 004c 5F49     		ldr	r1, .L117+36
 1840 004e 51F82200 		ldr	r0, [r1, r2, lsl #2]
 1841              		.loc 1 542 20 discriminator 3 view .LVU483
 1842 0052 41F82300 		str	r0, [r1, r3, lsl #2]
 541:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1843              		.loc 1 541 41 is_stmt 1 discriminator 3 view .LVU484
 1844              	.LVL203:
 541:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1845              		.loc 1 541 42 is_stmt 0 discriminator 3 view .LVU485
 1846 0056 1346     		mov	r3, r2
 1847              	.LVL204:
 1848              	.L109:
 541:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1849              		.loc 1 541 15 is_stmt 1 discriminator 1 view .LVU486
 541:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1850              		.loc 1 541 3 is_stmt 0 discriminator 1 view .LVU487
 1851 0058 082B     		cmp	r3, #8
 1852 005a F6DD     		ble	.L110
 543:Core/Src/mainLoop.c ****   }
 544:Core/Src/mainLoop.c ****   adcSumArray[ADCSUMARRAY_SIZE - 1] = allSum;
 1853              		.loc 1 544 3 is_stmt 1 view .LVU488
 1854              		.loc 1 544 37 is_stmt 0 view .LVU489
 1855 005c 5B4B     		ldr	r3, .L117+36
 1856              	.LVL205:
 1857              		.loc 1 544 37 view .LVU490
 1858 005e C3F82480 		str	r8, [r3, #36]
 545:Core/Src/mainLoop.c **** 
ARM GAS  /tmp/ccFJCU99.s 			page 45


 546:Core/Src/mainLoop.c ****   // pid
 547:Core/Src/mainLoop.c ****   pidP = adcSumArray[ADCSUMARRAY_SIZE - 1];
 1859              		.loc 1 547 3 is_stmt 1 view .LVU491
 1860              		.loc 1 547 8 is_stmt 0 view .LVU492
 1861 0062 5B4B     		ldr	r3, .L117+40
 1862 0064 C3F80080 		str	r8, [r3]
 548:Core/Src/mainLoop.c ****   pidI = 0;
 1863              		.loc 1 548 3 is_stmt 1 view .LVU493
 1864              		.loc 1 548 8 is_stmt 0 view .LVU494
 1865 0068 0023     		movs	r3, #0
 1866 006a 5A4A     		ldr	r2, .L117+44
 1867 006c 1360     		str	r3, [r2]
 549:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1868              		.loc 1 549 3 is_stmt 1 view .LVU495
 1869              	.LVL206:
 1870              		.loc 1 549 3 is_stmt 0 view .LVU496
 1871 006e 07E0     		b	.L111
 1872              	.LVL207:
 1873              	.L112:
 550:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1874              		.loc 1 550 5 is_stmt 1 discriminator 3 view .LVU497
 1875              		.loc 1 550 24 is_stmt 0 discriminator 3 view .LVU498
 1876 0070 564A     		ldr	r2, .L117+36
 1877 0072 52F82300 		ldr	r0, [r2, r3, lsl #2]
 1878              		.loc 1 550 10 discriminator 3 view .LVU499
 1879 0076 5749     		ldr	r1, .L117+44
 1880 0078 0A68     		ldr	r2, [r1]
 1881 007a 0244     		add	r2, r2, r0
 1882 007c 0A60     		str	r2, [r1]
 549:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1883              		.loc 1 549 37 is_stmt 1 discriminator 3 view .LVU500
 549:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1884              		.loc 1 549 38 is_stmt 0 discriminator 3 view .LVU501
 1885 007e 0133     		adds	r3, r3, #1
 1886              	.LVL208:
 1887              	.L111:
 549:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1888              		.loc 1 549 15 is_stmt 1 discriminator 1 view .LVU502
 549:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1889              		.loc 1 549 3 is_stmt 0 discriminator 1 view .LVU503
 1890 0080 092B     		cmp	r3, #9
 1891 0082 F5DD     		ble	.L112
 551:Core/Src/mainLoop.c ****   }
 552:Core/Src/mainLoop.c ****   pidI = pidI / ADCSUMARRAY_SIZE;
 1892              		.loc 1 552 3 is_stmt 1 view .LVU504
 1893              		.loc 1 552 15 is_stmt 0 view .LVU505
 1894 0084 5349     		ldr	r1, .L117+44
 1895 0086 0B68     		ldr	r3, [r1]
 1896              	.LVL209:
 1897              		.loc 1 552 15 view .LVU506
 1898 0088 534A     		ldr	r2, .L117+48
 1899 008a 82FB032A 		smull	r2, r10, r2, r3
 1900 008e DB17     		asrs	r3, r3, #31
 1901 0090 C3EBAA0A 		rsb	r10, r3, r10, asr #2
 1902              		.loc 1 552 8 view .LVU507
 1903 0094 C1F800A0 		str	r10, [r1]
 553:Core/Src/mainLoop.c ****   pidD = adcSumArray[ADCSUMARRAY_SIZE - 1] - adcSumArray[ADCSUMARRAY_SIZE - 2];
ARM GAS  /tmp/ccFJCU99.s 			page 46


 1904              		.loc 1 553 3 is_stmt 1 view .LVU508
 1905              		.loc 1 553 57 is_stmt 0 view .LVU509
 1906 0098 4C4B     		ldr	r3, .L117+36
 1907 009a 1B6A     		ldr	r3, [r3, #32]
 1908              		.loc 1 553 44 view .LVU510
 1909 009c A8EB030B 		sub	fp, r8, r3
 1910              		.loc 1 553 8 view .LVU511
 1911 00a0 4E4B     		ldr	r3, .L117+52
 1912 00a2 C3F800B0 		str	fp, [r3]
 554:Core/Src/mainLoop.c ****   dletDac = kP * ((float_t)pidP) + kI * ((float_t)pidI) + kD * ((float_t)pidD);
 1913              		.loc 1 554 3 is_stmt 1 view .LVU512
 1914              		.loc 1 554 19 is_stmt 0 view .LVU513
 1915 00a6 07EE908A 		vmov	s15, r8	@ int
 1916 00aa F8EEE77A 		vcvt.f32.s32	s15, s15
 1917 00ae 17EE900A 		vmov	r0, s15
 1918 00b2 FFF7FEFF 		bl	__aeabi_f2d
 1919              	.LVL210:
 1920              		.loc 1 554 16 view .LVU514
 1921 00b6 3CA3     		adr	r3, .L117
 1922 00b8 D3E90023 		ldrd	r2, [r3]
 1923 00bc FFF7FEFF 		bl	__aeabi_dmul
 1924              	.LVL211:
 1925 00c0 8046     		mov	r8, r0
 1926 00c2 8946     		mov	r9, r1
 1927              		.loc 1 554 42 view .LVU515
 1928 00c4 07EE90AA 		vmov	s15, r10	@ int
 1929 00c8 F8EEE77A 		vcvt.f32.s32	s15, s15
 1930 00cc 17EE900A 		vmov	r0, s15
 1931 00d0 FFF7FEFF 		bl	__aeabi_f2d
 1932              	.LVL212:
 1933              		.loc 1 554 39 view .LVU516
 1934 00d4 36A3     		adr	r3, .L117+8
 1935 00d6 D3E90023 		ldrd	r2, [r3]
 1936 00da FFF7FEFF 		bl	__aeabi_dmul
 1937              	.LVL213:
 1938 00de 0246     		mov	r2, r0
 1939 00e0 0B46     		mov	r3, r1
 1940              		.loc 1 554 34 view .LVU517
 1941 00e2 4046     		mov	r0, r8
 1942 00e4 4946     		mov	r1, r9
 1943 00e6 FFF7FEFF 		bl	__aeabi_dadd
 1944              	.LVL214:
 1945 00ea 8046     		mov	r8, r0
 1946 00ec 8946     		mov	r9, r1
 1947              		.loc 1 554 65 view .LVU518
 1948 00ee 07EE90BA 		vmov	s15, fp	@ int
 1949 00f2 F8EEE77A 		vcvt.f32.s32	s15, s15
 1950 00f6 17EE900A 		vmov	r0, s15
 1951 00fa FFF7FEFF 		bl	__aeabi_f2d
 1952              	.LVL215:
 1953              		.loc 1 554 62 view .LVU519
 1954 00fe 2EA3     		adr	r3, .L117+16
 1955 0100 D3E90023 		ldrd	r2, [r3]
 1956 0104 FFF7FEFF 		bl	__aeabi_dmul
 1957              	.LVL216:
 1958 0108 0246     		mov	r2, r0
 1959 010a 0B46     		mov	r3, r1
ARM GAS  /tmp/ccFJCU99.s 			page 47


 1960              		.loc 1 554 57 view .LVU520
 1961 010c 4046     		mov	r0, r8
 1962 010e 4946     		mov	r1, r9
 1963 0110 FFF7FEFF 		bl	__aeabi_dadd
 1964              	.LVL217:
 1965 0114 FFF7FEFF 		bl	__aeabi_d2f
 1966              	.LVL218:
 1967 0118 07EE900A 		vmov	s15, r0
 1968              		.loc 1 554 11 view .LVU521
 1969 011c 304A     		ldr	r2, .L117+56
 1970 011e 1060     		str	r0, [r2]	@ float
 555:Core/Src/mainLoop.c ****   tmpUint32 = abs((int32_t)(dletDac));
 1971              		.loc 1 555 3 is_stmt 1 view .LVU522
 1972              		.loc 1 555 19 is_stmt 0 view .LVU523
 1973 0120 FDEEE77A 		vcvt.s32.f32	s15, s15
 1974              	.LVL219:
 556:Core/Src/mainLoop.c ****   // if(runTime500us < RUN_30S) { //nomal operate
 557:Core/Src/mainLoop.c ****   // 	deltNoisV = 0;
 558:Core/Src/mainLoop.c ****   // }else { //add noise
 559:Core/Src/mainLoop.c ****   // 	if((runTime500us&0x01) != 0){ //2ms
 560:Core/Src/mainLoop.c ****   // 		deltNoisV = 3;
 561:Core/Src/mainLoop.c ****   // 		HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 562:Core/Src/mainLoop.c ****   // 	}else{
 563:Core/Src/mainLoop.c ****   // 		deltNoisV = 0;
 564:Core/Src/mainLoop.c ****   // 		HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 565:Core/Src/mainLoop.c ****   // 	}
 566:Core/Src/mainLoop.c ****   // }
 567:Core/Src/mainLoop.c ****   deltNoisV = 0;
 1975              		.loc 1 567 3 is_stmt 1 view .LVU524
 568:Core/Src/mainLoop.c ****   (*dacP) += (int32_t)(dletDac);
 1976              		.loc 1 568 3 view .LVU525
 1977              		.loc 1 568 11 is_stmt 0 view .LVU526
 1978 0124 2B68     		ldr	r3, [r5]
 1979 0126 17EE901A 		vmov	r1, s15	@ int
 1980 012a 0B44     		add	r3, r3, r1
 1981 012c 2B60     		str	r3, [r5]
 569:Core/Src/mainLoop.c ****   (*dacN) -= (int32_t)(dletDac);
 1982              		.loc 1 569 3 is_stmt 1 view .LVU527
 1983              		.loc 1 569 14 is_stmt 0 view .LVU528
 1984 012e D2ED007A 		vldr.32	s15, [r2]
 1985              	.LVL220:
 1986              		.loc 1 569 14 view .LVU529
 1987 0132 FDEEE77A 		vcvt.s32.f32	s15, s15
 1988              		.loc 1 569 11 view .LVU530
 1989 0136 3368     		ldr	r3, [r6]
 1990 0138 17EE902A 		vmov	r2, s15	@ int
 1991 013c 9B1A     		subs	r3, r3, r2
 1992 013e 3360     		str	r3, [r6]
 570:Core/Src/mainLoop.c ****   (*dacP) += deltNoisV;
 1993              		.loc 1 570 3 is_stmt 1 view .LVU531
 1994              		.loc 1 570 11 is_stmt 0 view .LVU532
 1995 0140 2968     		ldr	r1, [r5]
 1996              	.LVL221:
 571:Core/Src/mainLoop.c ****   (*dacN) -= deltNoisV;
 1997              		.loc 1 571 3 is_stmt 1 view .LVU533
 572:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1, (*dacP) >> 12, max_outenable);
 1998              		.loc 1 572 3 view .LVU534
ARM GAS  /tmp/ccFJCU99.s 			page 48


 1999 0142 0122     		movs	r2, #1
 2000 0144 090B     		lsrs	r1, r1, #12
 2001 0146 0620     		movs	r0, #6
 2002              	.LVL222:
 2003              		.loc 1 572 3 is_stmt 0 view .LVU535
 2004 0148 FFF7FEFF 		bl	max5307_w_chanel
 2005              	.LVL223:
 573:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1K, ((*dacP) & 0xfff), max_outenable);
 2006              		.loc 1 573 3 is_stmt 1 view .LVU536
 2007              		.loc 1 573 31 is_stmt 0 view .LVU537
 2008 014c 2968     		ldr	r1, [r5]
 2009              		.loc 1 573 3 view .LVU538
 2010 014e 0122     		movs	r2, #1
 2011 0150 C1F30B01 		ubfx	r1, r1, #0, #12
 2012 0154 0720     		movs	r0, #7
 2013 0156 FFF7FEFF 		bl	max5307_w_chanel
 2014              	.LVL224:
 574:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1, (*dacN) >> 12, max_outenable);
 2015              		.loc 1 574 3 is_stmt 1 view .LVU539
 2016              		.loc 1 574 29 is_stmt 0 view .LVU540
 2017 015a 3168     		ldr	r1, [r6]
 2018              		.loc 1 574 3 view .LVU541
 2019 015c 0122     		movs	r2, #1
 2020 015e 090B     		lsrs	r1, r1, #12
 2021 0160 0520     		movs	r0, #5
 2022 0162 FFF7FEFF 		bl	max5307_w_chanel
 2023              	.LVL225:
 575:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1K, ((*dacN) & 0xfff), max_outenable);
 2024              		.loc 1 575 3 is_stmt 1 view .LVU542
 2025              		.loc 1 575 31 is_stmt 0 view .LVU543
 2026 0166 3168     		ldr	r1, [r6]
 2027              		.loc 1 575 3 view .LVU544
 2028 0168 0122     		movs	r2, #1
 2029 016a C1F30B01 		ubfx	r1, r1, #0, #12
 2030 016e 0420     		movs	r0, #4
 2031 0170 FFF7FEFF 		bl	max5307_w_chanel
 2032              	.LVL226:
 576:Core/Src/mainLoop.c **** 
 577:Core/Src/mainLoop.c ****   // clear buf
 578:Core/Src/mainLoop.c ****   for (i = 0; i < ADC_BUF_T_SIZE; i++) {
 2033              		.loc 1 578 3 is_stmt 1 view .LVU545
 2034              		.loc 1 578 10 is_stmt 0 view .LVU546
 2035 0174 0023     		movs	r3, #0
 2036              		.loc 1 578 3 view .LVU547
 2037 0176 04E0     		b	.L113
 2038              	.LVL227:
 2039              	.L114:
 579:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2040              		.loc 1 579 5 is_stmt 1 discriminator 3 view .LVU548
 2041              		.loc 1 579 21 is_stmt 0 discriminator 3 view .LVU549
 2042 0178 04EB8302 		add	r2, r4, r3, lsl #2
 2043 017c 0021     		movs	r1, #0
 2044 017e 5160     		str	r1, [r2, #4]
 578:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2045              		.loc 1 578 35 is_stmt 1 discriminator 3 view .LVU550
 578:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2046              		.loc 1 578 36 is_stmt 0 discriminator 3 view .LVU551
ARM GAS  /tmp/ccFJCU99.s 			page 49


 2047 0180 0133     		adds	r3, r3, #1
 2048              	.LVL228:
 2049              	.L113:
 578:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2050              		.loc 1 578 15 is_stmt 1 discriminator 1 view .LVU552
 578:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2051              		.loc 1 578 3 is_stmt 0 discriminator 1 view .LVU553
 2052 0182 632B     		cmp	r3, #99
 2053 0184 F8DD     		ble	.L114
 580:Core/Src/mainLoop.c ****   }
 581:Core/Src/mainLoop.c ****   logPara.mean_adc_val = forSaveAllSum;
 2054              		.loc 1 581 3 is_stmt 1 view .LVU554
 2055              		.loc 1 581 24 is_stmt 0 view .LVU555
 2056 0186 174B     		ldr	r3, .L117+60
 2057              	.LVL229:
 2058              		.loc 1 581 24 view .LVU556
 2059 0188 A3F80170 		strh	r7, [r3, #1]	@ unaligned
 582:Core/Src/mainLoop.c ****   logPara.dac_val_n = (*dacN);
 2060              		.loc 1 582 3 is_stmt 1 view .LVU557
 2061              		.loc 1 582 24 is_stmt 0 view .LVU558
 2062 018c 3268     		ldr	r2, [r6]
 2063              		.loc 1 582 21 view .LVU559
 2064 018e C3F80720 		str	r2, [r3, #7]	@ unaligned
 583:Core/Src/mainLoop.c ****   logPara.dac_val_p = (*dacP);
 2065              		.loc 1 583 3 is_stmt 1 view .LVU560
 2066              		.loc 1 583 24 is_stmt 0 view .LVU561
 2067 0192 2A68     		ldr	r2, [r5]
 2068              		.loc 1 583 21 view .LVU562
 2069 0194 C3F80320 		str	r2, [r3, #3]	@ unaligned
 584:Core/Src/mainLoop.c ****   // HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 585:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_RESET);
 2070              		.loc 1 585 3 is_stmt 1 view .LVU563
 2071 0198 0022     		movs	r2, #0
 2072 019a 4FF48051 		mov	r1, #4096
 2073 019e 0848     		ldr	r0, .L117+24
 2074 01a0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2075              	.LVL230:
 586:Core/Src/mainLoop.c **** }
 2076              		.loc 1 586 1 is_stmt 0 view .LVU564
 2077 01a4 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2078              	.LVL231:
 2079              	.L118:
 2080              		.loc 1 586 1 view .LVU565
 2081              		.align	3
 2082              	.L117:
 2083 01a8 FCA9F1D2 		.word	3539053052
 2084 01ac 4D6240BF 		.word	-1086299571
 2085 01b0 88855AD3 		.word	3545925000
 2086 01b4 BCE3743F 		.word	1064625084
 2087 01b8 0AD7A370 		.word	1889785610
 2088 01bc 3D0AF23F 		.word	1072826941
 2089 01c0 00080240 		.word	1073874944
 2090 01c4 00000000 		.word	.LANCHOR9
 2091 01c8 00000000 		.word	.LANCHOR10
 2092 01cc 00000000 		.word	adcSumArray
 2093 01d0 00000000 		.word	.LANCHOR4
 2094 01d4 00000000 		.word	.LANCHOR5
ARM GAS  /tmp/ccFJCU99.s 			page 50


 2095 01d8 67666666 		.word	1717986919
 2096 01dc 00000000 		.word	.LANCHOR6
 2097 01e0 00000000 		.word	.LANCHOR7
 2098 01e4 00000000 		.word	logPara
 2099              		.cfi_endproc
 2100              	.LFE147:
 2102              		.section	.text.cal_cp_output_dac_ext_1,"ax",%progbits
 2103              		.align	1
 2104              		.global	cal_cp_output_dac_ext_1
 2105              		.syntax unified
 2106              		.thumb
 2107              		.thumb_func
 2108              		.fpu fpv4-sp-d16
 2110              	cal_cp_output_dac_ext_1:
 2111              	.LVL232:
 2112              	.LFB148:
 587:Core/Src/mainLoop.c **** 
 588:Core/Src/mainLoop.c **** uint16_t forSaveAllSum = 0;
 589:Core/Src/mainLoop.c **** 
 590:Core/Src/mainLoop.c **** // 2024.4.26Ë∞ÉÊï¥Ë∑üË∏™ÁÆóÊ≥ïÔºå‰ª•ÂâçÁöÑÁÆóÊ≥ïÊúâÂèØËÉΩ‰ºöÂá∫Áé∞ÂêåÊ≠•Áé∞Ë±°
 591:Core/Src/mainLoop.c **** #define TARGET_CPV_1 (2048)
 592:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext_1(struct adc_buf_t *adc_buf, uint32_t *dacP,
 593:Core/Src/mainLoop.c ****                              uint32_t *dacN, int32_t runTime500us) {
 2113              		.loc 1 593 68 is_stmt 1 view -0
 2114              		.cfi_startproc
 2115              		@ args = 0, pretend = 0, frame = 0
 2116              		@ frame_needed = 0, uses_anonymous_args = 0
 2117              		.loc 1 593 68 is_stmt 0 view .LVU567
 2118 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2119              	.LCFI18:
 2120              		.cfi_def_cfa_offset 32
 2121              		.cfi_offset 4, -32
 2122              		.cfi_offset 5, -28
 2123              		.cfi_offset 6, -24
 2124              		.cfi_offset 7, -20
 2125              		.cfi_offset 8, -16
 2126              		.cfi_offset 9, -12
 2127              		.cfi_offset 10, -8
 2128              		.cfi_offset 14, -4
 2129 0004 0546     		mov	r5, r0
 2130 0006 0E46     		mov	r6, r1
 2131 0008 1746     		mov	r7, r2
 594:Core/Src/mainLoop.c ****   int32_t i = 0;
 2132              		.loc 1 594 3 is_stmt 1 view .LVU568
 2133              	.LVL233:
 595:Core/Src/mainLoop.c ****   int32_t N = ADC_BUF_T_SIZE;
 2134              		.loc 1 595 3 view .LVU569
 596:Core/Src/mainLoop.c ****   int32_t allSum = 0;
 2135              		.loc 1 596 3 view .LVU570
 597:Core/Src/mainLoop.c **** 
 598:Core/Src/mainLoop.c ****   uint32_t tmpUint32 = 0;
 2136              		.loc 1 598 3 view .LVU571
 599:Core/Src/mainLoop.c ****   int32_t deltNoisV = 0;
 2137              		.loc 1 599 3 view .LVU572
 600:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_SET);
 2138              		.loc 1 600 3 view .LVU573
 2139 000a 0122     		movs	r2, #1
ARM GAS  /tmp/ccFJCU99.s 			page 51


 2140              	.LVL234:
 2141              		.loc 1 600 3 is_stmt 0 view .LVU574
 2142 000c 4FF48051 		mov	r1, #4096
 2143              	.LVL235:
 2144              		.loc 1 600 3 view .LVU575
 2145 0010 7B48     		ldr	r0, .L132+24
 2146              	.LVL236:
 2147              		.loc 1 600 3 view .LVU576
 2148 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2149              	.LVL237:
 601:Core/Src/mainLoop.c **** 
 602:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 2150              		.loc 1 602 3 is_stmt 1 view .LVU577
 596:Core/Src/mainLoop.c **** 
 2151              		.loc 1 596 11 is_stmt 0 view .LVU578
 2152 0016 0024     		movs	r4, #0
 2153              		.loc 1 602 10 view .LVU579
 2154 0018 2246     		mov	r2, r4
 2155              	.LVL238:
 2156              	.L120:
 2157              		.loc 1 602 15 is_stmt 1 discriminator 1 view .LVU580
 2158              		.loc 1 602 3 is_stmt 0 discriminator 1 view .LVU581
 2159 001a 632A     		cmp	r2, #99
 2160 001c 0ADC     		bgt	.L130
 603:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2161              		.loc 1 603 5 is_stmt 1 discriminator 3 view .LVU582
 2162              		.loc 1 603 38 is_stmt 0 discriminator 3 view .LVU583
 2163 001e 05EB8203 		add	r3, r5, r2, lsl #2
 2164 0022 5B68     		ldr	r3, [r3, #4]
 2165              		.loc 1 603 15 discriminator 3 view .LVU584
 2166 0024 C3F30B01 		ubfx	r1, r3, #0, #12
 2167              		.loc 1 603 12 discriminator 3 view .LVU585
 2168 0028 0C44     		add	r4, r4, r1
 2169              	.LVL239:
 604:Core/Src/mainLoop.c ****     allSum += (int32_t)(((adc_buf->buf[i] >> 16) & 0x0fff));
 2170              		.loc 1 604 5 is_stmt 1 discriminator 3 view .LVU586
 2171              		.loc 1 604 15 is_stmt 0 discriminator 3 view .LVU587
 2172 002a C3F30B43 		ubfx	r3, r3, #16, #12
 2173              		.loc 1 604 12 discriminator 3 view .LVU588
 2174 002e 1C44     		add	r4, r4, r3
 2175              	.LVL240:
 602:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2176              		.loc 1 602 22 is_stmt 1 discriminator 3 view .LVU589
 602:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2177              		.loc 1 602 23 is_stmt 0 discriminator 3 view .LVU590
 2178 0030 0132     		adds	r2, r2, #1
 2179              	.LVL241:
 602:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2180              		.loc 1 602 23 discriminator 3 view .LVU591
 2181 0032 F2E7     		b	.L120
 2182              	.L130:
 605:Core/Src/mainLoop.c ****   }
 606:Core/Src/mainLoop.c ****   allSum = allSum / (N * 2);
 2183              		.loc 1 606 3 is_stmt 1 view .LVU592
 2184              		.loc 1 606 10 is_stmt 0 view .LVU593
 2185 0034 734B     		ldr	r3, .L132+28
 2186 0036 83FB0423 		smull	r2, r3, r3, r4
ARM GAS  /tmp/ccFJCU99.s 			page 52


 2187              	.LVL242:
 2188              		.loc 1 606 10 view .LVU594
 2189 003a E017     		asrs	r0, r4, #31
 2190 003c C0EBA310 		rsb	r0, r0, r3, asr #6
 2191              	.LVL243:
 607:Core/Src/mainLoop.c ****   //allSum = adc_buf->buf[0];
 608:Core/Src/mainLoop.c ****   //  allSum = (adc_buf->buf[99]&0x0fff);
 609:Core/Src/mainLoop.c ****   forSaveAllSum = allSum;
 2192              		.loc 1 609 3 is_stmt 1 view .LVU595
 610:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACP_1,  (((adc_buf->buf[0]) >> 0)&0xfff), max_outenable);
 611:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACN_1,  (((adc_buf->buf[0]) >> 0)&0xfff), max_outenable);
 612:Core/Src/mainLoop.c ****   // return;
 613:Core/Src/mainLoop.c ****   allSum = allSum - TARGET_CPV_1;
 2193              		.loc 1 613 3 view .LVU596
 2194              		.loc 1 613 10 is_stmt 0 view .LVU597
 2195 0040 A0F50060 		sub	r0, r0, #2048
 2196              	.LVL244:
 614:Core/Src/mainLoop.c ****   forSaveAllSum = abs(allSum);
 2197              		.loc 1 614 3 is_stmt 1 view .LVU598
 2198              		.loc 1 614 19 is_stmt 0 view .LVU599
 2199 0044 80EAE072 		eor	r2, r0, r0, asr #31
 2200 0048 A2EBE072 		sub	r2, r2, r0, asr #31
 2201              		.loc 1 614 17 view .LVU600
 2202 004c 6E4B     		ldr	r3, .L132+32
 2203 004e 1A80     		strh	r2, [r3]	@ movhi
 615:Core/Src/mainLoop.c ****   // insertMeanVal(allSum,adc_buf);
 616:Core/Src/mainLoop.c ****   // meanVal_view = adc_buf->adcMeanVal;
 617:Core/Src/mainLoop.c ****   // difVal_view  = adc_buf->adcDif2;
 618:Core/Src/mainLoop.c **** 
 619:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE - 1; i++) {
 2204              		.loc 1 619 3 is_stmt 1 view .LVU601
 2205              	.LVL245:
 2206              		.loc 1 619 10 is_stmt 0 view .LVU602
 2207 0050 0023     		movs	r3, #0
 2208              		.loc 1 619 3 view .LVU603
 2209 0052 06E0     		b	.L122
 2210              	.LVL246:
 2211              	.L123:
 620:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 2212              		.loc 1 620 5 is_stmt 1 discriminator 3 view .LVU604
 2213              		.loc 1 620 36 is_stmt 0 discriminator 3 view .LVU605
 2214 0054 5A1C     		adds	r2, r3, #1
 2215              		.loc 1 620 33 discriminator 3 view .LVU606
 2216 0056 6D49     		ldr	r1, .L132+36
 2217 0058 51F82240 		ldr	r4, [r1, r2, lsl #2]
 2218              		.loc 1 620 20 discriminator 3 view .LVU607
 2219 005c 41F82340 		str	r4, [r1, r3, lsl #2]
 619:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 2220              		.loc 1 619 41 is_stmt 1 discriminator 3 view .LVU608
 2221              	.LVL247:
 619:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 2222              		.loc 1 619 42 is_stmt 0 discriminator 3 view .LVU609
 2223 0060 1346     		mov	r3, r2
 2224              	.LVL248:
 2225              	.L122:
 619:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 2226              		.loc 1 619 15 is_stmt 1 discriminator 1 view .LVU610
ARM GAS  /tmp/ccFJCU99.s 			page 53


 619:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 2227              		.loc 1 619 3 is_stmt 0 discriminator 1 view .LVU611
 2228 0062 082B     		cmp	r3, #8
 2229 0064 F6DD     		ble	.L123
 621:Core/Src/mainLoop.c ****   }
 622:Core/Src/mainLoop.c ****   adcSumArray[ADCSUMARRAY_SIZE - 1] = allSum;
 2230              		.loc 1 622 3 is_stmt 1 view .LVU612
 2231              		.loc 1 622 37 is_stmt 0 view .LVU613
 2232 0066 694B     		ldr	r3, .L132+36
 2233              	.LVL249:
 2234              		.loc 1 622 37 view .LVU614
 2235 0068 5862     		str	r0, [r3, #36]
 623:Core/Src/mainLoop.c **** 
 624:Core/Src/mainLoop.c ****   // pid
 625:Core/Src/mainLoop.c ****   pidP = adcSumArray[ADCSUMARRAY_SIZE - 1];
 2236              		.loc 1 625 3 is_stmt 1 view .LVU615
 2237              		.loc 1 625 8 is_stmt 0 view .LVU616
 2238 006a 694B     		ldr	r3, .L132+40
 2239 006c 1860     		str	r0, [r3]
 626:Core/Src/mainLoop.c ****   pidI = 0;
 2240              		.loc 1 626 3 is_stmt 1 view .LVU617
 2241              		.loc 1 626 8 is_stmt 0 view .LVU618
 2242 006e 0023     		movs	r3, #0
 2243 0070 684A     		ldr	r2, .L132+44
 2244 0072 1360     		str	r3, [r2]
 627:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 2245              		.loc 1 627 3 is_stmt 1 view .LVU619
 2246              	.LVL250:
 2247              		.loc 1 627 3 is_stmt 0 view .LVU620
 2248 0074 07E0     		b	.L124
 2249              	.LVL251:
 2250              	.L125:
 628:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 2251              		.loc 1 628 5 is_stmt 1 discriminator 3 view .LVU621
 2252              		.loc 1 628 24 is_stmt 0 discriminator 3 view .LVU622
 2253 0076 654A     		ldr	r2, .L132+36
 2254 0078 52F82340 		ldr	r4, [r2, r3, lsl #2]
 2255              		.loc 1 628 10 discriminator 3 view .LVU623
 2256 007c 6549     		ldr	r1, .L132+44
 2257 007e 0A68     		ldr	r2, [r1]
 2258 0080 2244     		add	r2, r2, r4
 2259 0082 0A60     		str	r2, [r1]
 627:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 2260              		.loc 1 627 37 is_stmt 1 discriminator 3 view .LVU624
 627:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 2261              		.loc 1 627 38 is_stmt 0 discriminator 3 view .LVU625
 2262 0084 0133     		adds	r3, r3, #1
 2263              	.LVL252:
 2264              	.L124:
 627:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 2265              		.loc 1 627 15 is_stmt 1 discriminator 1 view .LVU626
 627:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 2266              		.loc 1 627 3 is_stmt 0 discriminator 1 view .LVU627
 2267 0086 092B     		cmp	r3, #9
 2268 0088 F5DD     		ble	.L125
 629:Core/Src/mainLoop.c ****   }
 630:Core/Src/mainLoop.c ****   pidI = pidI / ADCSUMARRAY_SIZE;
ARM GAS  /tmp/ccFJCU99.s 			page 54


 2269              		.loc 1 630 3 is_stmt 1 view .LVU628
 2270              		.loc 1 630 15 is_stmt 0 view .LVU629
 2271 008a 6249     		ldr	r1, .L132+44
 2272 008c 0B68     		ldr	r3, [r1]
 2273              	.LVL253:
 2274              		.loc 1 630 15 view .LVU630
 2275 008e 624A     		ldr	r2, .L132+48
 2276 0090 82FB032A 		smull	r2, r10, r2, r3
 2277 0094 DB17     		asrs	r3, r3, #31
 2278 0096 C3EBAA0A 		rsb	r10, r3, r10, asr #2
 2279              		.loc 1 630 8 view .LVU631
 2280 009a C1F800A0 		str	r10, [r1]
 631:Core/Src/mainLoop.c ****   pidD = adcSumArray[ADCSUMARRAY_SIZE - 1] - adcSumArray[ADCSUMARRAY_SIZE - 2];
 2281              		.loc 1 631 3 is_stmt 1 view .LVU632
 2282              		.loc 1 631 57 is_stmt 0 view .LVU633
 2283 009e 5B4B     		ldr	r3, .L132+36
 2284 00a0 1C6A     		ldr	r4, [r3, #32]
 2285              		.loc 1 631 44 view .LVU634
 2286 00a2 041B     		subs	r4, r0, r4
 2287              		.loc 1 631 8 view .LVU635
 2288 00a4 5D4B     		ldr	r3, .L132+52
 2289 00a6 1C60     		str	r4, [r3]
 632:Core/Src/mainLoop.c **** #define kP_1 (  -5.000260100000105)
 633:Core/Src/mainLoop.c **** #define kI_1 (  -50.610551)
 634:Core/Src/mainLoop.c **** #define kD_1 ( -500.26)
 635:Core/Src/mainLoop.c **** 
 636:Core/Src/mainLoop.c **** // #define kP_1 (  -0.50100000105)
 637:Core/Src/mainLoop.c **** // #define kI_1 (  -5.0610551)
 638:Core/Src/mainLoop.c **** // #define kD_1 ( -50.1026)
 639:Core/Src/mainLoop.c ****   // 1,1k,1M‰∏âÊÆµÂèØ‰ª•Êî∂Êïõ
 640:Core/Src/mainLoop.c ****   //  #define kP_1 (-1000.05)
 641:Core/Src/mainLoop.c ****   //  #define kI_1 (+1000.51)
 642:Core/Src/mainLoop.c ****   //  #define kD_1 (1000.1275)
 643:Core/Src/mainLoop.c ****   // 1,1k‰∏§ÊÆµÂèØ‰ª•Êî∂Êïõ
 644:Core/Src/mainLoop.c ****   //  #define kP (-0.0005)
 645:Core/Src/mainLoop.c ****   //  #define kI (+0.0051)
 646:Core/Src/mainLoop.c ****   //  #define kD (1.1275)
 647:Core/Src/mainLoop.c ****   dletDac = kP_1 * ((double_t)pidP) + kI_1 * ((double_t)pidI) +
 2290              		.loc 1 647 3 is_stmt 1 view .LVU636
 2291              		.loc 1 647 21 is_stmt 0 view .LVU637
 2292 00a8 FFF7FEFF 		bl	__aeabi_i2d
 2293              	.LVL254:
 2294              		.loc 1 647 18 view .LVU638
 2295 00ac 4EA3     		adr	r3, .L132
 2296 00ae D3E90023 		ldrd	r2, [r3]
 2297 00b2 FFF7FEFF 		bl	__aeabi_dmul
 2298              	.LVL255:
 2299 00b6 8046     		mov	r8, r0
 2300 00b8 8946     		mov	r9, r1
 2301              		.loc 1 647 47 view .LVU639
 2302 00ba 5046     		mov	r0, r10
 2303 00bc FFF7FEFF 		bl	__aeabi_i2d
 2304              	.LVL256:
 2305              		.loc 1 647 44 view .LVU640
 2306 00c0 4BA3     		adr	r3, .L132+8
 2307 00c2 D3E90023 		ldrd	r2, [r3]
 2308 00c6 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /tmp/ccFJCU99.s 			page 55


 2309              	.LVL257:
 2310 00ca 0246     		mov	r2, r0
 2311 00cc 0B46     		mov	r3, r1
 2312              		.loc 1 647 37 view .LVU641
 2313 00ce 4046     		mov	r0, r8
 2314 00d0 4946     		mov	r1, r9
 2315 00d2 FFF7FEFF 		bl	__aeabi_dadd
 2316              	.LVL258:
 2317 00d6 8046     		mov	r8, r0
 2318 00d8 8946     		mov	r9, r1
 648:Core/Src/mainLoop.c ****             kD_1 * ((double_t)pidD);
 2319              		.loc 1 648 21 view .LVU642
 2320 00da 2046     		mov	r0, r4
 2321 00dc FFF7FEFF 		bl	__aeabi_i2d
 2322              	.LVL259:
 2323              		.loc 1 648 18 view .LVU643
 2324 00e0 45A3     		adr	r3, .L132+16
 2325 00e2 D3E90023 		ldrd	r2, [r3]
 2326 00e6 FFF7FEFF 		bl	__aeabi_dmul
 2327              	.LVL260:
 2328 00ea 0246     		mov	r2, r0
 2329 00ec 0B46     		mov	r3, r1
 647:Core/Src/mainLoop.c ****             kD_1 * ((double_t)pidD);
 2330              		.loc 1 647 63 view .LVU644
 2331 00ee 4046     		mov	r0, r8
 2332 00f0 4946     		mov	r1, r9
 2333 00f2 FFF7FEFF 		bl	__aeabi_dadd
 2334              	.LVL261:
 2335 00f6 FFF7FEFF 		bl	__aeabi_d2f
 2336              	.LVL262:
 2337 00fa 07EE900A 		vmov	s15, r0
 647:Core/Src/mainLoop.c ****             kD_1 * ((double_t)pidD);
 2338              		.loc 1 647 11 view .LVU645
 2339 00fe 484A     		ldr	r2, .L132+56
 2340 0100 1060     		str	r0, [r2]	@ float
 649:Core/Src/mainLoop.c ****   tmpUint32 = abs((int32_t)(dletDac));
 2341              		.loc 1 649 3 is_stmt 1 view .LVU646
 2342              		.loc 1 649 19 is_stmt 0 view .LVU647
 2343 0102 FDEEE77A 		vcvt.s32.f32	s15, s15
 2344              	.LVL263:
 650:Core/Src/mainLoop.c **** 
 651:Core/Src/mainLoop.c ****   deltNoisV = 0;
 2345              		.loc 1 651 3 is_stmt 1 view .LVU648
 652:Core/Src/mainLoop.c **** 
 653:Core/Src/mainLoop.c ****   // (*dacP) += (int32_t)(dletDac);
 654:Core/Src/mainLoop.c ****   // (*dacN) -= (int32_t)(dletDac);
 655:Core/Src/mainLoop.c ****   // (*dacP) += deltNoisV;
 656:Core/Src/mainLoop.c ****   // (*dacN) -= deltNoisV;
 657:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACP_1, ((*dacP)  >> 12)&0xfff, max_outdisable);
 658:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACP_1K, (((*dacP)>>0) & 0xfff), max_outdisable);
 659:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACN_1, ((*dacN)  >> 12)&0xfff, max_outdisable);
 660:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACN_1K, (((*dacN)>>0) & 0xfff), max_outdisable);
 661:Core/Src/mainLoop.c **** 
 662:Core/Src/mainLoop.c ****   (*dacP) += (int32_t)(dletDac);
 2346              		.loc 1 662 3 view .LVU649
 2347              		.loc 1 662 11 is_stmt 0 view .LVU650
 2348 0106 3368     		ldr	r3, [r6]
ARM GAS  /tmp/ccFJCU99.s 			page 56


 2349 0108 17EE901A 		vmov	r1, s15	@ int
 2350 010c 0B44     		add	r3, r3, r1
 2351 010e 3360     		str	r3, [r6]
 663:Core/Src/mainLoop.c ****   (*dacN) -= (int32_t)(dletDac);
 2352              		.loc 1 663 3 is_stmt 1 view .LVU651
 2353              		.loc 1 663 14 is_stmt 0 view .LVU652
 2354 0110 D2ED007A 		vldr.32	s15, [r2]
 2355              	.LVL264:
 2356              		.loc 1 663 14 view .LVU653
 2357 0114 FDEEE77A 		vcvt.s32.f32	s15, s15
 2358              		.loc 1 663 11 view .LVU654
 2359 0118 3B68     		ldr	r3, [r7]
 2360 011a 17EE902A 		vmov	r2, s15	@ int
 2361 011e 9B1A     		subs	r3, r3, r2
 2362 0120 3B60     		str	r3, [r7]
 664:Core/Src/mainLoop.c ****   (*dacP) += deltNoisV;
 2363              		.loc 1 664 3 is_stmt 1 view .LVU655
 2364              		.loc 1 664 11 is_stmt 0 view .LVU656
 2365 0122 3168     		ldr	r1, [r6]
 2366              	.LVL265:
 665:Core/Src/mainLoop.c ****   (*dacN) -= deltNoisV;
 2367              		.loc 1 665 3 is_stmt 1 view .LVU657
 666:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1, (((*dacP) >> 20) & 0xffc), max_outdisable);
 2368              		.loc 1 666 3 view .LVU658
 2369 0124 40F6FC74 		movw	r4, #4092
 2370 0128 0222     		movs	r2, #2
 2371 012a 04EA1151 		and	r1, r4, r1, lsr #20
 2372 012e 0620     		movs	r0, #6
 2373              	.LVL266:
 2374              		.loc 1 666 3 is_stmt 0 view .LVU659
 2375 0130 FFF7FEFF 		bl	max5307_w_chanel
 2376              	.LVL267:
 667:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1K, (((*dacP) >> 10) & 0xffc), max_outdisable);
 2377              		.loc 1 667 3 is_stmt 1 view .LVU660
 2378              		.loc 1 667 32 is_stmt 0 view .LVU661
 2379 0134 3168     		ldr	r1, [r6]
 2380              		.loc 1 667 3 view .LVU662
 2381 0136 0222     		movs	r2, #2
 2382 0138 04EA9121 		and	r1, r4, r1, lsr #10
 2383 013c 0720     		movs	r0, #7
 2384 013e FFF7FEFF 		bl	max5307_w_chanel
 2385              	.LVL268:
 668:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1M, ((*dacP) & 0xfff) & 0xfff, max_outdisable);
 2386              		.loc 1 668 3 is_stmt 1 view .LVU663
 2387              		.loc 1 668 31 is_stmt 0 view .LVU664
 2388 0142 3168     		ldr	r1, [r6]
 2389              		.loc 1 668 3 view .LVU665
 2390 0144 0222     		movs	r2, #2
 2391 0146 C1F30B01 		ubfx	r1, r1, #0, #12
 2392 014a 0820     		movs	r0, #8
 2393 014c FFF7FEFF 		bl	max5307_w_chanel
 2394              	.LVL269:
 669:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1, (((*dacN) >> 20) & 0xffc), max_outdisable);
 2395              		.loc 1 669 3 is_stmt 1 view .LVU666
 2396              		.loc 1 669 31 is_stmt 0 view .LVU667
 2397 0150 3968     		ldr	r1, [r7]
 2398              		.loc 1 669 3 view .LVU668
ARM GAS  /tmp/ccFJCU99.s 			page 57


 2399 0152 0222     		movs	r2, #2
 2400 0154 04EA1151 		and	r1, r4, r1, lsr #20
 2401 0158 0520     		movs	r0, #5
 2402 015a FFF7FEFF 		bl	max5307_w_chanel
 2403              	.LVL270:
 670:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1K, (((*dacN) >> 10) & 0xffc), max_outdisable);
 2404              		.loc 1 670 3 is_stmt 1 view .LVU669
 2405              		.loc 1 670 32 is_stmt 0 view .LVU670
 2406 015e 3968     		ldr	r1, [r7]
 2407              		.loc 1 670 3 view .LVU671
 2408 0160 0222     		movs	r2, #2
 2409 0162 04EA9121 		and	r1, r4, r1, lsr #10
 2410 0166 0420     		movs	r0, #4
 2411 0168 FFF7FEFF 		bl	max5307_w_chanel
 2412              	.LVL271:
 671:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1M, ((*dacN) & 0xfff) & 0xfff, max_outdisable);
 2413              		.loc 1 671 3 is_stmt 1 view .LVU672
 2414              		.loc 1 671 31 is_stmt 0 view .LVU673
 2415 016c 3968     		ldr	r1, [r7]
 2416              		.loc 1 671 3 view .LVU674
 2417 016e 0222     		movs	r2, #2
 2418 0170 C1F30B01 		ubfx	r1, r1, #0, #12
 2419 0174 0320     		movs	r0, #3
 2420 0176 FFF7FEFF 		bl	max5307_w_chanel
 2421              	.LVL272:
 672:Core/Src/mainLoop.c **** 
 673:Core/Src/mainLoop.c ****   do {
 2422              		.loc 1 673 3 is_stmt 1 view .LVU675
 2423              	.LBB5:
 674:Core/Src/mainLoop.c ****     uint16_t chanelNo = 0;
 2424              		.loc 1 674 5 view .LVU676
 675:Core/Src/mainLoop.c ****     chanelNo = 0x01 << (DACP_1 + 2) | 0x01 << (DACP_1K + 2) |
 2425              		.loc 1 675 5 view .LVU677
 676:Core/Src/mainLoop.c ****                0x01 << (DACP_1M + 2) | 0x01 << (DACN_1 + 2) |
 677:Core/Src/mainLoop.c ****                0x01 << (DACN_1K + 2) | 0x01 << (DACN_1M + 2);
 678:Core/Src/mainLoop.c ****     max5307_enable_ori_chanel(chanelNo);
 2426              		.loc 1 678 5 view .LVU678
 2427 017a 4FF4FC60 		mov	r0, #2016
 2428 017e FFF7FEFF 		bl	max5307_enable_ori_chanel
 2429              	.LVL273:
 2430              	.LBE5:
 679:Core/Src/mainLoop.c ****   } while (0);
 2431              		.loc 1 679 11 view .LVU679
 680:Core/Src/mainLoop.c **** 
 681:Core/Src/mainLoop.c ****   // clear buf
 682:Core/Src/mainLoop.c ****   for (i = 0; i < ADC_BUF_T_SIZE; i++) {
 2432              		.loc 1 682 3 view .LVU680
 2433              		.loc 1 682 10 is_stmt 0 view .LVU681
 2434 0182 0023     		movs	r3, #0
 2435              		.loc 1 682 3 view .LVU682
 2436 0184 04E0     		b	.L126
 2437              	.LVL274:
 2438              	.L127:
 683:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2439              		.loc 1 683 5 is_stmt 1 discriminator 3 view .LVU683
 2440              		.loc 1 683 21 is_stmt 0 discriminator 3 view .LVU684
 2441 0186 05EB8302 		add	r2, r5, r3, lsl #2
ARM GAS  /tmp/ccFJCU99.s 			page 58


 2442 018a 0021     		movs	r1, #0
 2443 018c 5160     		str	r1, [r2, #4]
 682:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2444              		.loc 1 682 35 is_stmt 1 discriminator 3 view .LVU685
 682:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2445              		.loc 1 682 36 is_stmt 0 discriminator 3 view .LVU686
 2446 018e 0133     		adds	r3, r3, #1
 2447              	.LVL275:
 2448              	.L126:
 682:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2449              		.loc 1 682 15 is_stmt 1 discriminator 1 view .LVU687
 682:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2450              		.loc 1 682 3 is_stmt 0 discriminator 1 view .LVU688
 2451 0190 632B     		cmp	r3, #99
 2452 0192 F8DD     		ble	.L127
 684:Core/Src/mainLoop.c ****   }
 685:Core/Src/mainLoop.c ****   logPara.mean_adc_val = forSaveAllSum;
 2453              		.loc 1 685 3 is_stmt 1 view .LVU689
 2454              		.loc 1 685 24 is_stmt 0 view .LVU690
 2455 0194 1C4B     		ldr	r3, .L132+32
 2456              	.LVL276:
 2457              		.loc 1 685 24 view .LVU691
 2458 0196 1C88     		ldrh	r4, [r3]
 2459 0198 224B     		ldr	r3, .L132+60
 2460 019a A3F80140 		strh	r4, [r3, #1]	@ unaligned
 686:Core/Src/mainLoop.c ****   // logPara.mean_adc_val = pidI;
 687:Core/Src/mainLoop.c ****   logPara.dac_val_n = (*dacN);
 2461              		.loc 1 687 3 is_stmt 1 view .LVU692
 2462              		.loc 1 687 24 is_stmt 0 view .LVU693
 2463 019e 3A68     		ldr	r2, [r7]
 2464              		.loc 1 687 21 view .LVU694
 2465 01a0 C3F80720 		str	r2, [r3, #7]	@ unaligned
 688:Core/Src/mainLoop.c ****   logPara.dac_val_p = (*dacP);
 2466              		.loc 1 688 3 is_stmt 1 view .LVU695
 2467              		.loc 1 688 24 is_stmt 0 view .LVU696
 2468 01a4 3068     		ldr	r0, [r6]
 2469              		.loc 1 688 21 view .LVU697
 2470 01a6 C3F80300 		str	r0, [r3, #3]	@ unaligned
 689:Core/Src/mainLoop.c ****   // HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 690:Core/Src/mainLoop.c ****   //2024.6.11‰∏∫‰∫Ü‰øùËØÅ‰∏≤Âè£Êï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÂä†ÂÖ•‰∏ãÈù¢‰ª£Á†Å
 691:Core/Src/mainLoop.c ****   
 692:Core/Src/mainLoop.c ****   if(uartDMA_tri_sign == UART_TRI_OK){
 2471              		.loc 1 692 3 is_stmt 1 view .LVU698
 2472              		.loc 1 692 23 is_stmt 0 view .LVU699
 2473 01aa 1F4B     		ldr	r3, .L132+64
 2474 01ac 1968     		ldr	r1, [r3]
 2475              		.loc 1 692 5 view .LVU700
 2476 01ae 45F25553 		movw	r3, #21845
 2477 01b2 9942     		cmp	r1, r3
 2478 01b4 07D0     		beq	.L131
 2479              	.L128:
 693:Core/Src/mainLoop.c ****     logBufDma.mean_adc_val = logPara.mean_adc_val;
 694:Core/Src/mainLoop.c ****     logBufDma.dac_val_p = logPara.dac_val_p;
 695:Core/Src/mainLoop.c ****     logBufDma.dac_val_n = logPara.dac_val_n;
 696:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_WAIT;
 697:Core/Src/mainLoop.c ****     HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
 698:Core/Src/mainLoop.c ****                           sizeof(struct log_para_t));
ARM GAS  /tmp/ccFJCU99.s 			page 59


 699:Core/Src/mainLoop.c ****   }
 700:Core/Src/mainLoop.c ****   
 701:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_RESET);
 2480              		.loc 1 701 3 is_stmt 1 view .LVU701
 2481 01b6 0022     		movs	r2, #0
 2482 01b8 4FF48051 		mov	r1, #4096
 2483 01bc 1048     		ldr	r0, .L132+24
 2484 01be FFF7FEFF 		bl	HAL_GPIO_WritePin
 2485              	.LVL277:
 702:Core/Src/mainLoop.c **** }
 2486              		.loc 1 702 1 is_stmt 0 view .LVU702
 2487 01c2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2488              	.LVL278:
 2489              	.L131:
 693:Core/Src/mainLoop.c ****     logBufDma.mean_adc_val = logPara.mean_adc_val;
 2490              		.loc 1 693 5 is_stmt 1 view .LVU703
 693:Core/Src/mainLoop.c ****     logBufDma.mean_adc_val = logPara.mean_adc_val;
 2491              		.loc 1 693 28 is_stmt 0 view .LVU704
 2492 01c6 1949     		ldr	r1, .L132+68
 2493 01c8 A1F80140 		strh	r4, [r1, #1]	@ unaligned
 694:Core/Src/mainLoop.c ****     logBufDma.dac_val_n = logPara.dac_val_n;
 2494              		.loc 1 694 5 is_stmt 1 view .LVU705
 694:Core/Src/mainLoop.c ****     logBufDma.dac_val_n = logPara.dac_val_n;
 2495              		.loc 1 694 25 is_stmt 0 view .LVU706
 2496 01cc C1F80300 		str	r0, [r1, #3]	@ unaligned
 695:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_WAIT;
 2497              		.loc 1 695 5 is_stmt 1 view .LVU707
 695:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_WAIT;
 2498              		.loc 1 695 25 is_stmt 0 view .LVU708
 2499 01d0 C1F80720 		str	r2, [r1, #7]	@ unaligned
 696:Core/Src/mainLoop.c ****     HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
 2500              		.loc 1 696 5 is_stmt 1 view .LVU709
 696:Core/Src/mainLoop.c ****     HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
 2501              		.loc 1 696 22 is_stmt 0 view .LVU710
 2502 01d4 144B     		ldr	r3, .L132+64
 2503 01d6 43F23332 		movw	r2, #13107
 2504 01da 1A60     		str	r2, [r3]
 697:Core/Src/mainLoop.c ****                           sizeof(struct log_para_t));
 2505              		.loc 1 697 5 is_stmt 1 view .LVU711
 2506 01dc 0B22     		movs	r2, #11
 2507 01de 1448     		ldr	r0, .L132+72
 2508 01e0 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 2509              	.LVL279:
 2510 01e4 E7E7     		b	.L128
 2511              	.L133:
 2512 01e6 00BF     		.align	3
 2513              	.L132:
 2514 01e8 00FA032F 		.word	788789760
 2515 01ec 440014C0 		.word	-1072431036
 2516 01f0 22C50089 		.word	2298529058
 2517 01f4 264E49C0 		.word	-1068937690
 2518 01f8 5C8FC2F5 		.word	4123168604
 2519 01fc 28447FC0 		.word	-1065401304
 2520 0200 00080240 		.word	1073874944
 2521 0204 1F85EB51 		.word	1374389535
 2522 0208 00000000 		.word	.LANCHOR11
 2523 020c 00000000 		.word	adcSumArray
ARM GAS  /tmp/ccFJCU99.s 			page 60


 2524 0210 00000000 		.word	.LANCHOR4
 2525 0214 00000000 		.word	.LANCHOR5
 2526 0218 67666666 		.word	1717986919
 2527 021c 00000000 		.word	.LANCHOR6
 2528 0220 00000000 		.word	.LANCHOR7
 2529 0224 00000000 		.word	logPara
 2530 0228 00000000 		.word	.LANCHOR12
 2531 022c 00000000 		.word	logBufDma
 2532 0230 00000000 		.word	huart2
 2533              		.cfi_endproc
 2534              	.LFE148:
 2536              		.section	.text.cal_cp_output_dac_ext_2,"ax",%progbits
 2537              		.align	1
 2538              		.global	cal_cp_output_dac_ext_2
 2539              		.syntax unified
 2540              		.thumb
 2541              		.thumb_func
 2542              		.fpu fpv4-sp-d16
 2544              	cal_cp_output_dac_ext_2:
 2545              	.LVL280:
 2546              	.LFB149:
 703:Core/Src/mainLoop.c **** 
 704:Core/Src/mainLoop.c **** // 2024.4.26Ë∞ÉÊï¥Ë∑üË∏™ÁÆóÊ≥ïÔºå‰ª•ÂâçÁöÑÁÆóÊ≥ïÊúâÂèØËÉΩ‰ºöÂá∫Áé∞ÂêåÊ≠•Áé∞Ë±°
 705:Core/Src/mainLoop.c **** // ÂáΩÊï∞Âêçvoid cal_cp_output_dac_ext_2
 706:Core/Src/mainLoop.c **** //(struct adc_buf_t *adc_buf, uint32_t *dacP,
 707:Core/Src/mainLoop.c **** //  uint32_t *dacN, int32_t runTime500us)
 708:Core/Src/mainLoop.c **** // ÂèÇÊï∞‰øùÊåÅ‰∏çÂèòÔºåÂè™ÊòØË∞ÉÊï¥‰∫ÜË∑üË∏™ÁÆóÊ≥ï
 709:Core/Src/mainLoop.c **** // ÂÖ∑‰ΩìÊÄùË∑ØÔºåÊ±ÇÂéüÂßãadc_bufÁöÑÂØºÊï∞ÔºåÊ†πÊçÆÊñúÁéáË∞ÉÊï¥dacËæìÂá∫
 710:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext_2(struct adc_buf_t *adc_buf, uint32_t *dacP,
 711:Core/Src/mainLoop.c ****                              uint32_t *dacN, int32_t runTime500us) {
 2547              		.loc 1 711 68 view -0
 2548              		.cfi_startproc
 2549              		@ args = 0, pretend = 0, frame = 400
 2550              		@ frame_needed = 0, uses_anonymous_args = 0
 2551              		.loc 1 711 68 is_stmt 0 view .LVU713
 2552 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2553              	.LCFI19:
 2554              		.cfi_def_cfa_offset 20
 2555              		.cfi_offset 4, -20
 2556              		.cfi_offset 5, -16
 2557              		.cfi_offset 6, -12
 2558              		.cfi_offset 7, -8
 2559              		.cfi_offset 14, -4
 2560 0002 E5B0     		sub	sp, sp, #404
 2561              	.LCFI20:
 2562              		.cfi_def_cfa_offset 424
 2563 0004 0546     		mov	r5, r0
 2564 0006 0E46     		mov	r6, r1
 2565 0008 1746     		mov	r7, r2
 712:Core/Src/mainLoop.c ****   int32_t i = 0;
 2566              		.loc 1 712 3 is_stmt 1 view .LVU714
 2567              	.LVL281:
 713:Core/Src/mainLoop.c ****   int32_t N = ADC_BUF_T_SIZE;
 2568              		.loc 1 713 3 view .LVU715
 714:Core/Src/mainLoop.c **** 
 715:Core/Src/mainLoop.c ****   uint32_t tmpUint32 = 0;
 2569              		.loc 1 715 3 view .LVU716
ARM GAS  /tmp/ccFJCU99.s 			page 61


 716:Core/Src/mainLoop.c ****   int32_t deltNoisV = 0;
 2570              		.loc 1 716 3 view .LVU717
 717:Core/Src/mainLoop.c ****   int32_t difAdcValBuf[ADC_BUF_T_SIZE];
 2571              		.loc 1 717 3 view .LVU718
 718:Core/Src/mainLoop.c ****   int32_t tmpdif1, tmpdif2;
 2572              		.loc 1 718 3 view .LVU719
 719:Core/Src/mainLoop.c ****   int32_t allSum = 0;
 2573              		.loc 1 719 3 view .LVU720
 720:Core/Src/mainLoop.c ****   float_t allSumF = 0;
 2574              		.loc 1 720 3 view .LVU721
 721:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_SET);
 2575              		.loc 1 721 3 view .LVU722
 2576 000a 0122     		movs	r2, #1
 2577              	.LVL282:
 2578              		.loc 1 721 3 is_stmt 0 view .LVU723
 2579 000c 4FF48051 		mov	r1, #4096
 2580              	.LVL283:
 2581              		.loc 1 721 3 view .LVU724
 2582 0010 4848     		ldr	r0, .L146
 2583              	.LVL284:
 2584              		.loc 1 721 3 view .LVU725
 2585 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2586              	.LVL285:
 722:Core/Src/mainLoop.c **** 
 723:Core/Src/mainLoop.c ****   memset(difAdcValBuf, 0, sizeof(difAdcValBuf));
 2587              		.loc 1 723 3 is_stmt 1 view .LVU726
 2588 0016 4FF4C872 		mov	r2, #400
 2589 001a 0021     		movs	r1, #0
 2590 001c 6846     		mov	r0, sp
 2591 001e FFF7FEFF 		bl	memset
 2592              	.LVL286:
 724:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 2593              		.loc 1 724 3 view .LVU727
 2594              		.loc 1 724 10 is_stmt 0 view .LVU728
 2595 0022 0023     		movs	r3, #0
 2596              	.LVL287:
 2597              	.L135:
 2598              		.loc 1 724 15 is_stmt 1 discriminator 1 view .LVU729
 2599              		.loc 1 724 3 is_stmt 0 discriminator 1 view .LVU730
 2600 0024 632B     		cmp	r3, #99
 2601 0026 0BDC     		bgt	.L143
 725:Core/Src/mainLoop.c ****     tmpdif1 = (int32_t)((adc_buf->buf[i] & 0x0fff));
 2602              		.loc 1 725 5 is_stmt 1 discriminator 3 view .LVU731
 2603              		.loc 1 725 38 is_stmt 0 discriminator 3 view .LVU732
 2604 0028 05EB8302 		add	r2, r5, r3, lsl #2
 2605 002c 5468     		ldr	r4, [r2, #4]
 2606              		.loc 1 725 13 discriminator 3 view .LVU733
 2607 002e C4F30B02 		ubfx	r2, r4, #0, #12
 2608              	.LVL288:
 726:Core/Src/mainLoop.c ****     tmpdif2 = (int32_t)(((adc_buf->buf[i] >> 16) & 0x0fff));
 2609              		.loc 1 726 5 is_stmt 1 discriminator 3 view .LVU734
 2610              		.loc 1 726 13 is_stmt 0 discriminator 3 view .LVU735
 2611 0032 C4F30B44 		ubfx	r4, r4, #16, #12
 2612              	.LVL289:
 727:Core/Src/mainLoop.c ****     difAdcValBuf[i] = tmpdif1 - tmpdif2;
 2613              		.loc 1 727 5 is_stmt 1 discriminator 3 view .LVU736
 2614              		.loc 1 727 31 is_stmt 0 discriminator 3 view .LVU737
ARM GAS  /tmp/ccFJCU99.s 			page 62


 2615 0036 141B     		subs	r4, r2, r4
 2616              	.LVL290:
 2617              		.loc 1 727 21 discriminator 3 view .LVU738
 2618 0038 4DF82340 		str	r4, [sp, r3, lsl #2]
 2619              	.LVL291:
 724:Core/Src/mainLoop.c ****     tmpdif1 = (int32_t)((adc_buf->buf[i] & 0x0fff));
 2620              		.loc 1 724 22 is_stmt 1 discriminator 3 view .LVU739
 724:Core/Src/mainLoop.c ****     tmpdif1 = (int32_t)((adc_buf->buf[i] & 0x0fff));
 2621              		.loc 1 724 23 is_stmt 0 discriminator 3 view .LVU740
 2622 003c 0133     		adds	r3, r3, #1
 2623              	.LVL292:
 724:Core/Src/mainLoop.c ****     tmpdif1 = (int32_t)((adc_buf->buf[i] & 0x0fff));
 2624              		.loc 1 724 23 discriminator 3 view .LVU741
 2625 003e F1E7     		b	.L135
 2626              	.LVL293:
 2627              	.L143:
 728:Core/Src/mainLoop.c ****   }
 729:Core/Src/mainLoop.c ****   // ËÆ°ÁÆóÂØºÊï∞ÁöÑÊñúÁéáÔºåÁªüËÆ°difAdcValBuf‰∏≠ÁöÑÊ≠£Ë¥üÂÄºÔºåÂπ∂‰ª•Ê≠£Ë¥üÂÄºÁöÑ‰∏™Êï∞Â∑ÆÂÄº‰Ωú‰
 730:Core/Src/mainLoop.c ****   // ÁªìËÆ∫ËøôÁßçÊÄùË∑Ø‰∏çË°å
 731:Core/Src/mainLoop.c ****   // allSum = 0;
 732:Core/Src/mainLoop.c ****   // for (i = 0; i < N; i++) {
 733:Core/Src/mainLoop.c ****   //   if (difAdcValBuf[i] > 0) {
 734:Core/Src/mainLoop.c ****   //     allSum += 1;
 735:Core/Src/mainLoop.c ****   //   } else if (difAdcValBuf[i] < 0) {
 736:Core/Src/mainLoop.c ****   //     allSum -= 1;
 737:Core/Src/mainLoop.c ****   //   }
 738:Core/Src/mainLoop.c ****   // }
 739:Core/Src/mainLoop.c ****   // allSumF = ((float_t)allSum) / N;
 740:Core/Src/mainLoop.c **** 
 741:Core/Src/mainLoop.c ****   //Á≠õÈÄâÂØºÊï∞ÂÄºÔºåÂè™‰øùÁïôÁªùÂØπÂÄºÂ∞è‰∫é100ÁöÑÂÄº
 742:Core/Src/mainLoop.c ****   allSum = 0;
 2628              		.loc 1 742 10 view .LVU742
 2629 0040 0020     		movs	r0, #0
 743:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 2630              		.loc 1 743 10 view .LVU743
 2631 0042 0346     		mov	r3, r0
 2632              	.LVL294:
 2633              		.loc 1 743 10 view .LVU744
 2634 0044 00E0     		b	.L137
 2635              	.LVL295:
 2636              	.L138:
 2637              		.loc 1 743 22 is_stmt 1 discriminator 2 view .LVU745
 2638              		.loc 1 743 23 is_stmt 0 discriminator 2 view .LVU746
 2639 0046 0133     		adds	r3, r3, #1
 2640              	.LVL296:
 2641              	.L137:
 2642              		.loc 1 743 15 is_stmt 1 discriminator 1 view .LVU747
 2643              		.loc 1 743 3 is_stmt 0 discriminator 1 view .LVU748
 2644 0048 632B     		cmp	r3, #99
 2645 004a 07DC     		bgt	.L144
 744:Core/Src/mainLoop.c ****     if (abs(difAdcValBuf[i]) < 50) {
 2646              		.loc 1 744 5 is_stmt 1 view .LVU749
 2647              	.LBB6:
 2648              		.loc 1 744 25 is_stmt 0 view .LVU750
 2649 004c 5DF82320 		ldr	r2, [sp, r3, lsl #2]
 2650              		.loc 1 744 30 view .LVU751
 2651 0050 02F13101 		add	r1, r2, #49
ARM GAS  /tmp/ccFJCU99.s 			page 63


 2652              		.loc 1 744 8 view .LVU752
 2653 0054 6229     		cmp	r1, #98
 2654 0056 F6D8     		bhi	.L138
 745:Core/Src/mainLoop.c ****       allSum += difAdcValBuf[i];
 2655              		.loc 1 745 7 is_stmt 1 view .LVU753
 2656              		.loc 1 745 14 is_stmt 0 view .LVU754
 2657 0058 1044     		add	r0, r0, r2
 2658              	.LVL297:
 2659              		.loc 1 745 14 view .LVU755
 2660 005a F4E7     		b	.L138
 2661              	.L144:
 2662              		.loc 1 745 14 view .LVU756
 2663              	.LBE6:
 746:Core/Src/mainLoop.c ****     }
 747:Core/Src/mainLoop.c ****   }
 748:Core/Src/mainLoop.c ****   allSumF = ((float_t)allSum) / N;
 2664              		.loc 1 748 3 is_stmt 1 view .LVU757
 2665              		.loc 1 748 14 is_stmt 0 view .LVU758
 2666 005c 07EE900A 		vmov	s15, r0	@ int
 2667 0060 F8EEE77A 		vcvt.f32.s32	s15, s15
 2668              		.loc 1 748 11 view .LVU759
 2669 0064 DFED346A 		vldr.32	s13, .L146+4
 2670 0068 87EEA67A 		vdiv.f32	s14, s15, s13
 2671              	.LVL298:
 749:Core/Src/mainLoop.c **** 
 750:Core/Src/mainLoop.c ****   // Ê†πÊçÆÊñúÁéáË∞ÉÊï¥dacËæìÂá∫
 751:Core/Src/mainLoop.c **** #define kP_2 (+5.0)
 752:Core/Src/mainLoop.c ****   dletDac = ((float_t)allSumF) * kP_2;
 2672              		.loc 1 752 3 is_stmt 1 view .LVU760
 2673              		.loc 1 752 11 is_stmt 0 view .LVU761
 2674 006c F1EE047A 		vmov.f32	s15, #5.0e+0
 2675 0070 67EE277A 		vmul.f32	s15, s14, s15
 2676 0074 314A     		ldr	r2, .L146+8
 2677 0076 C2ED007A 		vstr.32	s15, [r2]
 753:Core/Src/mainLoop.c **** 
 754:Core/Src/mainLoop.c ****   tmpUint32 = abs((int32_t)(dletDac));
 2678              		.loc 1 754 3 is_stmt 1 view .LVU762
 2679              		.loc 1 754 19 is_stmt 0 view .LVU763
 2680 007a FDEEE77A 		vcvt.s32.f32	s15, s15
 2681              	.LVL299:
 755:Core/Src/mainLoop.c **** 
 756:Core/Src/mainLoop.c ****   deltNoisV = 0;
 2682              		.loc 1 756 3 is_stmt 1 view .LVU764
 757:Core/Src/mainLoop.c **** 
 758:Core/Src/mainLoop.c ****   (*dacP) += (int32_t)(dletDac);
 2683              		.loc 1 758 3 view .LVU765
 2684              		.loc 1 758 11 is_stmt 0 view .LVU766
 2685 007e 3368     		ldr	r3, [r6]
 2686              	.LVL300:
 2687              		.loc 1 758 11 view .LVU767
 2688 0080 17EE901A 		vmov	r1, s15	@ int
 2689 0084 0B44     		add	r3, r3, r1
 2690 0086 3360     		str	r3, [r6]
 759:Core/Src/mainLoop.c ****   (*dacN) -= (int32_t)(dletDac);
 2691              		.loc 1 759 3 is_stmt 1 view .LVU768
 2692              		.loc 1 759 14 is_stmt 0 view .LVU769
 2693 0088 D2ED007A 		vldr.32	s15, [r2]
ARM GAS  /tmp/ccFJCU99.s 			page 64


 2694              	.LVL301:
 2695              		.loc 1 759 14 view .LVU770
 2696 008c FDEEE77A 		vcvt.s32.f32	s15, s15
 2697              		.loc 1 759 11 view .LVU771
 2698 0090 3B68     		ldr	r3, [r7]
 2699 0092 17EE902A 		vmov	r2, s15	@ int
 2700 0096 9B1A     		subs	r3, r3, r2
 2701 0098 3B60     		str	r3, [r7]
 760:Core/Src/mainLoop.c ****   (*dacP) += deltNoisV;
 2702              		.loc 1 760 3 is_stmt 1 view .LVU772
 2703              		.loc 1 760 11 is_stmt 0 view .LVU773
 2704 009a 3168     		ldr	r1, [r6]
 2705              	.LVL302:
 761:Core/Src/mainLoop.c ****   (*dacN) -= deltNoisV;
 2706              		.loc 1 761 3 is_stmt 1 view .LVU774
 762:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1, (((*dacP) >> 20) & 0xffc), max_outdisable);
 2707              		.loc 1 762 3 view .LVU775
 2708 009c 40F6FC74 		movw	r4, #4092
 2709 00a0 0222     		movs	r2, #2
 2710 00a2 04EA1151 		and	r1, r4, r1, lsr #20
 2711 00a6 0620     		movs	r0, #6
 2712              	.LVL303:
 2713              		.loc 1 762 3 is_stmt 0 view .LVU776
 2714 00a8 FFF7FEFF 		bl	max5307_w_chanel
 2715              	.LVL304:
 763:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1K, (((*dacP) >> 10) & 0xffc), max_outdisable);
 2716              		.loc 1 763 3 is_stmt 1 view .LVU777
 2717              		.loc 1 763 32 is_stmt 0 view .LVU778
 2718 00ac 3168     		ldr	r1, [r6]
 2719              		.loc 1 763 3 view .LVU779
 2720 00ae 0222     		movs	r2, #2
 2721 00b0 04EA9121 		and	r1, r4, r1, lsr #10
 2722 00b4 0720     		movs	r0, #7
 2723 00b6 FFF7FEFF 		bl	max5307_w_chanel
 2724              	.LVL305:
 764:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1M, ((*dacP) & 0xfff) & 0xfff, max_outdisable);
 2725              		.loc 1 764 3 is_stmt 1 view .LVU780
 2726              		.loc 1 764 31 is_stmt 0 view .LVU781
 2727 00ba 3168     		ldr	r1, [r6]
 2728              		.loc 1 764 3 view .LVU782
 2729 00bc 0222     		movs	r2, #2
 2730 00be C1F30B01 		ubfx	r1, r1, #0, #12
 2731 00c2 0820     		movs	r0, #8
 2732 00c4 FFF7FEFF 		bl	max5307_w_chanel
 2733              	.LVL306:
 765:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1, (((*dacN) >> 20) & 0xffc), max_outdisable);
 2734              		.loc 1 765 3 is_stmt 1 view .LVU783
 2735              		.loc 1 765 31 is_stmt 0 view .LVU784
 2736 00c8 3968     		ldr	r1, [r7]
 2737              		.loc 1 765 3 view .LVU785
 2738 00ca 0222     		movs	r2, #2
 2739 00cc 04EA1151 		and	r1, r4, r1, lsr #20
 2740 00d0 0520     		movs	r0, #5
 2741 00d2 FFF7FEFF 		bl	max5307_w_chanel
 2742              	.LVL307:
 766:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1K, (((*dacN) >> 10) & 0xffc), max_outdisable);
 2743              		.loc 1 766 3 is_stmt 1 view .LVU786
ARM GAS  /tmp/ccFJCU99.s 			page 65


 2744              		.loc 1 766 32 is_stmt 0 view .LVU787
 2745 00d6 3968     		ldr	r1, [r7]
 2746              		.loc 1 766 3 view .LVU788
 2747 00d8 0222     		movs	r2, #2
 2748 00da 04EA9121 		and	r1, r4, r1, lsr #10
 2749 00de 0420     		movs	r0, #4
 2750 00e0 FFF7FEFF 		bl	max5307_w_chanel
 2751              	.LVL308:
 767:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1M, ((*dacN) & 0xfff) & 0xfff, max_outdisable);
 2752              		.loc 1 767 3 is_stmt 1 view .LVU789
 2753              		.loc 1 767 31 is_stmt 0 view .LVU790
 2754 00e4 3968     		ldr	r1, [r7]
 2755              		.loc 1 767 3 view .LVU791
 2756 00e6 0222     		movs	r2, #2
 2757 00e8 C1F30B01 		ubfx	r1, r1, #0, #12
 2758 00ec 0320     		movs	r0, #3
 2759 00ee FFF7FEFF 		bl	max5307_w_chanel
 2760              	.LVL309:
 768:Core/Src/mainLoop.c **** 
 769:Core/Src/mainLoop.c ****   do {
 2761              		.loc 1 769 3 is_stmt 1 view .LVU792
 2762              	.LBB7:
 770:Core/Src/mainLoop.c ****     uint16_t chanelNo = 0;
 2763              		.loc 1 770 5 view .LVU793
 771:Core/Src/mainLoop.c ****     chanelNo = 0x01 << (DACP_1 + 2) | 0x01 << (DACP_1K + 2) |
 2764              		.loc 1 771 5 view .LVU794
 772:Core/Src/mainLoop.c ****                0x01 << (DACP_1M + 2) | 0x01 << (DACN_1 + 2) |
 773:Core/Src/mainLoop.c ****                0x01 << (DACN_1K + 2) | 0x01 << (DACN_1M + 2);
 774:Core/Src/mainLoop.c ****     max5307_enable_ori_chanel(chanelNo);
 2765              		.loc 1 774 5 view .LVU795
 2766 00f2 4FF4FC60 		mov	r0, #2016
 2767 00f6 FFF7FEFF 		bl	max5307_enable_ori_chanel
 2768              	.LVL310:
 2769              	.LBE7:
 775:Core/Src/mainLoop.c ****   } while (0);
 2770              		.loc 1 775 11 view .LVU796
 776:Core/Src/mainLoop.c **** 
 777:Core/Src/mainLoop.c ****   // clear buf
 778:Core/Src/mainLoop.c ****   for (i = 0; i < ADC_BUF_T_SIZE; i++) {
 2771              		.loc 1 778 3 view .LVU797
 2772              		.loc 1 778 10 is_stmt 0 view .LVU798
 2773 00fa 0023     		movs	r3, #0
 2774              	.LVL311:
 2775              	.L140:
 2776              		.loc 1 778 15 is_stmt 1 discriminator 1 view .LVU799
 2777              		.loc 1 778 3 is_stmt 0 discriminator 1 view .LVU800
 2778 00fc 632B     		cmp	r3, #99
 2779 00fe 05DC     		bgt	.L145
 779:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2780              		.loc 1 779 5 is_stmt 1 discriminator 3 view .LVU801
 2781              		.loc 1 779 21 is_stmt 0 discriminator 3 view .LVU802
 2782 0100 05EB8302 		add	r2, r5, r3, lsl #2
 2783 0104 0021     		movs	r1, #0
 2784 0106 5160     		str	r1, [r2, #4]
 778:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2785              		.loc 1 778 35 is_stmt 1 discriminator 3 view .LVU803
 778:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
ARM GAS  /tmp/ccFJCU99.s 			page 66


 2786              		.loc 1 778 36 is_stmt 0 discriminator 3 view .LVU804
 2787 0108 0133     		adds	r3, r3, #1
 2788              	.LVL312:
 778:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2789              		.loc 1 778 36 discriminator 3 view .LVU805
 2790 010a F7E7     		b	.L140
 2791              	.L145:
 780:Core/Src/mainLoop.c ****   }
 781:Core/Src/mainLoop.c ****   logPara.mean_adc_val = forSaveAllSum;
 2792              		.loc 1 781 3 is_stmt 1 view .LVU806
 2793              		.loc 1 781 24 is_stmt 0 view .LVU807
 2794 010c 0C4B     		ldr	r3, .L146+12
 2795              	.LVL313:
 2796              		.loc 1 781 24 view .LVU808
 2797 010e 0D4A     		ldr	r2, .L146+16
 2798 0110 1288     		ldrh	r2, [r2]
 2799 0112 A3F80120 		strh	r2, [r3, #1]	@ unaligned
 782:Core/Src/mainLoop.c ****   // logPara.mean_adc_val = pidI;
 783:Core/Src/mainLoop.c ****   logPara.dac_val_n = (*dacN);
 2800              		.loc 1 783 3 is_stmt 1 view .LVU809
 2801              		.loc 1 783 24 is_stmt 0 view .LVU810
 2802 0116 3A68     		ldr	r2, [r7]
 2803              		.loc 1 783 21 view .LVU811
 2804 0118 C3F80720 		str	r2, [r3, #7]	@ unaligned
 784:Core/Src/mainLoop.c ****   logPara.dac_val_p = (*dacP);
 2805              		.loc 1 784 3 is_stmt 1 view .LVU812
 2806              		.loc 1 784 24 is_stmt 0 view .LVU813
 2807 011c 3268     		ldr	r2, [r6]
 2808              		.loc 1 784 21 view .LVU814
 2809 011e C3F80320 		str	r2, [r3, #3]	@ unaligned
 785:Core/Src/mainLoop.c ****   // HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 786:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_RESET);
 2810              		.loc 1 786 3 is_stmt 1 view .LVU815
 2811 0122 0022     		movs	r2, #0
 2812 0124 4FF48051 		mov	r1, #4096
 2813 0128 0248     		ldr	r0, .L146
 2814 012a FFF7FEFF 		bl	HAL_GPIO_WritePin
 2815              	.LVL314:
 787:Core/Src/mainLoop.c **** }
 2816              		.loc 1 787 1 is_stmt 0 view .LVU816
 2817 012e 65B0     		add	sp, sp, #404
 2818              	.LCFI21:
 2819              		.cfi_def_cfa_offset 20
 2820              		@ sp needed
 2821 0130 F0BD     		pop	{r4, r5, r6, r7, pc}
 2822              	.LVL315:
 2823              	.L147:
 2824              		.loc 1 787 1 view .LVU817
 2825 0132 00BF     		.align	2
 2826              	.L146:
 2827 0134 00080240 		.word	1073874944
 2828 0138 0000C842 		.word	1120403456
 2829 013c 00000000 		.word	.LANCHOR7
 2830 0140 00000000 		.word	logPara
 2831 0144 00000000 		.word	.LANCHOR11
 2832              		.cfi_endproc
 2833              	.LFE149:
ARM GAS  /tmp/ccFJCU99.s 			page 67


 2835              		.section	.text.cal_cp_output_dac_ext_3,"ax",%progbits
 2836              		.align	1
 2837              		.global	cal_cp_output_dac_ext_3
 2838              		.syntax unified
 2839              		.thumb
 2840              		.thumb_func
 2841              		.fpu fpv4-sp-d16
 2843              	cal_cp_output_dac_ext_3:
 2844              	.LVL316:
 2845              	.LFB150:
 788:Core/Src/mainLoop.c **** 
 789:Core/Src/mainLoop.c **** //
 790:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext_3(struct adc_buf_t *adc_buf, uint32_t *dacP,
 791:Core/Src/mainLoop.c ****                              uint32_t *dacN, int32_t runTime500us){
 2846              		.loc 1 791 67 is_stmt 1 view -0
 2847              		.cfi_startproc
 2848              		@ args = 0, pretend = 0, frame = 0
 2849              		@ frame_needed = 0, uses_anonymous_args = 0
 2850              		@ link register save eliminated.
 792:Core/Src/mainLoop.c **** 
 793:Core/Src/mainLoop.c **** }
 2851              		.loc 1 793 1 view .LVU819
 2852 0000 7047     		bx	lr
 2853              		.cfi_endproc
 2854              	.LFE150:
 2856              		.section	.text.fakeDelay,"ax",%progbits
 2857              		.align	1
 2858              		.global	fakeDelay
 2859              		.syntax unified
 2860              		.thumb
 2861              		.thumb_func
 2862              		.fpu fpv4-sp-d16
 2864              	fakeDelay:
 2865              	.LVL317:
 2866              	.LFB151:
 794:Core/Src/mainLoop.c **** 
 795:Core/Src/mainLoop.c **** 
 796:Core/Src/mainLoop.c **** void fakeDelay(int32_t delay) {
 2867              		.loc 1 796 31 view -0
 2868              		.cfi_startproc
 2869              		@ args = 0, pretend = 0, frame = 0
 2870              		@ frame_needed = 0, uses_anonymous_args = 0
 2871              		@ link register save eliminated.
 2872              		.loc 1 796 31 is_stmt 0 view .LVU821
 2873 0000 0146     		mov	r1, r0
 797:Core/Src/mainLoop.c ****   int32_t i = 0, k = 0;
 2874              		.loc 1 797 3 is_stmt 1 view .LVU822
 2875              	.LVL318:
 798:Core/Src/mainLoop.c ****   int32_t tmp = 0;
 2876              		.loc 1 798 3 view .LVU823
 799:Core/Src/mainLoop.c ****   for (k = 0; k < delay; k++) {
 2877              		.loc 1 799 3 view .LVU824
 2878              		.loc 1 799 10 is_stmt 0 view .LVU825
 2879 0002 0022     		movs	r2, #0
 2880              		.loc 1 799 3 view .LVU826
 2881 0004 00E0     		b	.L150
 2882              	.LVL319:
ARM GAS  /tmp/ccFJCU99.s 			page 68


 2883              	.L155:
 2884              		.loc 1 799 26 is_stmt 1 discriminator 2 view .LVU827
 2885              		.loc 1 799 27 is_stmt 0 discriminator 2 view .LVU828
 2886 0006 0132     		adds	r2, r2, #1
 2887              	.LVL320:
 2888              	.L150:
 2889              		.loc 1 799 15 is_stmt 1 discriminator 1 view .LVU829
 2890              		.loc 1 799 3 is_stmt 0 discriminator 1 view .LVU830
 2891 0008 8A42     		cmp	r2, r1
 2892 000a 04DA     		bge	.L154
 800:Core/Src/mainLoop.c ****     for (i = 0; i < 100; i++) {
 2893              		.loc 1 800 12 view .LVU831
 2894 000c 0023     		movs	r3, #0
 2895              	.L152:
 2896              	.LVL321:
 2897              		.loc 1 800 17 is_stmt 1 discriminator 1 view .LVU832
 2898              		.loc 1 800 5 is_stmt 0 discriminator 1 view .LVU833
 2899 000e 632B     		cmp	r3, #99
 2900 0010 F9DC     		bgt	.L155
 801:Core/Src/mainLoop.c ****       tmp++;
 2901              		.loc 1 801 7 is_stmt 1 discriminator 3 view .LVU834
 800:Core/Src/mainLoop.c ****     for (i = 0; i < 100; i++) {
 2902              		.loc 1 800 26 discriminator 3 view .LVU835
 800:Core/Src/mainLoop.c ****     for (i = 0; i < 100; i++) {
 2903              		.loc 1 800 27 is_stmt 0 discriminator 3 view .LVU836
 2904 0012 0133     		adds	r3, r3, #1
 2905              	.LVL322:
 800:Core/Src/mainLoop.c ****     for (i = 0; i < 100; i++) {
 2906              		.loc 1 800 27 discriminator 3 view .LVU837
 2907 0014 FBE7     		b	.L152
 2908              	.LVL323:
 2909              	.L154:
 802:Core/Src/mainLoop.c ****     }
 803:Core/Src/mainLoop.c ****   }
 804:Core/Src/mainLoop.c **** }
 2910              		.loc 1 804 1 view .LVU838
 2911 0016 7047     		bx	lr
 2912              		.cfi_endproc
 2913              	.LFE151:
 2915              		.section	.text.preMainLoop1,"ax",%progbits
 2916              		.align	1
 2917              		.global	preMainLoop1
 2918              		.syntax unified
 2919              		.thumb
 2920              		.thumb_func
 2921              		.fpu fpv4-sp-d16
 2923              	preMainLoop1:
 2924              	.LFB152:
 805:Core/Src/mainLoop.c **** 
 806:Core/Src/mainLoop.c **** extern SPI_HandleTypeDef hspi1;
 807:Core/Src/mainLoop.c **** void preMainLoop1(void) {
 2925              		.loc 1 807 25 is_stmt 1 view -0
 2926              		.cfi_startproc
 2927              		@ args = 0, pretend = 0, frame = 0
 2928              		@ frame_needed = 0, uses_anonymous_args = 0
 2929 0000 08B5     		push	{r3, lr}
 2930              	.LCFI22:
ARM GAS  /tmp/ccFJCU99.s 			page 69


 2931              		.cfi_def_cfa_offset 8
 2932              		.cfi_offset 3, -8
 2933              		.cfi_offset 14, -4
 808:Core/Src/mainLoop.c ****   do {
 2934              		.loc 1 808 3 view .LVU840
 809:Core/Src/mainLoop.c ****     hspi1.Instance = SPI1;
 2935              		.loc 1 809 5 view .LVU841
 2936              		.loc 1 809 20 is_stmt 0 view .LVU842
 2937 0002 1048     		ldr	r0, .L160
 2938 0004 104B     		ldr	r3, .L160+4
 2939 0006 0360     		str	r3, [r0]
 810:Core/Src/mainLoop.c ****     hspi1.Init.Mode = SPI_MODE_MASTER;
 2940              		.loc 1 810 5 is_stmt 1 view .LVU843
 2941              		.loc 1 810 21 is_stmt 0 view .LVU844
 2942 0008 4FF48273 		mov	r3, #260
 2943 000c 4360     		str	r3, [r0, #4]
 811:Core/Src/mainLoop.c ****     hspi1.Init.Direction = SPI_DIRECTION_2LINES;
 2944              		.loc 1 811 5 is_stmt 1 view .LVU845
 2945              		.loc 1 811 26 is_stmt 0 view .LVU846
 2946 000e 0023     		movs	r3, #0
 2947 0010 8360     		str	r3, [r0, #8]
 812:Core/Src/mainLoop.c ****     hspi1.Init.DataSize = SPI_DATASIZE_16BIT;
 2948              		.loc 1 812 5 is_stmt 1 view .LVU847
 2949              		.loc 1 812 25 is_stmt 0 view .LVU848
 2950 0012 4FF40062 		mov	r2, #2048
 2951 0016 C260     		str	r2, [r0, #12]
 813:Core/Src/mainLoop.c ****     hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
 2952              		.loc 1 813 5 is_stmt 1 view .LVU849
 2953              		.loc 1 813 28 is_stmt 0 view .LVU850
 2954 0018 0361     		str	r3, [r0, #16]
 814:Core/Src/mainLoop.c ****     hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
 2955              		.loc 1 814 5 is_stmt 1 view .LVU851
 2956              		.loc 1 814 25 is_stmt 0 view .LVU852
 2957 001a 4361     		str	r3, [r0, #20]
 815:Core/Src/mainLoop.c ****     hspi1.Init.NSS = SPI_NSS_SOFT;
 2958              		.loc 1 815 5 is_stmt 1 view .LVU853
 2959              		.loc 1 815 20 is_stmt 0 view .LVU854
 2960 001c 4FF40072 		mov	r2, #512
 2961 0020 8261     		str	r2, [r0, #24]
 816:Core/Src/mainLoop.c ****     hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_128;
 2962              		.loc 1 816 5 is_stmt 1 view .LVU855
 2963              		.loc 1 816 34 is_stmt 0 view .LVU856
 2964 0022 3022     		movs	r2, #48
 2965 0024 C261     		str	r2, [r0, #28]
 817:Core/Src/mainLoop.c ****     hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
 2966              		.loc 1 817 5 is_stmt 1 view .LVU857
 2967              		.loc 1 817 25 is_stmt 0 view .LVU858
 2968 0026 0362     		str	r3, [r0, #32]
 818:Core/Src/mainLoop.c ****     hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
 2969              		.loc 1 818 5 is_stmt 1 view .LVU859
 2970              		.loc 1 818 23 is_stmt 0 view .LVU860
 2971 0028 4362     		str	r3, [r0, #36]
 819:Core/Src/mainLoop.c ****     hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 2972              		.loc 1 819 5 is_stmt 1 view .LVU861
 2973              		.loc 1 819 31 is_stmt 0 view .LVU862
 2974 002a 8362     		str	r3, [r0, #40]
 820:Core/Src/mainLoop.c ****     hspi1.Init.CRCPolynomial = 10;
ARM GAS  /tmp/ccFJCU99.s 			page 70


 2975              		.loc 1 820 5 is_stmt 1 view .LVU863
 2976              		.loc 1 820 30 is_stmt 0 view .LVU864
 2977 002c 0A23     		movs	r3, #10
 2978 002e C362     		str	r3, [r0, #44]
 821:Core/Src/mainLoop.c ****     if (HAL_SPI_Init(&hspi1) != HAL_OK) {
 2979              		.loc 1 821 5 is_stmt 1 view .LVU865
 2980              		.loc 1 821 9 is_stmt 0 view .LVU866
 2981 0030 FFF7FEFF 		bl	HAL_SPI_Init
 2982              	.LVL324:
 2983              		.loc 1 821 8 view .LVU867
 2984 0034 10B9     		cbnz	r0, .L159
 2985              	.L157:
 822:Core/Src/mainLoop.c ****       Error_Handler();
 823:Core/Src/mainLoop.c ****     }
 824:Core/Src/mainLoop.c ****   } while (0);
 2986              		.loc 1 824 11 is_stmt 1 view .LVU868
 825:Core/Src/mainLoop.c ****   init_ad9520();
 2987              		.loc 1 825 3 view .LVU869
 2988 0036 FFF7FEFF 		bl	init_ad9520
 2989              	.LVL325:
 826:Core/Src/mainLoop.c **** }
 2990              		.loc 1 826 1 is_stmt 0 view .LVU870
 2991 003a 08BD     		pop	{r3, pc}
 2992              	.L159:
 822:Core/Src/mainLoop.c ****       Error_Handler();
 2993              		.loc 1 822 7 is_stmt 1 view .LVU871
 2994 003c FFF7FEFF 		bl	Error_Handler
 2995              	.LVL326:
 2996 0040 F9E7     		b	.L157
 2997              	.L161:
 2998 0042 00BF     		.align	2
 2999              	.L160:
 3000 0044 00000000 		.word	hspi1
 3001 0048 00300140 		.word	1073819648
 3002              		.cfi_endproc
 3003              	.LFE152:
 3005              		.section	.text.mainLoop1,"ax",%progbits
 3006              		.align	1
 3007              		.global	mainLoop1
 3008              		.syntax unified
 3009              		.thumb
 3010              		.thumb_func
 3011              		.fpu fpv4-sp-d16
 3013              	mainLoop1:
 3014              	.LFB153:
 827:Core/Src/mainLoop.c **** 
 828:Core/Src/mainLoop.c **** 
 829:Core/Src/mainLoop.c **** uint16_t ad9520_reg = 0;
 830:Core/Src/mainLoop.c **** uint32_t locked = 0;
 831:Core/Src/mainLoop.c **** uint32_t adcVal, lastAdcVal;
 832:Core/Src/mainLoop.c **** void mainLoop1(void) {
 3015              		.loc 1 832 22 view -0
 3016              		.cfi_startproc
 3017              		@ args = 0, pretend = 0, frame = 32
 3018              		@ frame_needed = 0, uses_anonymous_args = 0
 3019 0000 70B5     		push	{r4, r5, r6, lr}
 3020              	.LCFI23:
ARM GAS  /tmp/ccFJCU99.s 			page 71


 3021              		.cfi_def_cfa_offset 16
 3022              		.cfi_offset 4, -16
 3023              		.cfi_offset 5, -12
 3024              		.cfi_offset 6, -8
 3025              		.cfi_offset 14, -4
 3026 0002 88B0     		sub	sp, sp, #32
 3027              	.LCFI24:
 3028              		.cfi_def_cfa_offset 48
 833:Core/Src/mainLoop.c **** #define CONST_DELTDA (0X000)
 834:Core/Src/mainLoop.c ****   uint32_t dac_default_val[8] = {0, 0, 0, 0, 0, 0, 0, 0};
 3029              		.loc 1 834 3 view .LVU873
 3030              		.loc 1 834 12 is_stmt 0 view .LVU874
 3031 0004 2022     		movs	r2, #32
 3032 0006 0021     		movs	r1, #0
 3033 0008 6846     		mov	r0, sp
 3034 000a FFF7FEFF 		bl	memset
 3035              	.LVL327:
 835:Core/Src/mainLoop.c ****   int32_t runTimes =
 3036              		.loc 1 835 3 is_stmt 1 view .LVU875
 836:Core/Src/mainLoop.c ****       0;  // log 30s, for example 0.5ms*2000=1s, runtimes=2000*60=1min
 837:Core/Src/mainLoop.c ****   int32_t xyz = 0;
 3037              		.loc 1 837 3 view .LVU876
 838:Core/Src/mainLoop.c ****   adc1_t1.adc_cap_ok = CALOK;
 3038              		.loc 1 838 3 view .LVU877
 3039              		.loc 1 838 22 is_stmt 0 view .LVU878
 3040 000e 4FF6FF73 		movw	r3, #65535
 3041 0012 354D     		ldr	r5, .L168
 3042 0014 45F8043B 		str	r3, [r5], #4
 839:Core/Src/mainLoop.c ****   adc1_t2.adc_cap_ok = CALOK;
 3043              		.loc 1 839 3 is_stmt 1 view .LVU879
 3044              		.loc 1 839 22 is_stmt 0 view .LVU880
 3045 0018 344A     		ldr	r2, .L168+4
 3046 001a 1360     		str	r3, [r2]
 840:Core/Src/mainLoop.c ****   /* USER CODE BEGIN 2 */
 841:Core/Src/mainLoop.c ****   // SystemClock_Config();//from main.c
 842:Core/Src/mainLoop.c ****   // MX_USART2_UART_Init();
 843:Core/Src/mainLoop.c ****   init_max5307();
 3047              		.loc 1 843 3 is_stmt 1 view .LVU881
 3048 001c FFF7FEFF 		bl	init_max5307
 3049              	.LVL328:
 844:Core/Src/mainLoop.c ****   set_dac_initVal(dac_default_val);
 3050              		.loc 1 844 3 view .LVU882
 3051 0020 6846     		mov	r0, sp
 3052 0022 FFF7FEFF 		bl	set_dac_initVal
 3053              	.LVL329:
 845:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch8, 2048, max_outenable);
 3054              		.loc 1 845 3 view .LVU883
 3055 0026 0122     		movs	r2, #1
 3056 0028 4FF40061 		mov	r1, #2048
 3057 002c 0920     		movs	r0, #9
 3058 002e FFF7FEFF 		bl	max5307_w_chanel
 3059              	.LVL330:
 846:Core/Src/mainLoop.c ****   do {  // set 1.5v
 3060              		.loc 1 846 3 view .LVU884
 847:Core/Src/mainLoop.c ****     value_dacP -= CONST_DELTDA;
 3061              		.loc 1 847 5 view .LVU885
 3062              		.loc 1 847 16 is_stmt 0 view .LVU886
ARM GAS  /tmp/ccFJCU99.s 			page 72


 3063 0032 2F4C     		ldr	r4, .L168+8
 3064 0034 2168     		ldr	r1, [r4]
 848:Core/Src/mainLoop.c ****     value_dacN += CONST_DELTDA;
 3065              		.loc 1 848 5 is_stmt 1 view .LVU887
 849:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1, (value_dacP >> 12), max_outenable);
 3066              		.loc 1 849 5 view .LVU888
 3067 0036 0122     		movs	r2, #1
 3068 0038 090B     		lsrs	r1, r1, #12
 3069 003a 0620     		movs	r0, #6
 3070 003c FFF7FEFF 		bl	max5307_w_chanel
 3071              	.LVL331:
 850:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1K, (value_dacP & 0XFFF), max_outenable);
 3072              		.loc 1 850 5 view .LVU889
 3073 0040 2168     		ldr	r1, [r4]
 3074 0042 0122     		movs	r2, #1
 3075 0044 C1F30B01 		ubfx	r1, r1, #0, #12
 3076 0048 0720     		movs	r0, #7
 3077 004a FFF7FEFF 		bl	max5307_w_chanel
 3078              	.LVL332:
 851:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1, (value_dacN >> 12), max_outenable);
 3079              		.loc 1 851 5 view .LVU890
 3080 004e 294C     		ldr	r4, .L168+12
 3081 0050 2168     		ldr	r1, [r4]
 3082 0052 0122     		movs	r2, #1
 3083 0054 090B     		lsrs	r1, r1, #12
 3084 0056 0520     		movs	r0, #5
 3085 0058 FFF7FEFF 		bl	max5307_w_chanel
 3086              	.LVL333:
 852:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1K, (value_dacN & 0xFFF), max_outenable);
 3087              		.loc 1 852 5 view .LVU891
 3088 005c 2168     		ldr	r1, [r4]
 3089 005e 0122     		movs	r2, #1
 3090 0060 C1F30B01 		ubfx	r1, r1, #0, #12
 3091 0064 0420     		movs	r0, #4
 3092 0066 FFF7FEFF 		bl	max5307_w_chanel
 3093              	.LVL334:
 853:Core/Src/mainLoop.c ****   } while (0);
 3094              		.loc 1 853 11 view .LVU892
 854:Core/Src/mainLoop.c **** 
 855:Core/Src/mainLoop.c ****   init_ad9520();
 3095              		.loc 1 855 3 view .LVU893
 3096 006a FFF7FEFF 		bl	init_ad9520
 3097              	.LVL335:
 856:Core/Src/mainLoop.c ****   // SystemClock_Config();
 857:Core/Src/mainLoop.c ****   // MX_USART2_UART_Init();
 858:Core/Src/mainLoop.c ****   // fprintf(logBufDma,"helloworld");
 859:Core/Src/mainLoop.c ****   //  for(int i=0;i<10;i++){
 860:Core/Src/mainLoop.c ****   //  	logBufDma[i] = 65 + i;
 861:Core/Src/mainLoop.c ****   //  }
 862:Core/Src/mainLoop.c ****   logBufDma.sbs = 35;  //'#'
 3098              		.loc 1 862 3 view .LVU894
 3099              		.loc 1 862 17 is_stmt 0 view .LVU895
 3100 006e 224E     		ldr	r6, .L168+16
 3101 0070 2323     		movs	r3, #35
 3102 0072 3370     		strb	r3, [r6]
 863:Core/Src/mainLoop.c **** 
 864:Core/Src/mainLoop.c ****   HAL_UART_IRQHandler(&huart2);  // must add this, ornot uart2 dma not work
ARM GAS  /tmp/ccFJCU99.s 			page 73


 3103              		.loc 1 864 3 is_stmt 1 view .LVU896
 3104 0074 214C     		ldr	r4, .L168+20
 3105 0076 2046     		mov	r0, r4
 3106 0078 FFF7FEFF 		bl	HAL_UART_IRQHandler
 3107              	.LVL336:
 865:Core/Src/mainLoop.c ****   HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
 3108              		.loc 1 865 3 view .LVU897
 3109 007c 0B22     		movs	r2, #11
 3110 007e 3146     		mov	r1, r6
 3111 0080 2046     		mov	r0, r4
 3112 0082 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 3113              	.LVL337:
 866:Core/Src/mainLoop.c ****                         sizeof(struct log_para_t));
 867:Core/Src/mainLoop.c **** 
 868:Core/Src/mainLoop.c ****   HAL_Delay(1);
 3114              		.loc 1 868 3 view .LVU898
 3115 0086 0120     		movs	r0, #1
 3116 0088 FFF7FEFF 		bl	HAL_Delay
 3117              	.LVL338:
 869:Core/Src/mainLoop.c ****   adc1_ok = 0;
 3118              		.loc 1 869 3 view .LVU899
 3119              		.loc 1 869 11 is_stmt 0 view .LVU900
 3120 008c 0024     		movs	r4, #0
 3121 008e 1C4B     		ldr	r3, .L168+24
 3122 0090 1C60     		str	r4, [r3]
 870:Core/Src/mainLoop.c ****   adc2_ok = 0;
 3123              		.loc 1 870 3 is_stmt 1 view .LVU901
 3124              		.loc 1 870 11 is_stmt 0 view .LVU902
 3125 0092 1C4B     		ldr	r3, .L168+28
 3126 0094 1C60     		str	r4, [r3]
 871:Core/Src/mainLoop.c ****   //Âú®‰∏ãÈù¢ÁöÑ‰ª£Á†Å‰∏≠‰ΩøÁî®while(1)Âæ™ÁéØÊµãËØïadcÈááÊ†∑ÔºådacËæìÂá∫ÔºåËøôÊòØ‰∏ÄÊÆµ‰∏¥Êó∂ÊµãËØï
 872:Core/Src/mainLoop.c ****   //   HAL_ADC_Start(&hadc2);
 873:Core/Src/mainLoop.c ****   //   uint32_t adcVal = 0;
 874:Core/Src/mainLoop.c ****   //   int32_t adcCalVal = 0;
 875:Core/Src/mainLoop.c ****   //   int32_t nowVal=0,lastVal=0;
 876:Core/Src/mainLoop.c ****   //   double adcValF = 0;
 877:Core/Src/mainLoop.c ****   //   uint32_t dacP=value_dacP, dacN=value_dacN;
 878:Core/Src/mainLoop.c ****   //   HAL_ADC_Start_DMA(&hadc2, (uint32_t *)(&adcVal), 1);
 879:Core/Src/mainLoop.c ****   //   while(1){
 880:Core/Src/mainLoop.c ****       
 881:Core/Src/mainLoop.c ****   //     if(adc1_t1.adc_cap_ok == ADCCAPOK){
 882:Core/Src/mainLoop.c ****   //       adc1_t1.adc_cap_ok = ADCCAPWAIT;
 883:Core/Src/mainLoop.c ****   //       lastVal = nowVal;
 884:Core/Src/mainLoop.c ****   //       nowVal = (adcVal&0xfff);
 885:Core/Src/mainLoop.c ****   //       adcCalVal = (int32_t)nowVal - (int32_t)lastVal;
 886:Core/Src/mainLoop.c ****   //       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)(&adcVal), 1);
 887:Core/Src/mainLoop.c ****   //     #define kP_3 (-5000.0)
 888:Core/Src/mainLoop.c ****   //     #define DELV (100)
 889:Core/Src/mainLoop.c ****   //       if( (abs(adcCalVal) < 100) && (abs(adcCalVal) > 20)){
 890:Core/Src/mainLoop.c ****   //         dletDac = ((float_t)adcCalVal) * kP_3;
 891:Core/Src/mainLoop.c ****   //         if(dletDac>0){
 892:Core/Src/mainLoop.c ****   //           (dacP) += DELV;
 893:Core/Src/mainLoop.c ****   //           (dacN) -= DELV;
 894:Core/Src/mainLoop.c ****   //         }else{
 895:Core/Src/mainLoop.c ****   //           (dacP) -= DELV;
 896:Core/Src/mainLoop.c ****   //           (dacN) += DELV;
 897:Core/Src/mainLoop.c ****   //         }
ARM GAS  /tmp/ccFJCU99.s 			page 74


 898:Core/Src/mainLoop.c ****   //         max5307_w_chanel(DACP_1, (((dacP) >> 20) & 0xffc), max_outdisable);
 899:Core/Src/mainLoop.c ****   //         max5307_w_chanel(DACP_1K, (((dacP) >> 10) & 0xffc), max_outdisable);
 900:Core/Src/mainLoop.c ****   //         max5307_w_chanel(DACP_1M, ((dacP) & 0xfff) & 0xfff, max_outdisable);
 901:Core/Src/mainLoop.c ****   //         max5307_w_chanel(DACN_1, (((dacN) >> 20) & 0xffc), max_outdisable);
 902:Core/Src/mainLoop.c ****   //         max5307_w_chanel(DACN_1K, (((dacN) >> 10) & 0xffc), max_outdisable);
 903:Core/Src/mainLoop.c ****   //         max5307_w_chanel(DACN_1M, ((dacN) & 0xfff) & 0xfff, max_outdisable);
 904:Core/Src/mainLoop.c **** 
 905:Core/Src/mainLoop.c ****   //         do {
 906:Core/Src/mainLoop.c ****   //           uint16_t chanelNo = 0;
 907:Core/Src/mainLoop.c ****   //           chanelNo = 0x01 << (DACP_1 + 2) | 0x01 << (DACP_1K + 2) |
 908:Core/Src/mainLoop.c ****   //                    0x01 << (DACP_1M + 2) | 0x01 << (DACN_1 + 2) |
 909:Core/Src/mainLoop.c ****   //                    0x01 << (DACN_1K + 2) | 0x01 << (DACN_1M + 2);
 910:Core/Src/mainLoop.c ****   //           max5307_enable_ori_chanel(chanelNo);
 911:Core/Src/mainLoop.c ****   //         } while (0);
 912:Core/Src/mainLoop.c ****   //       }
 913:Core/Src/mainLoop.c ****        
 914:Core/Src/mainLoop.c **** 
 915:Core/Src/mainLoop.c ****   //       // max5307_w_chanel(DACP_1,  (((adcCalVal) >> 0)&0xfff), max_outenable);
 916:Core/Src/mainLoop.c ****   //       HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 917:Core/Src/mainLoop.c ****   //     }
 918:Core/Src/mainLoop.c ****   //  }
 919:Core/Src/mainLoop.c **** 
 920:Core/Src/mainLoop.c ****   HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t1.buf, ADC_BUF_T_SIZE * 2);
 3127              		.loc 1 920 3 is_stmt 1 view .LVU903
 3128 0096 C822     		movs	r2, #200
 3129 0098 2946     		mov	r1, r5
 3130 009a 1B48     		ldr	r0, .L168+32
 3131 009c FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3132              	.LVL339:
 921:Core/Src/mainLoop.c ****   int32_t deltaDAC = 0;
 3133              		.loc 1 921 3 view .LVU904
 922:Core/Src/mainLoop.c ****   while (0) {
 3134              		.loc 1 922 3 view .LVU905
 3135              		.loc 1 922 9 is_stmt 0 view .LVU906
 3136 00a0 0AE0     		b	.L163
 3137              	.LVL340:
 3138              	.L167:
 923:Core/Src/mainLoop.c ****     value_dacP += deltaDAC;
 924:Core/Src/mainLoop.c ****     value_dacN -= deltaDAC;
 925:Core/Src/mainLoop.c ****     deltaDAC += 1;
 926:Core/Src/mainLoop.c **** 
 927:Core/Src/mainLoop.c ****     // max5307_w_chanel(DACP_1, (value_dacP  >> 12)&0xffc, max_outdisable);
 928:Core/Src/mainLoop.c ****     // max5307_w_chanel(DACP_1K, ((value_dacP>>0) & 0xfff), max_outdisable);
 929:Core/Src/mainLoop.c ****     // max5307_w_chanel(DACN_1, (value_dacN  >> 12)&0xffc, max_outdisable);
 930:Core/Src/mainLoop.c ****     // max5307_w_chanel(DACN_1K, ((value_dacN>>0) & 0xfff), max_outdisable);
 931:Core/Src/mainLoop.c **** 
 932:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1, (((value_dacP) >> 20) & 0xffc), max_outdisable);
 933:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1K, (((value_dacP) >> 10) & 0xffc), max_outdisable);
 934:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1M, ((value_dacP) & 0xfff) & 0xfff, max_outdisable);
 935:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1, (((value_dacN) >> 20) & 0xffc), max_outdisable);
 936:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1K, (((value_dacN) >> 10) & 0xffc), max_outdisable);
 937:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1M, ((value_dacN) & 0xfff) & 0xfff, max_outdisable);
 938:Core/Src/mainLoop.c **** 
 939:Core/Src/mainLoop.c ****     do {
 940:Core/Src/mainLoop.c ****       uint16_t chanelNo = 0;
 941:Core/Src/mainLoop.c ****       chanelNo = 0x01 << (DACP_1 + 2) | 0x01 << (DACP_1K + 2) |
 942:Core/Src/mainLoop.c ****                  0x01 << (DACP_1M + 2) | 0x01 << (DACN_1 + 2) |
ARM GAS  /tmp/ccFJCU99.s 			page 75


 943:Core/Src/mainLoop.c ****                  0x01 << (DACN_1K + 2) | 0x01 << (DACN_1M + 2);
 944:Core/Src/mainLoop.c ****       max5307_enable_ori_chanel(chanelNo);
 945:Core/Src/mainLoop.c ****     } while (0);
 946:Core/Src/mainLoop.c ****     // HAL_Delay(1);
 947:Core/Src/mainLoop.c ****   }
 948:Core/Src/mainLoop.c **** 
 949:Core/Src/mainLoop.c ****   /* USER CODE END 2 */
 950:Core/Src/mainLoop.c **** 
 951:Core/Src/mainLoop.c ****   while (1) {
 952:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == ADCCAPOK) {
 953:Core/Src/mainLoop.c ****       // cal t1
 954:Core/Src/mainLoop.c ****       // HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t2.buf ,ADC_BUF_T_SIZE*2);
 955:Core/Src/mainLoop.c ****       // cal_cp_output_dac(&adc1_t1, &value_dacP, &value_dacN);
 956:Core/Src/mainLoop.c ****       cal_cp_output_dac_ext_1(&adc1_t1, &value_dacP, &value_dacN, runTimes);
 3139              		.loc 1 956 7 is_stmt 1 view .LVU907
 3140 00a2 114D     		ldr	r5, .L168
 3141 00a4 2346     		mov	r3, r4
 3142 00a6 134A     		ldr	r2, .L168+12
 3143 00a8 1149     		ldr	r1, .L168+8
 3144 00aa 2846     		mov	r0, r5
 3145 00ac FFF7FEFF 		bl	cal_cp_output_dac_ext_1
 3146              	.LVL341:
 957:Core/Src/mainLoop.c ****       adc1_t1.adc_cap_ok = CALOK;
 3147              		.loc 1 957 7 view .LVU908
 3148              		.loc 1 957 26 is_stmt 0 view .LVU909
 3149 00b0 4FF6FF73 		movw	r3, #65535
 3150 00b4 2B60     		str	r3, [r5]
 958:Core/Src/mainLoop.c ****       runTimes++;  // log run time runTimes+1 = 500us,
 3151              		.loc 1 958 7 is_stmt 1 view .LVU910
 3152              		.loc 1 958 15 is_stmt 0 view .LVU911
 3153 00b6 0134     		adds	r4, r4, #1
 3154              	.LVL342:
 3155              	.L163:
 945:Core/Src/mainLoop.c ****     // HAL_Delay(1);
 3156              		.loc 1 945 13 is_stmt 1 view .LVU912
 922:Core/Src/mainLoop.c ****     value_dacP += deltaDAC;
 3157              		.loc 1 922 9 view .LVU913
 951:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == ADCCAPOK) {
 3158              		.loc 1 951 3 view .LVU914
 952:Core/Src/mainLoop.c ****       // cal t1
 3159              		.loc 1 952 5 view .LVU915
 952:Core/Src/mainLoop.c ****       // cal t1
 3160              		.loc 1 952 16 is_stmt 0 view .LVU916
 3161 00b8 0B4B     		ldr	r3, .L168
 3162 00ba 1A68     		ldr	r2, [r3]
 952:Core/Src/mainLoop.c ****       // cal t1
 3163              		.loc 1 952 8 view .LVU917
 3164 00bc 45F25553 		movw	r3, #21845
 3165 00c0 9A42     		cmp	r2, r3
 3166 00c2 EED0     		beq	.L167
 959:Core/Src/mainLoop.c **** 
 960:Core/Src/mainLoop.c ****     } else if (adc1_t2.adc_cap_ok == ADCCAPOK) {
 3167              		.loc 1 960 12 is_stmt 1 view .LVU918
 3168              		.loc 1 960 23 is_stmt 0 view .LVU919
 3169 00c4 094B     		ldr	r3, .L168+4
 3170 00c6 1A68     		ldr	r2, [r3]
 3171              		.loc 1 960 15 view .LVU920
ARM GAS  /tmp/ccFJCU99.s 			page 76


 3172 00c8 45F25553 		movw	r3, #21845
 3173 00cc 9A42     		cmp	r2, r3
 3174 00ce F3D1     		bne	.L163
 961:Core/Src/mainLoop.c ****       // cal t2
 962:Core/Src/mainLoop.c ****       // HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t1.buf ,ADC_BUF_T_SIZE*2);
 963:Core/Src/mainLoop.c ****       // cal_cp_output_dac(&adc1_t2, &value_dacP, &value_dacN);
 964:Core/Src/mainLoop.c ****       cal_cp_output_dac_ext_1(&adc1_t2, &value_dacP, &value_dacN, runTimes);
 3175              		.loc 1 964 7 is_stmt 1 view .LVU921
 3176 00d0 064D     		ldr	r5, .L168+4
 3177 00d2 2346     		mov	r3, r4
 3178 00d4 074A     		ldr	r2, .L168+12
 3179 00d6 0649     		ldr	r1, .L168+8
 3180 00d8 2846     		mov	r0, r5
 3181 00da FFF7FEFF 		bl	cal_cp_output_dac_ext_1
 3182              	.LVL343:
 965:Core/Src/mainLoop.c ****       adc1_t2.adc_cap_ok = CALOK;
 3183              		.loc 1 965 7 view .LVU922
 3184              		.loc 1 965 26 is_stmt 0 view .LVU923
 3185 00de 4FF6FF73 		movw	r3, #65535
 3186 00e2 2B60     		str	r3, [r5]
 966:Core/Src/mainLoop.c ****       runTimes++;  // log run time runTimes+1 = 500us,
 3187              		.loc 1 966 7 is_stmt 1 view .LVU924
 3188              		.loc 1 966 15 is_stmt 0 view .LVU925
 3189 00e4 0134     		adds	r4, r4, #1
 3190              	.LVL344:
 3191              		.loc 1 966 15 view .LVU926
 3192 00e6 E7E7     		b	.L163
 3193              	.L169:
 3194              		.align	2
 3195              	.L168:
 3196 00e8 00000000 		.word	adc1_t1
 3197 00ec 00000000 		.word	adc1_t2
 3198 00f0 00000000 		.word	.LANCHOR13
 3199 00f4 00000000 		.word	.LANCHOR14
 3200 00f8 00000000 		.word	logBufDma
 3201 00fc 00000000 		.word	huart2
 3202 0100 00000000 		.word	.LANCHOR15
 3203 0104 00000000 		.word	.LANCHOR16
 3204 0108 00000000 		.word	hadc2
 3205              		.cfi_endproc
 3206              	.LFE153:
 3208              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
 3209              		.align	1
 3210              		.global	HAL_ADC_ConvCpltCallback
 3211              		.syntax unified
 3212              		.thumb
 3213              		.thumb_func
 3214              		.fpu fpv4-sp-d16
 3216              	HAL_ADC_ConvCpltCallback:
 3217              	.LVL345:
 3218              	.LFB154:
 967:Core/Src/mainLoop.c ****     }
 968:Core/Src/mainLoop.c ****     // printf("hello stm32 detect vel\n");
 969:Core/Src/mainLoop.c ****     // HAL_Delay(100);
 970:Core/Src/mainLoop.c ****   }
 971:Core/Src/mainLoop.c **** }
 972:Core/Src/mainLoop.c **** 
ARM GAS  /tmp/ccFJCU99.s 			page 77


 973:Core/Src/mainLoop.c **** //Áî®‰∫éÂø´ÈÄüadcÈááÊ†∑ÔºåÈááÁî®dmaÊñπÂºèÔºåÊØèÊ¨°Âè™ÈááÊ†∑‰∏Ä‰∏™Êï∞ÂÄºÔºådma‰∏≠Êñ≠‰ª£Á†Å‰∏≠ËÆæÁΩÆÊ
 974:Core/Src/mainLoop.c **** //‰∏ªÁ®ãÂ∫èÊé•Êî∂Âà∞Ê†áÂøóÂêéÔºåÂèØ‰ª•ËØªÂèñadcÈááÊ†∑ÂÄºÔºåÂπ∂ÂºÄÂêØ‰∏ã‰∏ÄÊ¨°adc dmaÈááÊ†∑
 975:Core/Src/mainLoop.c **** // void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef *hadc) {
 976:Core/Src/mainLoop.c **** //   if (hadc == &hadc1) {
 977:Core/Src/mainLoop.c **** //     adc1_ok = 1;
 978:Core/Src/mainLoop.c **** //     HAL_ADC_Start_DMA(&hadc1, (uint32_t *)adc1_t1.buf, ADC_BUF_T_SIZE * 2);
 979:Core/Src/mainLoop.c **** //   }
 980:Core/Src/mainLoop.c **** //   if (hadc == &hadc2) {
 981:Core/Src/mainLoop.c **** //     adc1_t1.adc_cap_ok = ADCCAPOK;
 982:Core/Src/mainLoop.c ****     
 983:Core/Src/mainLoop.c **** //   }
 984:Core/Src/mainLoop.c **** // }
 985:Core/Src/mainLoop.c **** 
 986:Core/Src/mainLoop.c **** 
 987:Core/Src/mainLoop.c **** void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef *hadc) {
 3219              		.loc 1 987 56 is_stmt 1 view -0
 3220              		.cfi_startproc
 3221              		@ args = 0, pretend = 0, frame = 0
 3222              		@ frame_needed = 0, uses_anonymous_args = 0
 3223              		.loc 1 987 56 is_stmt 0 view .LVU928
 3224 0000 10B5     		push	{r4, lr}
 3225              	.LCFI25:
 3226              		.cfi_def_cfa_offset 8
 3227              		.cfi_offset 4, -8
 3228              		.cfi_offset 14, -4
 3229 0002 0446     		mov	r4, r0
 988:Core/Src/mainLoop.c ****   // ËøôÈáåÊòØÂΩìADCËΩ¨Êç¢ÂÆåÊàêÊó∂ÊâßË°åÁöÑ‰ª£Á†Å
 989:Core/Src/mainLoop.c ****   // ÂèØ‰ª•ËÆæÁΩÆÊ†áÂøóÔºåÈÄöÁü•‰∏ªÁ®ãÂ∫èÈááÊ†∑Â∑≤ÁªèÂÆåÊàê
 990:Core/Src/mainLoop.c ****   if (hadc == &hadc1) {
 3230              		.loc 1 990 3 is_stmt 1 view .LVU929
 3231              		.loc 1 990 6 is_stmt 0 view .LVU930
 3232 0004 1C4B     		ldr	r3, .L180
 3233 0006 9842     		cmp	r0, r3
 3234 0008 03D0     		beq	.L176
 3235              	.LVL346:
 3236              	.L171:
 991:Core/Src/mainLoop.c ****     adc2_ok = 1;
 992:Core/Src/mainLoop.c ****     HAL_ADC_Start_DMA(&hadc1, (uint32_t *)value_adc2, ADC_TIMES_N);
 993:Core/Src/mainLoop.c ****   }
 994:Core/Src/mainLoop.c ****   if (hadc == &hadc2) {
 3237              		.loc 1 994 3 is_stmt 1 view .LVU931
 3238              		.loc 1 994 6 is_stmt 0 view .LVU932
 3239 000a 1C4B     		ldr	r3, .L180+4
 3240 000c 9C42     		cmp	r4, r3
 3241 000e 0AD0     		beq	.L177
 3242              	.LVL347:
 3243              	.L170:
 995:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == CALOK) {
 996:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t1.buf, ADC_BUF_T_SIZE * 2);
 997:Core/Src/mainLoop.c ****       adc1_t1.adc_cap_ok = ADCCAPOK;
 998:Core/Src/mainLoop.c ****     } else if (adc1_t2.adc_cap_ok == CALOK) {
 999:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t2.buf, ADC_BUF_T_SIZE * 2);
1000:Core/Src/mainLoop.c ****       adc1_t2.adc_cap_ok = ADCCAPOK;
1001:Core/Src/mainLoop.c ****     } else {
1002:Core/Src/mainLoop.c ****     }
1003:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
1004:Core/Src/mainLoop.c ****   }
ARM GAS  /tmp/ccFJCU99.s 			page 78


1005:Core/Src/mainLoop.c **** }
 3244              		.loc 1 1005 1 view .LVU933
 3245 0010 10BD     		pop	{r4, pc}
 3246              	.LVL348:
 3247              	.L176:
 991:Core/Src/mainLoop.c ****     adc2_ok = 1;
 3248              		.loc 1 991 5 is_stmt 1 view .LVU934
 991:Core/Src/mainLoop.c ****     adc2_ok = 1;
 3249              		.loc 1 991 13 is_stmt 0 view .LVU935
 3250 0012 1B4B     		ldr	r3, .L180+8
 3251 0014 0122     		movs	r2, #1
 3252 0016 1A60     		str	r2, [r3]
 992:Core/Src/mainLoop.c ****   }
 3253              		.loc 1 992 5 is_stmt 1 view .LVU936
 3254 0018 4FF4FA52 		mov	r2, #8000
 3255 001c 1949     		ldr	r1, .L180+12
 3256 001e 1648     		ldr	r0, .L180
 3257              	.LVL349:
 992:Core/Src/mainLoop.c ****   }
 3258              		.loc 1 992 5 is_stmt 0 view .LVU937
 3259 0020 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3260              	.LVL350:
 3261 0024 F1E7     		b	.L171
 3262              	.L177:
 995:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == CALOK) {
 3263              		.loc 1 995 5 is_stmt 1 view .LVU938
 995:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == CALOK) {
 3264              		.loc 1 995 16 is_stmt 0 view .LVU939
 3265 0026 184B     		ldr	r3, .L180+16
 3266 0028 1A68     		ldr	r2, [r3]
 995:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == CALOK) {
 3267              		.loc 1 995 8 view .LVU940
 3268 002a 4FF6FF73 		movw	r3, #65535
 3269 002e 9A42     		cmp	r2, r3
 3270 0030 0BD0     		beq	.L178
 998:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t2.buf, ADC_BUF_T_SIZE * 2);
 3271              		.loc 1 998 12 is_stmt 1 view .LVU941
 998:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t2.buf, ADC_BUF_T_SIZE * 2);
 3272              		.loc 1 998 23 is_stmt 0 view .LVU942
 3273 0032 164B     		ldr	r3, .L180+20
 3274 0034 1A68     		ldr	r2, [r3]
 998:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t2.buf, ADC_BUF_T_SIZE * 2);
 3275              		.loc 1 998 15 view .LVU943
 3276 0036 4FF6FF73 		movw	r3, #65535
 3277 003a 9A42     		cmp	r2, r3
 3278 003c 10D0     		beq	.L179
 3279              	.LVL351:
 3280              	.L174:
1002:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 3281              		.loc 1 1002 5 is_stmt 1 view .LVU944
1003:Core/Src/mainLoop.c ****   }
 3282              		.loc 1 1003 5 view .LVU945
 3283 003e 4FF40061 		mov	r1, #2048
 3284 0042 1348     		ldr	r0, .L180+24
 3285 0044 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 3286              	.LVL352:
 3287              		.loc 1 1005 1 is_stmt 0 view .LVU946
ARM GAS  /tmp/ccFJCU99.s 			page 79


 3288 0048 E2E7     		b	.L170
 3289              	.LVL353:
 3290              	.L178:
 996:Core/Src/mainLoop.c ****       adc1_t1.adc_cap_ok = ADCCAPOK;
 3291              		.loc 1 996 7 is_stmt 1 view .LVU947
 3292 004a 124C     		ldr	r4, .L180+28
 3293              	.LVL354:
 996:Core/Src/mainLoop.c ****       adc1_t1.adc_cap_ok = ADCCAPOK;
 3294              		.loc 1 996 7 is_stmt 0 view .LVU948
 3295 004c C822     		movs	r2, #200
 3296 004e 2146     		mov	r1, r4
 3297 0050 0A48     		ldr	r0, .L180+4
 3298 0052 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3299              	.LVL355:
 997:Core/Src/mainLoop.c ****     } else if (adc1_t2.adc_cap_ok == CALOK) {
 3300              		.loc 1 997 7 is_stmt 1 view .LVU949
 997:Core/Src/mainLoop.c ****     } else if (adc1_t2.adc_cap_ok == CALOK) {
 3301              		.loc 1 997 26 is_stmt 0 view .LVU950
 3302 0056 45F25553 		movw	r3, #21845
 3303 005a 44F8043C 		str	r3, [r4, #-4]
 3304 005e EEE7     		b	.L174
 3305              	.LVL356:
 3306              	.L179:
 999:Core/Src/mainLoop.c ****       adc1_t2.adc_cap_ok = ADCCAPOK;
 3307              		.loc 1 999 7 is_stmt 1 view .LVU951
 3308 0060 0D4C     		ldr	r4, .L180+32
 3309              	.LVL357:
 999:Core/Src/mainLoop.c ****       adc1_t2.adc_cap_ok = ADCCAPOK;
 3310              		.loc 1 999 7 is_stmt 0 view .LVU952
 3311 0062 C822     		movs	r2, #200
 3312 0064 2146     		mov	r1, r4
 3313 0066 0548     		ldr	r0, .L180+4
 3314 0068 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3315              	.LVL358:
1000:Core/Src/mainLoop.c ****     } else {
 3316              		.loc 1 1000 7 is_stmt 1 view .LVU953
1000:Core/Src/mainLoop.c ****     } else {
 3317              		.loc 1 1000 26 is_stmt 0 view .LVU954
 3318 006c 45F25553 		movw	r3, #21845
 3319 0070 44F8043C 		str	r3, [r4, #-4]
 3320 0074 E3E7     		b	.L174
 3321              	.L181:
 3322 0076 00BF     		.align	2
 3323              	.L180:
 3324 0078 00000000 		.word	hadc1
 3325 007c 00000000 		.word	hadc2
 3326 0080 00000000 		.word	.LANCHOR16
 3327 0084 00000000 		.word	value_adc2
 3328 0088 00000000 		.word	adc1_t1
 3329 008c 00000000 		.word	adc1_t2
 3330 0090 00080240 		.word	1073874944
 3331 0094 04000000 		.word	adc1_t1+4
 3332 0098 04000000 		.word	adc1_t2+4
 3333              		.cfi_endproc
 3334              	.LFE154:
 3336              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 3337              		.align	1
ARM GAS  /tmp/ccFJCU99.s 			page 80


 3338              		.global	HAL_UART_TxCpltCallback
 3339              		.syntax unified
 3340              		.thumb
 3341              		.thumb_func
 3342              		.fpu fpv4-sp-d16
 3344              	HAL_UART_TxCpltCallback:
 3345              	.LVL359:
 3346              	.LFB155:
1006:Core/Src/mainLoop.c **** 
1007:Core/Src/mainLoop.c **** // void HAL_UART_TxHalfCpltCallback(UART_HandleTypeDef *huart){
1008:Core/Src/mainLoop.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
 3347              		.loc 1 1008 57 is_stmt 1 view -0
 3348              		.cfi_startproc
 3349              		@ args = 0, pretend = 0, frame = 0
 3350              		@ frame_needed = 0, uses_anonymous_args = 0
 3351              		@ link register save eliminated.
1009:Core/Src/mainLoop.c ****   if (huart == &huart2) {
 3352              		.loc 1 1009 3 view .LVU956
 3353              		.loc 1 1009 6 is_stmt 0 view .LVU957
 3354 0000 044B     		ldr	r3, .L185
 3355 0002 8342     		cmp	r3, r0
 3356 0004 00D0     		beq	.L184
 3357              	.L182:
1010:Core/Src/mainLoop.c **** 
1011:Core/Src/mainLoop.c ****     // logBufDma.mean_adc_val = logPara.mean_adc_val;
1012:Core/Src/mainLoop.c ****     // logBufDma.dac_val_p = logPara.dac_val_p;
1013:Core/Src/mainLoop.c ****     // logBufDma.dac_val_n = logPara.dac_val_n;
1014:Core/Src/mainLoop.c ****     // HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
1015:Core/Src/mainLoop.c ****     //                       sizeof(struct log_para_t));
1016:Core/Src/mainLoop.c **** 
1017:Core/Src/mainLoop.c ****     // 2024.6.11 ‰∏∫‰∫Ü‰øùËØÅÊØèÊ¨°ÂèëÈÄÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÔºåËÆæÁΩÆÊ†áÂøó‰ΩçÔºåÁî®Êù•ÂêØÂä®‰∏ã‰∏ÄÊ¨°Â
1018:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_OK;
1019:Core/Src/mainLoop.c ****   }
1020:Core/Src/mainLoop.c **** }...
 3358              		.loc 1 1020 1 view .LVU958
 3359 0006 7047     		bx	lr
 3360              	.L184:
1018:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_OK;
 3361              		.loc 1 1018 5 is_stmt 1 view .LVU959
1018:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_OK;
 3362              		.loc 1 1018 22 is_stmt 0 view .LVU960
 3363 0008 034B     		ldr	r3, .L185+4
 3364 000a 45F25552 		movw	r2, #21845
 3365 000e 1A60     		str	r2, [r3]
 3366              		.loc 1 1020 1 view .LVU961
 3367 0010 F9E7     		b	.L182
 3368              	.L186:
 3369 0012 00BF     		.align	2
 3370              	.L185:
 3371 0014 00000000 		.word	huart2
 3372 0018 00000000 		.word	.LANCHOR12
 3373              		.cfi_endproc
 3374              	.LFE155:
 3376              		.comm	lastAdcVal,4,4
 3377              		.comm	adcVal,4,4
 3378              		.global	locked
 3379              		.global	ad9520_reg
ARM GAS  /tmp/ccFJCU99.s 			page 81


 3380              		.global	forSaveAllSum
 3381              		.global	difVal_view
 3382              		.global	meanVal_view
 3383              		.comm	logPara,11,4
 3384              		.comm	valMeanArray,80,4
 3385              		.global	dletDac
 3386              		.global	pidD
 3387              		.global	pidI
 3388              		.global	pidP
 3389              		.comm	adcSumArray,40,4
 3390              		.comm	value_cp,32000,4
 3391              		.comm	value_adc2,16000,4
 3392              		.comm	value_adc1,16000,4
 3393              		.global	Wave_LUT
 3394              		.comm	tmp,8,8
 3395              		.comm	dacV,4,4
 3396              		.comm	v_dianya,4,4
 3397              		.comm	buf,4,4
 3398              		.comm	yy_cnt,4,4
 3399              		.comm	xx_cnt,4,4
 3400              		.comm	complete_sign,4,4
 3401              		.comm	yy,4,4
 3402              		.comm	xx,4,4
 3403              		.global	fre_dif
 3404              		.global	f
 3405              		.global	i
 3406              		.global	chanl2_midx
 3407              		.global	chanl1_midx
 3408              		.global	average_xNum2
 3409              		.global	average_xNum1
 3410              		.global	chanl2_completed
 3411              		.global	chanl1_completed
 3412              		.comm	chanl2_capNum_f,400,4
 3413              		.comm	chanl1_capNum_f,400,4
 3414              		.comm	chanl2_xNum,400,4
 3415              		.comm	chanl1_xNum,400,4
 3416              		.comm	chanl2_capNum,400,4
 3417              		.comm	chanl1_capNum,400,4
 3418              		.comm	logBufDma,11,4
 3419              		.global	uartDMA_tri_sign
 3420              		.comm	adc1_t2,412,4
 3421              		.comm	adc1_t1,412,4
 3422              		.global	mainCpLast
 3423              		.global	mainCp
 3424              		.global	value_dacN
 3425              		.global	value_dacP
 3426              		.global	adc2_ok
 3427              		.global	adc1_ok
 3428              		.section	.bss.ad9520_reg,"aw",%nobits
 3429              		.align	1
 3432              	ad9520_reg:
 3433 0000 0000     		.space	2
 3434              		.section	.bss.adc1_ok,"aw",%nobits
 3435              		.align	2
 3436              		.set	.LANCHOR15,. + 0
 3439              	adc1_ok:
 3440 0000 00000000 		.space	4
ARM GAS  /tmp/ccFJCU99.s 			page 82


 3441              		.section	.bss.adc2_ok,"aw",%nobits
 3442              		.align	2
 3443              		.set	.LANCHOR16,. + 0
 3446              	adc2_ok:
 3447 0000 00000000 		.space	4
 3448              		.section	.bss.average_xNum1,"aw",%nobits
 3449              		.align	2
 3452              	average_xNum1:
 3453 0000 00000000 		.space	4
 3454              		.section	.bss.average_xNum2,"aw",%nobits
 3455              		.align	2
 3458              	average_xNum2:
 3459 0000 00000000 		.space	4
 3460              		.section	.bss.chanl1_completed,"aw",%nobits
 3461              		.align	2
 3464              	chanl1_completed:
 3465 0000 00000000 		.space	4
 3466              		.section	.bss.chanl1_midx,"aw",%nobits
 3467              		.align	2
 3468              		.set	.LANCHOR2,. + 0
 3471              	chanl1_midx:
 3472 0000 00000000 		.space	4
 3473              		.section	.bss.chanl2_completed,"aw",%nobits
 3474              		.align	2
 3477              	chanl2_completed:
 3478 0000 00000000 		.space	4
 3479              		.section	.bss.chanl2_midx,"aw",%nobits
 3480              		.align	2
 3481              		.set	.LANCHOR3,. + 0
 3484              	chanl2_midx:
 3485 0000 00000000 		.space	4
 3486              		.section	.bss.currentP.10314,"aw",%nobits
 3487              		.align	2
 3488              		.set	.LANCHOR8,. + 0
 3491              	currentP.10314:
 3492 0000 00000000 		.space	4
 3493              		.section	.bss.difVal_view,"aw",%nobits
 3494              		.align	2
 3495              		.set	.LANCHOR10,. + 0
 3498              	difVal_view:
 3499 0000 00000000 		.space	4
 3500              		.section	.bss.dletDac,"aw",%nobits
 3501              		.align	2
 3502              		.set	.LANCHOR7,. + 0
 3505              	dletDac:
 3506 0000 00000000 		.space	4
 3507              		.section	.bss.forSaveAllSum,"aw",%nobits
 3508              		.align	1
 3509              		.set	.LANCHOR11,. + 0
 3512              	forSaveAllSum:
 3513 0000 0000     		.space	2
 3514              		.section	.bss.fre_dif,"aw",%nobits
 3515              		.align	2
 3516              		.set	.LANCHOR0,. + 0
 3519              	fre_dif:
 3520 0000 00000000 		.space	4
 3521              		.section	.bss.i,"aw",%nobits
ARM GAS  /tmp/ccFJCU99.s 			page 83


 3522              		.align	2
 3523              		.set	.LANCHOR1,. + 0
 3526              	i:
 3527 0000 00000000 		.space	4
 3528              		.section	.bss.locked,"aw",%nobits
 3529              		.align	2
 3532              	locked:
 3533 0000 00000000 		.space	4
 3534              		.section	.bss.mainCp,"aw",%nobits
 3535              		.align	2
 3538              	mainCp:
 3539 0000 00000000 		.space	4
 3540              		.section	.bss.mainCpLast,"aw",%nobits
 3541              		.align	2
 3544              	mainCpLast:
 3545 0000 00000000 		.space	4
 3546              		.section	.bss.meanVal_view,"aw",%nobits
 3547              		.align	2
 3548              		.set	.LANCHOR9,. + 0
 3551              	meanVal_view:
 3552 0000 00000000 		.space	4
 3553              		.section	.bss.pidD,"aw",%nobits
 3554              		.align	2
 3555              		.set	.LANCHOR6,. + 0
 3558              	pidD:
 3559 0000 00000000 		.space	4
 3560              		.section	.bss.pidI,"aw",%nobits
 3561              		.align	2
 3562              		.set	.LANCHOR5,. + 0
 3565              	pidI:
 3566 0000 00000000 		.space	4
 3567              		.section	.bss.pidP,"aw",%nobits
 3568              		.align	2
 3569              		.set	.LANCHOR4,. + 0
 3572              	pidP:
 3573 0000 00000000 		.space	4
 3574              		.section	.data.Wave_LUT,"aw"
 3575              		.align	2
 3578              	Wave_LUT:
 3579 0000 00080000 		.word	2048
 3580 0004 65080000 		.word	2149
 3581 0008 CA080000 		.word	2250
 3582 000c 2E090000 		.word	2350
 3583 0010 92090000 		.word	2450
 3584 0014 F5090000 		.word	2549
 3585 0018 560A0000 		.word	2646
 3586 001c B60A0000 		.word	2742
 3587 0020 150B0000 		.word	2837
 3588 0024 710B0000 		.word	2929
 3589 0028 CC0B0000 		.word	3020
 3590 002c 240C0000 		.word	3108
 3591 0030 790C0000 		.word	3193
 3592 0034 CB0C0000 		.word	3275
 3593 0038 1B0D0000 		.word	3355
 3594 003c 670D0000 		.word	3431
 3595 0040 B00D0000 		.word	3504
 3596 0044 F60D0000 		.word	3574
ARM GAS  /tmp/ccFJCU99.s 			page 84


 3597 0048 370E0000 		.word	3639
 3598 004c 750E0000 		.word	3701
 3599 0050 AF0E0000 		.word	3759
 3600 0054 E40E0000 		.word	3812
 3601 0058 150F0000 		.word	3861
 3602 005c 420F0000 		.word	3906
 3603 0060 6A0F0000 		.word	3946
 3604 0064 8E0F0000 		.word	3982
 3605 0068 AD0F0000 		.word	4013
 3606 006c C70F0000 		.word	4039
 3607 0070 DC0F0000 		.word	4060
 3608 0074 EC0F0000 		.word	4076
 3609 0078 F70F0000 		.word	4087
 3610 007c FE0F0000 		.word	4094
 3611 0080 FF0F0000 		.word	4095
 3612 0084 FB0F0000 		.word	4091
 3613 0088 F20F0000 		.word	4082
 3614 008c E50F0000 		.word	4069
 3615 0090 D20F0000 		.word	4050
 3616 0094 BA0F0000 		.word	4026
 3617 0098 9E0F0000 		.word	3998
 3618 009c 7D0F0000 		.word	3965
 3619 00a0 570F0000 		.word	3927
 3620 00a4 2C0F0000 		.word	3884
 3621 00a8 FD0E0000 		.word	3837
 3622 00ac CA0E0000 		.word	3786
 3623 00b0 920E0000 		.word	3730
 3624 00b4 570E0000 		.word	3671
 3625 00b8 170E0000 		.word	3607
 3626 00bc D30D0000 		.word	3539
 3627 00c0 8C0D0000 		.word	3468
 3628 00c4 420D0000 		.word	3394
 3629 00c8 F40C0000 		.word	3316
 3630 00cc A30C0000 		.word	3235
 3631 00d0 4F0C0000 		.word	3151
 3632 00d4 F80B0000 		.word	3064
 3633 00d8 9F0B0000 		.word	2975
 3634 00dc 430B0000 		.word	2883
 3635 00e0 E60A0000 		.word	2790
 3636 00e4 870A0000 		.word	2695
 3637 00e8 260A0000 		.word	2598
 3638 00ec C4090000 		.word	2500
 3639 00f0 60090000 		.word	2400
 3640 00f4 FC080000 		.word	2300
 3641 00f8 97080000 		.word	2199
 3642 00fc 32080000 		.word	2098
 3643 0100 CD070000 		.word	1997
 3644 0104 68070000 		.word	1896
 3645 0108 03070000 		.word	1795
 3646 010c 9F060000 		.word	1695
 3647 0110 3B060000 		.word	1595
 3648 0114 D9050000 		.word	1497
 3649 0118 78050000 		.word	1400
 3650 011c 19050000 		.word	1305
 3651 0120 BC040000 		.word	1212
 3652 0124 60040000 		.word	1120
 3653 0128 07040000 		.word	1031
ARM GAS  /tmp/ccFJCU99.s 			page 85


 3654 012c B0030000 		.word	944
 3655 0130 5C030000 		.word	860
 3656 0134 0B030000 		.word	779
 3657 0138 BD020000 		.word	701
 3658 013c 73020000 		.word	627
 3659 0140 2C020000 		.word	556
 3660 0144 E8010000 		.word	488
 3661 0148 A8010000 		.word	424
 3662 014c 6D010000 		.word	365
 3663 0150 35010000 		.word	309
 3664 0154 02010000 		.word	258
 3665 0158 D3000000 		.word	211
 3666 015c A8000000 		.word	168
 3667 0160 82000000 		.word	130
 3668 0164 61000000 		.word	97
 3669 0168 45000000 		.word	69
 3670 016c 2D000000 		.word	45
 3671 0170 1A000000 		.word	26
 3672 0174 0D000000 		.word	13
 3673 0178 04000000 		.word	4
 3674 017c 00000000 		.word	0
 3675 0180 01000000 		.word	1
 3676 0184 08000000 		.word	8
 3677 0188 13000000 		.word	19
 3678 018c 23000000 		.word	35
 3679 0190 38000000 		.word	56
 3680 0194 52000000 		.word	82
 3681 0198 71000000 		.word	113
 3682 019c 95000000 		.word	149
 3683 01a0 BD000000 		.word	189
 3684 01a4 EA000000 		.word	234
 3685 01a8 1B010000 		.word	283
 3686 01ac 50010000 		.word	336
 3687 01b0 8A010000 		.word	394
 3688 01b4 C8010000 		.word	456
 3689 01b8 09020000 		.word	521
 3690 01bc 4F020000 		.word	591
 3691 01c0 98020000 		.word	664
 3692 01c4 E4020000 		.word	740
 3693 01c8 34030000 		.word	820
 3694 01cc 86030000 		.word	902
 3695 01d0 DB030000 		.word	987
 3696 01d4 33040000 		.word	1075
 3697 01d8 8E040000 		.word	1166
 3698 01dc EA040000 		.word	1258
 3699 01e0 49050000 		.word	1353
 3700 01e4 A9050000 		.word	1449
 3701 01e8 0A060000 		.word	1546
 3702 01ec 6D060000 		.word	1645
 3703 01f0 D1060000 		.word	1745
 3704 01f4 35070000 		.word	1845
 3705 01f8 9A070000 		.word	1946
 3706 01fc FF070000 		.word	2047
 3707              		.section	.data.f,"aw"
 3708              		.align	2
 3711              	f:
 3712 0000 C3F54840 		.word	1078523331
ARM GAS  /tmp/ccFJCU99.s 			page 86


 3713              		.section	.data.uartDMA_tri_sign,"aw"
 3714              		.align	2
 3715              		.set	.LANCHOR12,. + 0
 3718              	uartDMA_tri_sign:
 3719 0000 33330000 		.word	13107
 3720              		.section	.data.value_dacN,"aw"
 3721              		.align	2
 3722              		.set	.LANCHOR14,. + 0
 3725              	value_dacN:
 3726 0000 00082080 		.word	-2145384448
 3727              		.section	.data.value_dacP,"aw"
 3728              		.align	2
 3729              		.set	.LANCHOR13,. + 0
 3732              	value_dacP:
 3733 0000 00082080 		.word	-2145384448
 3734              		.text
 3735              	.Letext0:
 3736              		.file 2 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/inc
 3737              		.file 3 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/inc
 3738              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 3739              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 3740              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 3741              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 3742              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 3743              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 3744              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 3745              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 3746              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dac.h"
 3747              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 3748              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 3749              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 3750              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 3751              		.file 17 "Core/Inc/mainLoop.h"
 3752              		.file 18 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/lib/gcc/arm-none
 3753              		.file 19 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3754              		.file 20 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3755              		.file 21 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3756              		.file 22 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3757              		.file 23 "Core/Inc/max5307.h"
 3758              		.file 24 "<built-in>"
 3759              		.file 25 "Core/Inc/ad9520_function.h"
 3760              		.file 26 "Core/Inc/main.h"
ARM GAS  /tmp/ccFJCU99.s 			page 87


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mainLoop.c
     /tmp/ccFJCU99.s:18     .text._write:0000000000000000 $t
     /tmp/ccFJCU99.s:26     .text._write:0000000000000000 _write
     /tmp/ccFJCU99.s:60     .text._write:0000000000000014 $d
     /tmp/ccFJCU99.s:65     .text.transform_capNum_to_xNum:0000000000000000 $t
     /tmp/ccFJCU99.s:72     .text.transform_capNum_to_xNum:0000000000000000 transform_capNum_to_xNum
     /tmp/ccFJCU99.s:133    .text.cal_average_xNum:0000000000000000 $t
     /tmp/ccFJCU99.s:140    .text.cal_average_xNum:0000000000000000 cal_average_xNum
     /tmp/ccFJCU99.s:209    .text.enable_tim4_capture_Iterrupt:0000000000000000 $t
     /tmp/ccFJCU99.s:216    .text.enable_tim4_capture_Iterrupt:0000000000000000 enable_tim4_capture_Iterrupt
     /tmp/ccFJCU99.s:244    .text.enable_tim4_capture_Iterrupt:0000000000000018 $d
     /tmp/ccFJCU99.s:254    .text.generateSinWave:0000000000000000 $t
     /tmp/ccFJCU99.s:261    .text.generateSinWave:0000000000000000 generateSinWave
     /tmp/ccFJCU99.s:307    .text.generateSinWave:0000000000000038 $d
                            *COM*:0000000000000008 tmp
     /tmp/ccFJCU99.s:318    .text.mainLoop:0000000000000000 $t
     /tmp/ccFJCU99.s:325    .text.mainLoop:0000000000000000 mainLoop
     /tmp/ccFJCU99.s:561    .text.mainLoop:0000000000000150 $d
                            *COM*:0000000000000004 complete_sign
                            *COM*:0000000000000004 xx
                            *COM*:0000000000000004 yy
                            *COM*:0000000000000004 xx_cnt
                            *COM*:0000000000000004 yy_cnt
                            *COM*:0000000000000004 v_dianya
                            *COM*:0000000000000004 buf
                            *COM*:0000000000000190 chanl1_capNum
                            *COM*:0000000000000190 chanl2_capNum
     /tmp/ccFJCU99.s:585    .text.HAL_TIM_IC_CaptureCallback:0000000000000000 $t
     /tmp/ccFJCU99.s:592    .text.HAL_TIM_IC_CaptureCallback:0000000000000000 HAL_TIM_IC_CaptureCallback
     /tmp/ccFJCU99.s:663    .text.HAL_TIM_IC_CaptureCallback:0000000000000044 $d
     /tmp/ccFJCU99.s:673    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 $t
     /tmp/ccFJCU99.s:680    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 HAL_TIM_PeriodElapsedCallback
     /tmp/ccFJCU99.s:741    .text.HAL_TIM_PeriodElapsedCallback:0000000000000034 $d
     /tmp/ccFJCU99.s:755    .text.HAL_UART_RxCpltCallback:0000000000000000 $t
     /tmp/ccFJCU99.s:762    .text.HAL_UART_RxCpltCallback:0000000000000000 HAL_UART_RxCpltCallback
     /tmp/ccFJCU99.s:974    .text.HAL_UART_RxCpltCallback:0000000000000130 $d
     /tmp/ccFJCU99.s:989    .text.set_dac_initVal:0000000000000000 $t
     /tmp/ccFJCU99.s:996    .text.set_dac_initVal:0000000000000000 set_dac_initVal
     /tmp/ccFJCU99.s:1070   .text.cal_k_value_cp:0000000000000000 $t
     /tmp/ccFJCU99.s:1077   .text.cal_k_value_cp:0000000000000000 cal_k_value_cp
     /tmp/ccFJCU99.s:1193   .text.cal_k_value_cp:000000000000005c $d
                            *COM*:0000000000007d00 value_cp
     /tmp/ccFJCU99.s:1198   .text.cal_value_cp:0000000000000000 $t
     /tmp/ccFJCU99.s:1205   .text.cal_value_cp:0000000000000000 cal_value_cp
     /tmp/ccFJCU99.s:1260   .text.cal_value_cp:000000000000002c $d
                            *COM*:0000000000003e80 value_adc1
     /tmp/ccFJCU99.s:1266   .text.cal_cp_output_dac:0000000000000000 $t
     /tmp/ccFJCU99.s:1273   .text.cal_cp_output_dac:0000000000000000 cal_cp_output_dac
     /tmp/ccFJCU99.s:1577   .text.cal_cp_output_dac:0000000000000178 $d
                            *COM*:0000000000000028 adcSumArray
     /tmp/ccFJCU99.s:1594   .text.insertMeanVal:0000000000000000 $t
     /tmp/ccFJCU99.s:1601   .text.insertMeanVal:0000000000000000 insertMeanVal
     /tmp/ccFJCU99.s:1720   .text.insertMeanVal:000000000000006c $d
                            *COM*:0000000000000050 valMeanArray
     /tmp/ccFJCU99.s:1727   .text.cal_cp_output_dac_ext:0000000000000000 $t
     /tmp/ccFJCU99.s:1734   .text.cal_cp_output_dac_ext:0000000000000000 cal_cp_output_dac_ext
ARM GAS  /tmp/ccFJCU99.s 			page 88


     /tmp/ccFJCU99.s:2083   .text.cal_cp_output_dac_ext:00000000000001a8 $d
                            *COM*:000000000000000b logPara
     /tmp/ccFJCU99.s:2103   .text.cal_cp_output_dac_ext_1:0000000000000000 $t
     /tmp/ccFJCU99.s:2110   .text.cal_cp_output_dac_ext_1:0000000000000000 cal_cp_output_dac_ext_1
     /tmp/ccFJCU99.s:2514   .text.cal_cp_output_dac_ext_1:00000000000001e8 $d
                            *COM*:000000000000000b logBufDma
     /tmp/ccFJCU99.s:2537   .text.cal_cp_output_dac_ext_2:0000000000000000 $t
     /tmp/ccFJCU99.s:2544   .text.cal_cp_output_dac_ext_2:0000000000000000 cal_cp_output_dac_ext_2
     /tmp/ccFJCU99.s:2827   .text.cal_cp_output_dac_ext_2:0000000000000134 $d
     /tmp/ccFJCU99.s:2836   .text.cal_cp_output_dac_ext_3:0000000000000000 $t
     /tmp/ccFJCU99.s:2843   .text.cal_cp_output_dac_ext_3:0000000000000000 cal_cp_output_dac_ext_3
     /tmp/ccFJCU99.s:2857   .text.fakeDelay:0000000000000000 $t
     /tmp/ccFJCU99.s:2864   .text.fakeDelay:0000000000000000 fakeDelay
     /tmp/ccFJCU99.s:2916   .text.preMainLoop1:0000000000000000 $t
     /tmp/ccFJCU99.s:2923   .text.preMainLoop1:0000000000000000 preMainLoop1
     /tmp/ccFJCU99.s:3000   .text.preMainLoop1:0000000000000044 $d
     /tmp/ccFJCU99.s:3006   .text.mainLoop1:0000000000000000 $t
     /tmp/ccFJCU99.s:3013   .text.mainLoop1:0000000000000000 mainLoop1
     /tmp/ccFJCU99.s:3196   .text.mainLoop1:00000000000000e8 $d
                            *COM*:000000000000019c adc1_t1
                            *COM*:000000000000019c adc1_t2
     /tmp/ccFJCU99.s:3209   .text.HAL_ADC_ConvCpltCallback:0000000000000000 $t
     /tmp/ccFJCU99.s:3216   .text.HAL_ADC_ConvCpltCallback:0000000000000000 HAL_ADC_ConvCpltCallback
     /tmp/ccFJCU99.s:3324   .text.HAL_ADC_ConvCpltCallback:0000000000000078 $d
                            *COM*:0000000000003e80 value_adc2
     /tmp/ccFJCU99.s:3337   .text.HAL_UART_TxCpltCallback:0000000000000000 $t
     /tmp/ccFJCU99.s:3344   .text.HAL_UART_TxCpltCallback:0000000000000000 HAL_UART_TxCpltCallback
     /tmp/ccFJCU99.s:3371   .text.HAL_UART_TxCpltCallback:0000000000000014 $d
                            *COM*:0000000000000004 lastAdcVal
                            *COM*:0000000000000004 adcVal
     /tmp/ccFJCU99.s:3532   .bss.locked:0000000000000000 locked
     /tmp/ccFJCU99.s:3432   .bss.ad9520_reg:0000000000000000 ad9520_reg
     /tmp/ccFJCU99.s:3512   .bss.forSaveAllSum:0000000000000000 forSaveAllSum
     /tmp/ccFJCU99.s:3498   .bss.difVal_view:0000000000000000 difVal_view
     /tmp/ccFJCU99.s:3551   .bss.meanVal_view:0000000000000000 meanVal_view
     /tmp/ccFJCU99.s:3505   .bss.dletDac:0000000000000000 dletDac
     /tmp/ccFJCU99.s:3558   .bss.pidD:0000000000000000 pidD
     /tmp/ccFJCU99.s:3565   .bss.pidI:0000000000000000 pidI
     /tmp/ccFJCU99.s:3572   .bss.pidP:0000000000000000 pidP
     /tmp/ccFJCU99.s:3578   .data.Wave_LUT:0000000000000000 Wave_LUT
                            *COM*:0000000000000004 dacV
     /tmp/ccFJCU99.s:3519   .bss.fre_dif:0000000000000000 fre_dif
     /tmp/ccFJCU99.s:3711   .data.f:0000000000000000 f
     /tmp/ccFJCU99.s:3526   .bss.i:0000000000000000 i
     /tmp/ccFJCU99.s:3484   .bss.chanl2_midx:0000000000000000 chanl2_midx
     /tmp/ccFJCU99.s:3471   .bss.chanl1_midx:0000000000000000 chanl1_midx
     /tmp/ccFJCU99.s:3458   .bss.average_xNum2:0000000000000000 average_xNum2
     /tmp/ccFJCU99.s:3452   .bss.average_xNum1:0000000000000000 average_xNum1
     /tmp/ccFJCU99.s:3477   .bss.chanl2_completed:0000000000000000 chanl2_completed
     /tmp/ccFJCU99.s:3464   .bss.chanl1_completed:0000000000000000 chanl1_completed
                            *COM*:0000000000000190 chanl2_capNum_f
                            *COM*:0000000000000190 chanl1_capNum_f
                            *COM*:0000000000000190 chanl2_xNum
                            *COM*:0000000000000190 chanl1_xNum
     /tmp/ccFJCU99.s:3718   .data.uartDMA_tri_sign:0000000000000000 uartDMA_tri_sign
     /tmp/ccFJCU99.s:3544   .bss.mainCpLast:0000000000000000 mainCpLast
     /tmp/ccFJCU99.s:3538   .bss.mainCp:0000000000000000 mainCp
ARM GAS  /tmp/ccFJCU99.s 			page 89


     /tmp/ccFJCU99.s:3725   .data.value_dacN:0000000000000000 value_dacN
     /tmp/ccFJCU99.s:3732   .data.value_dacP:0000000000000000 value_dacP
     /tmp/ccFJCU99.s:3446   .bss.adc2_ok:0000000000000000 adc2_ok
     /tmp/ccFJCU99.s:3439   .bss.adc1_ok:0000000000000000 adc1_ok
     /tmp/ccFJCU99.s:3429   .bss.ad9520_reg:0000000000000000 $d
     /tmp/ccFJCU99.s:3435   .bss.adc1_ok:0000000000000000 $d
     /tmp/ccFJCU99.s:3442   .bss.adc2_ok:0000000000000000 $d
     /tmp/ccFJCU99.s:3449   .bss.average_xNum1:0000000000000000 $d
     /tmp/ccFJCU99.s:3455   .bss.average_xNum2:0000000000000000 $d
     /tmp/ccFJCU99.s:3461   .bss.chanl1_completed:0000000000000000 $d
     /tmp/ccFJCU99.s:3467   .bss.chanl1_midx:0000000000000000 $d
     /tmp/ccFJCU99.s:3474   .bss.chanl2_completed:0000000000000000 $d
     /tmp/ccFJCU99.s:3480   .bss.chanl2_midx:0000000000000000 $d
     /tmp/ccFJCU99.s:3487   .bss.currentP.10314:0000000000000000 $d
     /tmp/ccFJCU99.s:3491   .bss.currentP.10314:0000000000000000 currentP.10314
     /tmp/ccFJCU99.s:3494   .bss.difVal_view:0000000000000000 $d
     /tmp/ccFJCU99.s:3501   .bss.dletDac:0000000000000000 $d
     /tmp/ccFJCU99.s:3508   .bss.forSaveAllSum:0000000000000000 $d
     /tmp/ccFJCU99.s:3515   .bss.fre_dif:0000000000000000 $d
     /tmp/ccFJCU99.s:3522   .bss.i:0000000000000000 $d
     /tmp/ccFJCU99.s:3529   .bss.locked:0000000000000000 $d
     /tmp/ccFJCU99.s:3535   .bss.mainCp:0000000000000000 $d
     /tmp/ccFJCU99.s:3541   .bss.mainCpLast:0000000000000000 $d
     /tmp/ccFJCU99.s:3547   .bss.meanVal_view:0000000000000000 $d
     /tmp/ccFJCU99.s:3554   .bss.pidD:0000000000000000 $d
     /tmp/ccFJCU99.s:3561   .bss.pidI:0000000000000000 $d
     /tmp/ccFJCU99.s:3568   .bss.pidP:0000000000000000 $d
     /tmp/ccFJCU99.s:3575   .data.Wave_LUT:0000000000000000 $d
     /tmp/ccFJCU99.s:3708   .data.f:0000000000000000 $d
     /tmp/ccFJCU99.s:3714   .data.uartDMA_tri_sign:0000000000000000 $d
     /tmp/ccFJCU99.s:3721   .data.value_dacN:0000000000000000 $d
     /tmp/ccFJCU99.s:3728   .data.value_dacP:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart2
HAL_TIM_Base_Start_IT
htim5
htim4
htim1
__aeabi_i2d
__aeabi_dmul
__aeabi_dadd
sin
__aeabi_f2d
__aeabi_ddiv
__aeabi_d2uiz
init_max5307
max5307_w_chanel
HAL_DAC_Start
HAL_DAC_SetValue
HAL_UART_Receive_IT
init_ad9520
HAL_GPIO_TogglePin
HAL_Delay
check_ad9520_status
round
ARM GAS  /tmp/ccFJCU99.s 			page 90


hdac
__aeabi_d2f
__aeabi_dsub
max5307_loadpin
HAL_GPIO_WritePin
max5307_enable_ori_chanel
HAL_UART_Transmit_DMA
memset
HAL_SPI_Init
Error_Handler
hspi1
HAL_UART_IRQHandler
HAL_ADC_Start_DMA
hadc2
hadc1
