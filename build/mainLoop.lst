ARM GAS  /tmp/ccnB5ISM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mainLoop.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._write,"ax",%progbits
  18              		.align	1
  19              		.global	_write
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	_write:
  27              	.LVL0:
  28              	.LFB133:
  29              		.file 1 "Core/Src/mainLoop.c"
   1:Core/Src/mainLoop.c **** #include "mainLoop.h"
   2:Core/Src/mainLoop.c **** 
   3:Core/Src/mainLoop.c **** #include <stdio.h>
   4:Core/Src/mainLoop.c **** // #include "arm_math.h"
   5:Core/Src/mainLoop.c **** #include "ad9520_function.h"
   6:Core/Src/mainLoop.c **** #include "main.h"
   7:Core/Src/mainLoop.c **** #include "math.h"
   8:Core/Src/mainLoop.c **** #include "max5307.h"
   9:Core/Src/mainLoop.c **** extern UART_HandleTypeDef huart2;
  10:Core/Src/mainLoop.c **** extern DAC_HandleTypeDef hdac;
  11:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim4;
  12:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim1;
  13:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim5;  // Áî®Êù•ÂÅö1sÁöÑÂÆöÊó∂Âô®
  14:Core/Src/mainLoop.c **** extern ADC_HandleTypeDef hadc1;
  15:Core/Src/mainLoop.c **** extern ADC_HandleTypeDef hadc2;
  16:Core/Src/mainLoop.c **** // floating point support in printf isn't enabled by default. To enable, add -u
  17:Core/Src/mainLoop.c **** // _printf_float to your LDFLAGS.
  18:Core/Src/mainLoop.c **** // for ubuntu arm-none-eabi-gcc compile
  19:Core/Src/mainLoop.c **** int _write(int fd, char *ptr, int len) {
  30              		.loc 1 19 40 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 19 40 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
ARM GAS  /tmp/ccnB5ISM.s 			page 2


  40 0002 1446     		mov	r4, r2
  20:Core/Src/mainLoop.c ****   HAL_UART_Transmit(&huart2, (uint8_t *)ptr, len, HAL_MAX_DELAY);
  41              		.loc 1 20 3 is_stmt 1 view .LVU2
  42 0004 4FF0FF33 		mov	r3, #-1
  43 0008 92B2     		uxth	r2, r2
  44              	.LVL1:
  45              		.loc 1 20 3 is_stmt 0 view .LVU3
  46 000a 0248     		ldr	r0, .L3
  47              	.LVL2:
  48              		.loc 1 20 3 view .LVU4
  49 000c FFF7FEFF 		bl	HAL_UART_Transmit
  50              	.LVL3:
  21:Core/Src/mainLoop.c ****   return len;
  51              		.loc 1 21 3 is_stmt 1 view .LVU5
  22:Core/Src/mainLoop.c **** }
  52              		.loc 1 22 1 is_stmt 0 view .LVU6
  53 0010 2046     		mov	r0, r4
  54 0012 10BD     		pop	{r4, pc}
  55              	.LVL4:
  56              	.L4:
  57              		.loc 1 22 1 view .LVU7
  58              		.align	2
  59              	.L3:
  60 0014 00000000 		.word	huart2
  61              		.cfi_endproc
  62              	.LFE133:
  64              		.section	.text.transform_capNum_to_xNum,"ax",%progbits
  65              		.align	1
  66              		.global	transform_capNum_to_xNum
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  70              		.fpu fpv4-sp-d16
  72              	transform_capNum_to_xNum:
  73              	.LVL5:
  74              	.LFB134:
  23:Core/Src/mainLoop.c **** 
  24:Core/Src/mainLoop.c **** // for windows keil compile
  25:Core/Src/mainLoop.c **** //  int fputc(int ch, FILE *f)
  26:Core/Src/mainLoop.c **** //  {
  27:Core/Src/mainLoop.c **** //    /* Your implementation of fputc(). */
  28:Core/Src/mainLoop.c **** //  	HAL_UART_Transmit(&huart2, (uint8_t *)&ch, 1, HAL_MAX_DELAY);
  29:Core/Src/mainLoop.c **** //    return ch;
  30:Core/Src/mainLoop.c **** //  }
  31:Core/Src/mainLoop.c **** 
  32:Core/Src/mainLoop.c **** // ÂÖ®Â±ÄÂèÇÊï∞
  33:Core/Src/mainLoop.c **** uint32_t adc1_ok = 0, adc2_ok = 0;
  34:Core/Src/mainLoop.c **** #define MID_CP_VALUE (2048)
  35:Core/Src/mainLoop.c **** // uint32_t value_dacP = 0x8020200, value_dacN = 0x8020200;
  36:Core/Src/mainLoop.c **** uint32_t value_dacP = 0x80200800, value_dacN = 0x80200800;
  37:Core/Src/mainLoop.c **** int32_t mainCp = 0, mainCpLast = 0;
  38:Core/Src/mainLoop.c **** struct adc_buf_t adc1_t1, adc1_t2;
  39:Core/Src/mainLoop.c **** int32_t uartDMA_tri_sign = ADCCAPWAIT;
  40:Core/Src/mainLoop.c **** struct log_para_t logBufDma;
  41:Core/Src/mainLoop.c **** 
  42:Core/Src/mainLoop.c **** #define CAPNUM 100
  43:Core/Src/mainLoop.c **** uint32_t chanl1_capNum[CAPNUM];
ARM GAS  /tmp/ccnB5ISM.s 			page 3


  44:Core/Src/mainLoop.c **** uint32_t chanl2_capNum[CAPNUM];
  45:Core/Src/mainLoop.c **** int32_t chanl1_xNum[CAPNUM];
  46:Core/Src/mainLoop.c **** int32_t chanl2_xNum[CAPNUM];
  47:Core/Src/mainLoop.c **** float chanl1_capNum_f[CAPNUM];
  48:Core/Src/mainLoop.c **** float chanl2_capNum_f[CAPNUM];
  49:Core/Src/mainLoop.c **** int32_t chanl1_completed = 0;
  50:Core/Src/mainLoop.c **** int32_t chanl2_completed = 0;
  51:Core/Src/mainLoop.c **** float average_xNum1 = 0, average_xNum2 = 0;
  52:Core/Src/mainLoop.c **** int32_t chanl1_midx = 0, chanl2_midx = 0;  // ‰øùÂ≠òÂæ™ÁéØDMAÈòüÂàóÁöÑ‰∏≠Èó¥ÂèòÈáè
  53:Core/Src/mainLoop.c **** // tim4 dma
  54:Core/Src/mainLoop.c **** // ÊñπÂºèÔºåËé∑ÂæóÊï∞ÊçÆÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºåÂàÜ‰∏∫ÂâçÂêé‰∏§‰∏™halfwordÔºåÊØè‰∏™halfwordÈÉΩ‰ª£Ë°®‰∏Ä‰∏
  55:Core/Src/mainLoop.c **** //  ËøôÊÆµ‰ª£Á†ÅÊòØÁî®Êù•Â§ÑÁêÜËøô‰∏§‰∏™halfwordÁöÑ
  56:Core/Src/mainLoop.c **** // ËæìÂÖ•ÂèÇÊï∞ canNum‰∏∫‰∏§‰∏™halfwordÁöÑÁªÑÂêàÊï∞ÔºåÊúâ‰∏ä‰∏™‰∏äÂçáÊ≤øÊó∂Èó¥,
  57:Core/Src/mainLoop.c **** // Áî±‰∫éÁ¨¨‰∏Ä‰∏™Êï∞ÈÄöÂ∏∏ÊòØÈîôËØØÁöÑÔºåÊâÄ‰ª•‰ªéÁ¨¨‰∫å‰∏™Êï∞ÂºÄÂßã
  58:Core/Src/mainLoop.c **** void transform_capNum_to_xNum(uint32_t *capNum, int32_t *xNum,
  59:Core/Src/mainLoop.c ****                               int32_t capNum_len) {
  75              		.loc 1 59 51 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		@ link register save eliminated.
  80              		.loc 1 59 51 is_stmt 0 view .LVU9
  81 0000 30B4     		push	{r4, r5}
  82              	.LCFI1:
  83              		.cfi_def_cfa_offset 8
  84              		.cfi_offset 4, -8
  85              		.cfi_offset 5, -4
  60:Core/Src/mainLoop.c ****   int32_t i;
  86              		.loc 1 60 3 is_stmt 1 view .LVU10
  61:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len / 2; i++) {
  87              		.loc 1 61 3 view .LVU11
  88              	.LVL6:
  89              		.loc 1 61 10 is_stmt 0 view .LVU12
  90 0002 0023     		movs	r3, #0
  91              	.LVL7:
  92              	.L6:
  93              		.loc 1 61 15 is_stmt 1 discriminator 1 view .LVU13
  94              		.loc 1 61 30 is_stmt 0 discriminator 1 view .LVU14
  95 0004 02EBD274 		add	r4, r2, r2, lsr #31
  96              		.loc 1 61 3 discriminator 1 view .LVU15
  97 0008 B3EB640F 		cmp	r3, r4, asr #1
  98 000c 0BDA     		bge	.L9
  62:Core/Src/mainLoop.c ****     xNum[i * 2] = capNum[i] & 0xffff;
  99              		.loc 1 62 5 is_stmt 1 discriminator 3 view .LVU16
 100              		.loc 1 62 9 is_stmt 0 discriminator 3 view .LVU17
 101 000e DC00     		lsls	r4, r3, #3
 102              		.loc 1 62 29 discriminator 3 view .LVU18
 103 0010 30F82350 		ldrh	r5, [r0, r3, lsl #2]
 104              		.loc 1 62 17 discriminator 3 view .LVU19
 105 0014 41F83350 		str	r5, [r1, r3, lsl #3]
  63:Core/Src/mainLoop.c ****     xNum[i * 2 + 1] = capNum[i] >> 16;
 106              		.loc 1 63 5 is_stmt 1 discriminator 3 view .LVU20
 107              		.loc 1 63 29 is_stmt 0 discriminator 3 view .LVU21
 108 0018 50F82350 		ldr	r5, [r0, r3, lsl #2]
 109              		.loc 1 63 9 discriminator 3 view .LVU22
 110 001c 0434     		adds	r4, r4, #4
 111              		.loc 1 63 33 discriminator 3 view .LVU23
ARM GAS  /tmp/ccnB5ISM.s 			page 4


 112 001e 2D0C     		lsrs	r5, r5, #16
 113              		.loc 1 63 21 discriminator 3 view .LVU24
 114 0020 0D51     		str	r5, [r1, r4]
  61:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len / 2; i++) {
 115              		.loc 1 61 35 is_stmt 1 discriminator 3 view .LVU25
  61:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len / 2; i++) {
 116              		.loc 1 61 36 is_stmt 0 discriminator 3 view .LVU26
 117 0022 0133     		adds	r3, r3, #1
 118              	.LVL8:
  61:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len / 2; i++) {
 119              		.loc 1 61 36 discriminator 3 view .LVU27
 120 0024 EEE7     		b	.L6
 121              	.L9:
  64:Core/Src/mainLoop.c ****   }
  65:Core/Src/mainLoop.c **** }
 122              		.loc 1 65 1 view .LVU28
 123 0026 30BC     		pop	{r4, r5}
 124              	.LCFI2:
 125              		.cfi_restore 5
 126              		.cfi_restore 4
 127              		.cfi_def_cfa_offset 0
 128 0028 7047     		bx	lr
 129              		.cfi_endproc
 130              	.LFE134:
 132              		.section	.text.cal_average_xNum,"ax",%progbits
 133              		.align	1
 134              		.global	cal_average_xNum
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 138              		.fpu fpv4-sp-d16
 140              	cal_average_xNum:
 141              	.LVL9:
 142              	.LFB135:
  66:Core/Src/mainLoop.c **** 
  67:Core/Src/mainLoop.c **** // ËÆ°ÁÆóÂπ≥ÂùáxNumÔºå
  68:Core/Src/mainLoop.c **** // cal_average_xNum(chanl1_xNum, CAPNUM);
  69:Core/Src/mainLoop.c **** int32_t cal_average_xNum(int32_t *xNum, int32_t capNum_len) {
 143              		.loc 1 69 61 is_stmt 1 view -0
 144              		.cfi_startproc
 145              		@ args = 0, pretend = 0, frame = 0
 146              		@ frame_needed = 0, uses_anonymous_args = 0
 147              		@ link register save eliminated.
 148              		.loc 1 69 61 is_stmt 0 view .LVU30
 149 0000 70B4     		push	{r4, r5, r6}
 150              	.LCFI3:
 151              		.cfi_def_cfa_offset 12
 152              		.cfi_offset 4, -12
 153              		.cfi_offset 5, -8
 154              		.cfi_offset 6, -4
  70:Core/Src/mainLoop.c ****   int32_t i, sum = 0;
 155              		.loc 1 70 3 is_stmt 1 view .LVU31
 156              	.LVL10:
  71:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len - 1; i++) {
 157              		.loc 1 71 3 view .LVU32
  70:Core/Src/mainLoop.c ****   int32_t i, sum = 0;
 158              		.loc 1 70 14 is_stmt 0 view .LVU33
ARM GAS  /tmp/ccnB5ISM.s 			page 5


 159 0002 0025     		movs	r5, #0
 160              		.loc 1 71 10 view .LVU34
 161 0004 2B46     		mov	r3, r5
 162              	.LVL11:
 163              	.L11:
 164              		.loc 1 71 15 is_stmt 1 discriminator 1 view .LVU35
 165              		.loc 1 71 30 is_stmt 0 discriminator 1 view .LVU36
 166 0006 4A1E     		subs	r2, r1, #1
 167              		.loc 1 71 3 discriminator 1 view .LVU37
 168 0008 9A42     		cmp	r2, r3
 169 000a 0ADD     		ble	.L14
  72:Core/Src/mainLoop.c ****     xNum[i] = xNum[i + 1] - xNum[i];
 170              		.loc 1 72 5 is_stmt 1 discriminator 3 view .LVU38
 171              		.loc 1 72 19 is_stmt 0 discriminator 3 view .LVU39
 172 000c 5C1C     		adds	r4, r3, #1
 173 000e 50F82420 		ldr	r2, [r0, r4, lsl #2]
 174              		.loc 1 72 33 discriminator 3 view .LVU40
 175 0012 50F82360 		ldr	r6, [r0, r3, lsl #2]
 176              		.loc 1 72 27 discriminator 3 view .LVU41
 177 0016 921B     		subs	r2, r2, r6
 178              		.loc 1 72 13 discriminator 3 view .LVU42
 179 0018 40F82320 		str	r2, [r0, r3, lsl #2]
  73:Core/Src/mainLoop.c ****     sum += xNum[i];
 180              		.loc 1 73 5 is_stmt 1 discriminator 3 view .LVU43
 181              		.loc 1 73 9 is_stmt 0 discriminator 3 view .LVU44
 182 001c 1544     		add	r5, r5, r2
 183              	.LVL12:
  71:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len - 1; i++) {
 184              		.loc 1 71 35 is_stmt 1 discriminator 3 view .LVU45
  71:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len - 1; i++) {
 185              		.loc 1 71 36 is_stmt 0 discriminator 3 view .LVU46
 186 001e 2346     		mov	r3, r4
 187              	.LVL13:
  71:Core/Src/mainLoop.c ****   for (i = 0; i < capNum_len - 1; i++) {
 188              		.loc 1 71 36 discriminator 3 view .LVU47
 189 0020 F1E7     		b	.L11
 190              	.L14:
  74:Core/Src/mainLoop.c ****   }
  75:Core/Src/mainLoop.c ****   return sum / (capNum_len - 1);
 191              		.loc 1 75 3 is_stmt 1 view .LVU48
  76:Core/Src/mainLoop.c **** }
 192              		.loc 1 76 1 is_stmt 0 view .LVU49
 193 0022 95FBF2F0 		sdiv	r0, r5, r2
 194              	.LVL14:
 195              		.loc 1 76 1 view .LVU50
 196 0026 70BC     		pop	{r4, r5, r6}
 197              	.LCFI4:
 198              		.cfi_restore 6
 199              		.cfi_restore 5
 200              		.cfi_restore 4
 201              		.cfi_def_cfa_offset 0
 202              	.LVL15:
 203              		.loc 1 76 1 view .LVU51
 204 0028 7047     		bx	lr
 205              		.cfi_endproc
 206              	.LFE135:
 208              		.section	.text.enable_tim4_capture_Iterrupt,"ax",%progbits
ARM GAS  /tmp/ccnB5ISM.s 			page 6


 209              		.align	1
 210              		.global	enable_tim4_capture_Iterrupt
 211              		.syntax unified
 212              		.thumb
 213              		.thumb_func
 214              		.fpu fpv4-sp-d16
 216              	enable_tim4_capture_Iterrupt:
 217              	.LFB136:
  77:Core/Src/mainLoop.c **** 
  78:Core/Src/mainLoop.c **** void enable_tim4_capture_Iterrupt(void) {
 218              		.loc 1 78 41 is_stmt 1 view -0
 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
 222 0000 08B5     		push	{r3, lr}
 223              	.LCFI5:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 3, -8
 226              		.cfi_offset 14, -4
  79:Core/Src/mainLoop.c ****   // HAL_TIM_Base_Start_IT(&htim4);
  80:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_IT(&htim4, TIM_CHANNEL_1);
  81:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_IT(&htim4, TIM_CHANNEL_2);
  82:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_1, (uint32_t*)chanl1_capNum,
  83:Core/Src/mainLoop.c ****   // CAPNUM+4);
  84:Core/Src/mainLoop.c **** 
  85:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_2, (uint32_t*)chanl2_capNum,
  86:Core/Src/mainLoop.c ****   // CAPNUM); HAL_TIM_IC_Start_DMA(&htim1, TIM_CHANNEL_4,
  87:Core/Src/mainLoop.c ****   // (uint32_t*)chanl1_capNum, CAPNUM);
  88:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim5);
 227              		.loc 1 88 3 view .LVU53
 228 0002 0548     		ldr	r0, .L17
 229 0004 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 230              	.LVL16:
  89:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim4);
 231              		.loc 1 89 3 view .LVU54
 232 0008 0448     		ldr	r0, .L17+4
 233 000a FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 234              	.LVL17:
  90:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim1);
 235              		.loc 1 90 3 view .LVU55
 236 000e 0448     		ldr	r0, .L17+8
 237 0010 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 238              	.LVL18:
  91:Core/Src/mainLoop.c **** }
 239              		.loc 1 91 1 is_stmt 0 view .LVU56
 240 0014 08BD     		pop	{r3, pc}
 241              	.L18:
 242 0016 00BF     		.align	2
 243              	.L17:
 244 0018 00000000 		.word	htim5
 245 001c 00000000 		.word	htim4
 246 0020 00000000 		.word	htim1
 247              		.cfi_endproc
 248              	.LFE136:
 250              		.global	__aeabi_i2d
 251              		.global	__aeabi_dmul
 252              		.global	__aeabi_dadd
ARM GAS  /tmp/ccnB5ISM.s 			page 7


 253              		.section	.text.generateSinWave,"ax",%progbits
 254              		.align	1
 255              		.global	generateSinWave
 256              		.syntax unified
 257              		.thumb
 258              		.thumb_func
 259              		.fpu fpv4-sp-d16
 261              	generateSinWave:
 262              	.LVL19:
 263              	.LFB137:
  92:Core/Src/mainLoop.c **** 
  93:Core/Src/mainLoop.c **** uint32_t i = 0;
  94:Core/Src/mainLoop.c **** float f = 3.14;
  95:Core/Src/mainLoop.c **** // int32_t chanl1_capNum = 0;
  96:Core/Src/mainLoop.c **** // int32_t chanl2_capNum = 0;
  97:Core/Src/mainLoop.c **** int32_t fre_dif = 0;
  98:Core/Src/mainLoop.c **** int32_t xx, yy, complete_sign;
  99:Core/Src/mainLoop.c **** int32_t xx_cnt, yy_cnt;
 100:Core/Src/mainLoop.c **** uint8_t buf[4];
 101:Core/Src/mainLoop.c **** float v_dianya;
 102:Core/Src/mainLoop.c **** uint32_t dacV;
 103:Core/Src/mainLoop.c **** double tmp;
 104:Core/Src/mainLoop.c **** #define NS 128
 105:Core/Src/mainLoop.c **** uint32_t Wave_LUT[NS] = {
 106:Core/Src/mainLoop.c ****     2048, 2149, 2250, 2350, 2450, 2549, 2646, 2742, 2837, 2929, 3020, 3108,
 107:Core/Src/mainLoop.c ****     3193, 3275, 3355, 3431, 3504, 3574, 3639, 3701, 3759, 3812, 3861, 3906,
 108:Core/Src/mainLoop.c ****     3946, 3982, 4013, 4039, 4060, 4076, 4087, 4094, 4095, 4091, 4082, 4069,
 109:Core/Src/mainLoop.c ****     4050, 4026, 3998, 3965, 3927, 3884, 3837, 3786, 3730, 3671, 3607, 3539,
 110:Core/Src/mainLoop.c ****     3468, 3394, 3316, 3235, 3151, 3064, 2975, 2883, 2790, 2695, 2598, 2500,
 111:Core/Src/mainLoop.c ****     2400, 2300, 2199, 2098, 1997, 1896, 1795, 1695, 1595, 1497, 1400, 1305,
 112:Core/Src/mainLoop.c ****     1212, 1120, 1031, 944,  860,  779,  701,  627,  556,  488,  424,  365,
 113:Core/Src/mainLoop.c ****     309,  258,  211,  168,  130,  97,   69,   45,   26,   13,   4,    0,
 114:Core/Src/mainLoop.c ****     1,    8,    19,   35,   56,   82,   113,  149,  189,  234,  283,  336,
 115:Core/Src/mainLoop.c ****     394,  456,  521,  591,  664,  740,  820,  902,  987,  1075, 1166, 1258,
 116:Core/Src/mainLoop.c ****     1353, 1449, 1546, 1645, 1745, 1845, 1946, 2047};
 117:Core/Src/mainLoop.c **** #define PI 3.14159265
 118:Core/Src/mainLoop.c **** #define AMPLITUDE 2048.0  // Ê≠£Âº¶Ê≥¢ÂπÖÂ∫¶
 119:Core/Src/mainLoop.c **** #define FREQUENCY 100.0   // Ê≠£Âº¶Ê≥¢È¢ëÁéáÔºàHzÔºâ
 120:Core/Src/mainLoop.c **** #define SAMPLE_RATE 4096  // ÈááÊ†∑ÁéáÔºàÊØèÁßíÈááÊ†∑Ê¨°Êï∞Ôºâ
 121:Core/Src/mainLoop.c **** 
 122:Core/Src/mainLoop.c **** void generateSinWave(int32_t i) {
 264              		.loc 1 122 33 is_stmt 1 view -0
 265              		.cfi_startproc
 266              		@ args = 0, pretend = 0, frame = 0
 267              		@ frame_needed = 0, uses_anonymous_args = 0
 268              		.loc 1 122 33 is_stmt 0 view .LVU58
 269 0000 08B5     		push	{r3, lr}
 270              	.LCFI6:
 271              		.cfi_def_cfa_offset 8
 272              		.cfi_offset 3, -8
 273              		.cfi_offset 14, -4
 123:Core/Src/mainLoop.c ****   double omega = 2.0 * PI * FREQUENCY / SAMPLE_RATE;
 274              		.loc 1 123 3 is_stmt 1 view .LVU59
 275              	.LVL20:
 124:Core/Src/mainLoop.c ****   tmp = AMPLITUDE * sin(omega * i) + AMPLITUDE;
 276              		.loc 1 124 3 view .LVU60
 277              		.loc 1 124 21 is_stmt 0 view .LVU61
ARM GAS  /tmp/ccnB5ISM.s 			page 8


 278 0002 FFF7FEFF 		bl	__aeabi_i2d
 279              	.LVL21:
 280              		.loc 1 124 21 view .LVU62
 281 0006 0EA3     		adr	r3, .L21+8
 282 0008 D3E90023 		ldrd	r2, [r3]
 283 000c FFF7FEFF 		bl	__aeabi_dmul
 284              	.LVL22:
 285 0010 41EC100B 		vmov	d0, r0, r1
 286 0014 FFF7FEFF 		bl	sin
 287              	.LVL23:
 288 0018 51EC100B 		vmov	r0, r1, d0
 289              		.loc 1 124 19 view .LVU63
 290 001c 0022     		movs	r2, #0
 291 001e 064B     		ldr	r3, .L21
 292 0020 FFF7FEFF 		bl	__aeabi_dmul
 293              	.LVL24:
 294              		.loc 1 124 36 view .LVU64
 295 0024 0022     		movs	r2, #0
 296 0026 044B     		ldr	r3, .L21
 297 0028 FFF7FEFF 		bl	__aeabi_dadd
 298              	.LVL25:
 299              		.loc 1 124 7 view .LVU65
 300 002c 034B     		ldr	r3, .L21+4
 301 002e C3E90001 		strd	r0, [r3]
 125:Core/Src/mainLoop.c **** }
 302              		.loc 1 125 1 view .LVU66
 303 0032 08BD     		pop	{r3, pc}
 304              	.L22:
 305 0034 AFF30080 		.align	3
 306              	.L21:
 307 0038 0000A040 		.word	1084227584
 308 003c 00000000 		.word	tmp
 309 0040 5CE67459 		.word	1500833372
 310 0044 8CA2C33F 		.word	1069785740
 311              		.cfi_endproc
 312              	.LFE137:
 314              		.global	__aeabi_f2d
 315              		.global	__aeabi_ddiv
 316              		.global	__aeabi_d2uiz
 317              		.section	.text.mainLoop,"ax",%progbits
 318              		.align	1
 319              		.global	mainLoop
 320              		.syntax unified
 321              		.thumb
 322              		.thumb_func
 323              		.fpu fpv4-sp-d16
 325              	mainLoop:
 326              	.LFB138:
 126:Core/Src/mainLoop.c **** void mainLoop(void) {
 327              		.loc 1 126 21 is_stmt 1 view -0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 332              	.LCFI7:
 333              		.cfi_def_cfa_offset 24
 334              		.cfi_offset 3, -24
ARM GAS  /tmp/ccnB5ISM.s 			page 9


 335              		.cfi_offset 4, -20
 336              		.cfi_offset 5, -16
 337              		.cfi_offset 6, -12
 338              		.cfi_offset 7, -8
 339              		.cfi_offset 14, -4
 127:Core/Src/mainLoop.c ****   uint32_t dacN = 0;  //,dacV=0;
 340              		.loc 1 127 3 view .LVU68
 341              	.LVL26:
 128:Core/Src/mainLoop.c **** 
 129:Core/Src/mainLoop.c ****   int32_t dacSign = 1;
 342              		.loc 1 129 3 view .LVU69
 130:Core/Src/mainLoop.c ****   init_max5307();
 343              		.loc 1 130 3 view .LVU70
 344 0002 FFF7FEFF 		bl	init_max5307
 345              	.LVL27:
 131:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch8, 2048, max_outenable);
 346              		.loc 1 131 3 view .LVU71
 347 0006 0122     		movs	r2, #1
 348 0008 4FF40061 		mov	r1, #2048
 349 000c 0920     		movs	r0, #9
 350 000e FFF7FEFF 		bl	max5307_w_chanel
 351              	.LVL28:
 132:Core/Src/mainLoop.c ****   //	while(1){
 133:Core/Src/mainLoop.c ****   //	    HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 134:Core/Src/mainLoop.c ****   //   //HAL_Delay(3);
 135:Core/Src/mainLoop.c ****   //    HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 136:Core/Src/mainLoop.c ****   //   // HAL_Delay(300);
 137:Core/Src/mainLoop.c ****   //	HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 138:Core/Src/mainLoop.c ****   //	//HAL_Delay(300);
 139:Core/Src/mainLoop.c ****   //		//void max5307_w_chanel(uint32_t chanel, uint32_t val);
 140:Core/Src/mainLoop.c ****   //
 141:Core/Src/mainLoop.c ****   //		//max5307_w_chanel(0x02,dacN);
 142:Core/Src/mainLoop.c ****   //		generateSinWave(dacN%SAMPLE_RATE);
 143:Core/Src/mainLoop.c ****   //		max5307_w_chanel(max_ch1,round(tmp),max_outenable);
 144:Core/Src/mainLoop.c ****   //		max5307_w_chanel(DACP_1K,round(tmp),max_outenable);
 145:Core/Src/mainLoop.c ****   //		//max5307_loadpin();
 146:Core/Src/mainLoop.c ****   //		//max5307_w_chanel(0x0e,0x2f);
 147:Core/Src/mainLoop.c ****   ////		if(dacN>=0xfff){
 148:Core/Src/mainLoop.c ****   ////			dacSign = -1;
 149:Core/Src/mainLoop.c ****   ////		}else if(dacN==0){
 150:Core/Src/mainLoop.c ****   ////			dacSign = 1;
 151:Core/Src/mainLoop.c ****   ////		}
 152:Core/Src/mainLoop.c ****   //		dacN = dacN + dacSign;
 153:Core/Src/mainLoop.c **** 
 154:Core/Src/mainLoop.c ****   ////		tmp = (dacN%4096) * 3.14 /4096;
 155:Core/Src/mainLoop.c ****   ////		tmp = sin(tmp);
 156:Core/Src/mainLoop.c ****   ////		dacV = 4096*tmp;
 157:Core/Src/mainLoop.c ****   //	}
 158:Core/Src/mainLoop.c ****   int32_t xx_bak = 0;
 352              		.loc 1 158 3 view .LVU72
 159:Core/Src/mainLoop.c ****   int32_t yy_bak = 0;
 353              		.loc 1 159 3 view .LVU73
 160:Core/Src/mainLoop.c ****   // init_ad9520_spiport();
 161:Core/Src/mainLoop.c ****   complete_sign = 0;
 354              		.loc 1 161 3 view .LVU74
 355              		.loc 1 161 17 is_stmt 0 view .LVU75
 356 0012 0024     		movs	r4, #0
ARM GAS  /tmp/ccnB5ISM.s 			page 10


 357 0014 504B     		ldr	r3, .L31+8
 358 0016 1C60     		str	r4, [r3]
 162:Core/Src/mainLoop.c ****   xx = 0;
 359              		.loc 1 162 3 is_stmt 1 view .LVU76
 360              		.loc 1 162 6 is_stmt 0 view .LVU77
 361 0018 504B     		ldr	r3, .L31+12
 362 001a 1C60     		str	r4, [r3]
 163:Core/Src/mainLoop.c ****   yy = 0;
 363              		.loc 1 163 3 is_stmt 1 view .LVU78
 364              		.loc 1 163 6 is_stmt 0 view .LVU79
 365 001c 504B     		ldr	r3, .L31+16
 366 001e 1C60     		str	r4, [r3]
 164:Core/Src/mainLoop.c ****   fre_dif = 0;
 367              		.loc 1 164 3 is_stmt 1 view .LVU80
 368              		.loc 1 164 11 is_stmt 0 view .LVU81
 369 0020 504D     		ldr	r5, .L31+20
 370 0022 2C60     		str	r4, [r5]
 165:Core/Src/mainLoop.c ****   xx_cnt = 0;
 371              		.loc 1 165 3 is_stmt 1 view .LVU82
 372              		.loc 1 165 10 is_stmt 0 view .LVU83
 373 0024 504B     		ldr	r3, .L31+24
 374 0026 1C60     		str	r4, [r3]
 166:Core/Src/mainLoop.c ****   yy_cnt = 0;
 375              		.loc 1 166 3 is_stmt 1 view .LVU84
 376              		.loc 1 166 10 is_stmt 0 view .LVU85
 377 0028 504B     		ldr	r3, .L31+28
 378 002a 1C60     		str	r4, [r3]
 167:Core/Src/mainLoop.c ****   v_dianya = 1.65;
 379              		.loc 1 167 3 is_stmt 1 view .LVU86
 380              		.loc 1 167 12 is_stmt 0 view .LVU87
 381 002c 504F     		ldr	r7, .L31+32
 382 002e 514B     		ldr	r3, .L31+36
 383 0030 3B60     		str	r3, [r7]	@ float
 168:Core/Src/mainLoop.c ****   HAL_DAC_Start(&hdac, DAC_CHANNEL_1);
 384              		.loc 1 168 3 is_stmt 1 view .LVU88
 385 0032 514E     		ldr	r6, .L31+40
 386 0034 2146     		mov	r1, r4
 387 0036 3046     		mov	r0, r6
 388 0038 FFF7FEFF 		bl	HAL_DAC_Start
 389              	.LVL29:
 169:Core/Src/mainLoop.c ****   // HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 170:Core/Src/mainLoop.c ****   HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 390              		.loc 1 170 3 view .LVU89
 171:Core/Src/mainLoop.c ****                    (uint32_t)((v_dianya / 3.3) * 4096));
 391              		.loc 1 171 41 is_stmt 0 view .LVU90
 392 003c 3868     		ldr	r0, [r7]	@ float
 393 003e FFF7FEFF 		bl	__aeabi_f2d
 394              	.LVL30:
 395 0042 43A3     		adr	r3, .L31
 396 0044 D3E90023 		ldrd	r2, [r3]
 397 0048 FFF7FEFF 		bl	__aeabi_ddiv
 398              	.LVL31:
 399              		.loc 1 171 48 view .LVU91
 400 004c 0022     		movs	r2, #0
 401 004e 4B4B     		ldr	r3, .L31+44
 402 0050 FFF7FEFF 		bl	__aeabi_dmul
 403              	.LVL32:
ARM GAS  /tmp/ccnB5ISM.s 			page 11


 170:Core/Src/mainLoop.c ****                    (uint32_t)((v_dianya / 3.3) * 4096));
 404              		.loc 1 170 3 view .LVU92
 405 0054 FFF7FEFF 		bl	__aeabi_d2uiz
 406              	.LVL33:
 407 0058 0346     		mov	r3, r0
 408 005a 2246     		mov	r2, r4
 409 005c 2146     		mov	r1, r4
 410 005e 3046     		mov	r0, r6
 411 0060 FFF7FEFF 		bl	HAL_DAC_SetValue
 412              	.LVL34:
 172:Core/Src/mainLoop.c ****   // HAL_UART_Receive_IT(UART_HandleTypeDef *huart, uint8_t *pData, uint16_t
 173:Core/Src/mainLoop.c ****   // Size)
 174:Core/Src/mainLoop.c ****   HAL_UART_Receive_IT(&huart2, (uint8_t *)(buf), 1);
 413              		.loc 1 174 3 is_stmt 1 view .LVU93
 414 0064 0122     		movs	r2, #1
 415 0066 4649     		ldr	r1, .L31+48
 416 0068 4648     		ldr	r0, .L31+52
 417 006a FFF7FEFF 		bl	HAL_UART_Receive_IT
 418              	.LVL35:
 175:Core/Src/mainLoop.c ****   init_ad9520();
 419              		.loc 1 175 3 view .LVU94
 420 006e FFF7FEFF 		bl	init_ad9520
 421              	.LVL36:
 176:Core/Src/mainLoop.c ****   enable_tim4_capture_Iterrupt();
 422              		.loc 1 176 3 view .LVU95
 423 0072 FFF7FEFF 		bl	enable_tim4_capture_Iterrupt
 424              	.LVL37:
 177:Core/Src/mainLoop.c ****   while (1) {
 425              		.loc 1 177 3 view .LVU96
 178:Core/Src/mainLoop.c ****     // do{
 179:Core/Src/mainLoop.c **** 
 180:Core/Src/mainLoop.c ****     // }while(0);
 181:Core/Src/mainLoop.c **** 
 182:Core/Src/mainLoop.c ****     i++;
 426              		.loc 1 182 5 view .LVU97
 427              		.loc 1 182 6 is_stmt 0 view .LVU98
 428 0076 444A     		ldr	r2, .L31+56
 429 0078 1368     		ldr	r3, [r2]
 430 007a 0133     		adds	r3, r3, #1
 431 007c 1360     		str	r3, [r2]
 183:Core/Src/mainLoop.c **** 
 184:Core/Src/mainLoop.c ****     // HAL_DAC_SetValue(DAC_HandleTypeDef* hdac, uint32_t Channel, uint32_t
 185:Core/Src/mainLoop.c ****     // Alignment, uint32_t Data)
 186:Core/Src/mainLoop.c **** 
 187:Core/Src/mainLoop.c ****     // HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, i++);
 188:Core/Src/mainLoop.c ****     // init_ad9520();
 189:Core/Src/mainLoop.c ****     // set_ad9520_device();
 190:Core/Src/mainLoop.c ****     // HAL_GPIO_TogglePin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin)
 191:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 432              		.loc 1 191 5 is_stmt 1 view .LVU99
 433 007e 434E     		ldr	r6, .L31+60
 434 0080 4FF40061 		mov	r1, #2048
 435 0084 3046     		mov	r0, r6
 436 0086 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 437              	.LVL38:
 192:Core/Src/mainLoop.c ****     HAL_Delay(3);
 438              		.loc 1 192 5 view .LVU100
ARM GAS  /tmp/ccnB5ISM.s 			page 12


 439 008a 0320     		movs	r0, #3
 440 008c FFF7FEFF 		bl	HAL_Delay
 441              	.LVL39:
 193:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 442              		.loc 1 193 5 view .LVU101
 443 0090 4FF48051 		mov	r1, #4096
 444 0094 3046     		mov	r0, r6
 445 0096 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 446              	.LVL40:
 194:Core/Src/mainLoop.c ****     HAL_Delay(300);
 447              		.loc 1 194 5 view .LVU102
 448 009a 4FF49670 		mov	r0, #300
 449 009e FFF7FEFF 		bl	HAL_Delay
 450              	.LVL41:
 195:Core/Src/mainLoop.c ****     check_ad9520_status();
 451              		.loc 1 195 5 view .LVU103
 452 00a2 FFF7FEFF 		bl	check_ad9520_status
 453              	.LVL42:
 196:Core/Src/mainLoop.c ****     // printf("hello world %ld:float %f\n",i,f*i);
 197:Core/Src/mainLoop.c ****     fre_dif = chanl1_capNum - chanl2_capNum;
 454              		.loc 1 197 5 view .LVU104
 455              		.loc 1 197 29 is_stmt 0 view .LVU105
 456 00a6 3A4B     		ldr	r3, .L31+64
 457 00a8 3A4A     		ldr	r2, .L31+68
 458 00aa 9B1A     		subs	r3, r3, r2
 459 00ac 9B10     		asrs	r3, r3, #2
 460              		.loc 1 197 13 view .LVU106
 461 00ae 2B60     		str	r3, [r5]
 462 00b0 1FE0     		b	.L27
 463              	.LVL43:
 464              	.L29:
 198:Core/Src/mainLoop.c **** 
 199:Core/Src/mainLoop.c ****     while (1) {
 200:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 201:Core/Src/mainLoop.c ****       //   chanl1_completed=0;
 202:Core/Src/mainLoop.c ****       //   transform_capNum_to_xNum((uint32_t *)(&chanl1_capNum[2]),
 203:Core/Src/mainLoop.c ****       //   chanl1_xNum, CAPNUM); average_xNum1 =
 204:Core/Src/mainLoop.c ****       //   (float)cal_average_xNum(chanl1_xNum, CAPNUM);
 205:Core/Src/mainLoop.c ****       //   //HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_1,
 206:Core/Src/mainLoop.c ****       //   (uint32_t*)chanl1_capNum, CAPNUM);
 207:Core/Src/mainLoop.c **** 
 208:Core/Src/mainLoop.c ****       //   break;
 209:Core/Src/mainLoop.c ****       // }else if(chanl2_completed==1){
 210:Core/Src/mainLoop.c ****       //   chanl2_completed=0;
 211:Core/Src/mainLoop.c ****       //   //HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_2,
 212:Core/Src/mainLoop.c ****       //   (uint32_t*)chanl2_capNum, CAPNUM); break;
 213:Core/Src/mainLoop.c ****       // }
 214:Core/Src/mainLoop.c ****       generateSinWave(dacN % SAMPLE_RATE);
 215:Core/Src/mainLoop.c ****       max5307_w_chanel(max_ch1, round(tmp), max_outenable);
 216:Core/Src/mainLoop.c ****       max5307_w_chanel(DACP_1, round(tmp), max_outenable);
 217:Core/Src/mainLoop.c ****       dacN = dacN + dacSign;
 218:Core/Src/mainLoop.c ****       if (v_dianya > 1) {
 219:Core/Src/mainLoop.c ****         v_dianya = 0;
 220:Core/Src/mainLoop.c ****       } else {
 221:Core/Src/mainLoop.c ****         v_dianya = 3.3;
 465              		.loc 1 221 9 is_stmt 1 view .LVU107
 466              		.loc 1 221 18 is_stmt 0 view .LVU108
ARM GAS  /tmp/ccnB5ISM.s 			page 13


 467 00b2 2F4B     		ldr	r3, .L31+32
 468 00b4 384A     		ldr	r2, .L31+72
 469 00b6 1A60     		str	r2, [r3]	@ float
 470              	.L26:
 222:Core/Src/mainLoop.c ****       }
 223:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 471              		.loc 1 223 7 is_stmt 1 view .LVU109
 224:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 472              		.loc 1 224 45 is_stmt 0 view .LVU110
 473 00b8 2D4B     		ldr	r3, .L31+32
 474 00ba 1868     		ldr	r0, [r3]	@ float
 475 00bc FFF7FEFF 		bl	__aeabi_f2d
 476              	.LVL44:
 477 00c0 23A3     		adr	r3, .L31
 478 00c2 D3E90023 		ldrd	r2, [r3]
 479 00c6 FFF7FEFF 		bl	__aeabi_ddiv
 480              	.LVL45:
 481              		.loc 1 224 52 view .LVU111
 482 00ca 0022     		movs	r2, #0
 483 00cc 2B4B     		ldr	r3, .L31+44
 484 00ce FFF7FEFF 		bl	__aeabi_dmul
 485              	.LVL46:
 223:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 486              		.loc 1 223 7 view .LVU112
 487 00d2 FFF7FEFF 		bl	__aeabi_d2uiz
 488              	.LVL47:
 489 00d6 0346     		mov	r3, r0
 490 00d8 0022     		movs	r2, #0
 491 00da 1146     		mov	r1, r2
 492 00dc 2648     		ldr	r0, .L31+40
 493 00de FFF7FEFF 		bl	HAL_DAC_SetValue
 494              	.LVL48:
 225:Core/Src/mainLoop.c ****       HAL_Delay(100);
 495              		.loc 1 225 7 is_stmt 1 view .LVU113
 496 00e2 6420     		movs	r0, #100
 497 00e4 FFF7FEFF 		bl	HAL_Delay
 498              	.LVL49:
 226:Core/Src/mainLoop.c ****       HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 499              		.loc 1 226 7 view .LVU114
 500 00e8 4FF48051 		mov	r1, #4096
 501 00ec 2748     		ldr	r0, .L31+60
 502 00ee FFF7FEFF 		bl	HAL_GPIO_TogglePin
 503              	.LVL50:
 199:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 504              		.loc 1 199 11 view .LVU115
 505              	.L27:
 199:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 506              		.loc 1 199 5 view .LVU116
 214:Core/Src/mainLoop.c ****       max5307_w_chanel(max_ch1, round(tmp), max_outenable);
 507              		.loc 1 214 7 view .LVU117
 508 00f2 C4F30B00 		ubfx	r0, r4, #0, #12
 509 00f6 FFF7FEFF 		bl	generateSinWave
 510              	.LVL51:
 215:Core/Src/mainLoop.c ****       max5307_w_chanel(DACP_1, round(tmp), max_outenable);
 511              		.loc 1 215 7 view .LVU118
 215:Core/Src/mainLoop.c ****       max5307_w_chanel(DACP_1, round(tmp), max_outenable);
 512              		.loc 1 215 33 is_stmt 0 view .LVU119
ARM GAS  /tmp/ccnB5ISM.s 			page 14


 513 00fa 284D     		ldr	r5, .L31+76
 514 00fc 95ED000B 		vldr.64	d0, [r5]
 515 0100 FFF7FEFF 		bl	round
 516              	.LVL52:
 517 0104 51EC100B 		vmov	r0, r1, d0
 215:Core/Src/mainLoop.c ****       max5307_w_chanel(DACP_1, round(tmp), max_outenable);
 518              		.loc 1 215 7 view .LVU120
 519 0108 FFF7FEFF 		bl	__aeabi_d2uiz
 520              	.LVL53:
 521 010c 0146     		mov	r1, r0
 522 010e 0122     		movs	r2, #1
 523 0110 0220     		movs	r0, #2
 524 0112 FFF7FEFF 		bl	max5307_w_chanel
 525              	.LVL54:
 216:Core/Src/mainLoop.c ****       dacN = dacN + dacSign;
 526              		.loc 1 216 7 is_stmt 1 view .LVU121
 216:Core/Src/mainLoop.c ****       dacN = dacN + dacSign;
 527              		.loc 1 216 32 is_stmt 0 view .LVU122
 528 0116 95ED000B 		vldr.64	d0, [r5]
 529 011a FFF7FEFF 		bl	round
 530              	.LVL55:
 531 011e 51EC100B 		vmov	r0, r1, d0
 216:Core/Src/mainLoop.c ****       dacN = dacN + dacSign;
 532              		.loc 1 216 7 view .LVU123
 533 0122 FFF7FEFF 		bl	__aeabi_d2uiz
 534              	.LVL56:
 535 0126 0146     		mov	r1, r0
 536 0128 0122     		movs	r2, #1
 537 012a 0620     		movs	r0, #6
 538 012c FFF7FEFF 		bl	max5307_w_chanel
 539              	.LVL57:
 217:Core/Src/mainLoop.c ****       if (v_dianya > 1) {
 540              		.loc 1 217 7 is_stmt 1 view .LVU124
 217:Core/Src/mainLoop.c ****       if (v_dianya > 1) {
 541              		.loc 1 217 12 is_stmt 0 view .LVU125
 542 0130 0134     		adds	r4, r4, #1
 543              	.LVL58:
 218:Core/Src/mainLoop.c ****         v_dianya = 0;
 544              		.loc 1 218 7 is_stmt 1 view .LVU126
 218:Core/Src/mainLoop.c ****         v_dianya = 0;
 545              		.loc 1 218 20 is_stmt 0 view .LVU127
 546 0132 0F4B     		ldr	r3, .L31+32
 547 0134 93ED007A 		vldr.32	s14, [r3]
 218:Core/Src/mainLoop.c ****         v_dianya = 0;
 548              		.loc 1 218 10 view .LVU128
 549 0138 F7EE007A 		vmov.f32	s15, #1.0e+0
 550 013c B4EEE77A 		vcmpe.f32	s14, s15
 551 0140 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 552 0144 B5DD     		ble	.L29
 219:Core/Src/mainLoop.c ****       } else {
 553              		.loc 1 219 9 is_stmt 1 view .LVU129
 219:Core/Src/mainLoop.c ****       } else {
 554              		.loc 1 219 18 is_stmt 0 view .LVU130
 555 0146 0022     		movs	r2, #0
 556 0148 1A60     		str	r2, [r3]	@ float
 557 014a B5E7     		b	.L26
 558              	.L32:
ARM GAS  /tmp/ccnB5ISM.s 			page 15


 559 014c AFF30080 		.align	3
 560              	.L31:
 561 0150 66666666 		.word	1717986918
 562 0154 66660A40 		.word	1074423398
 563 0158 00000000 		.word	complete_sign
 564 015c 00000000 		.word	xx
 565 0160 00000000 		.word	yy
 566 0164 00000000 		.word	.LANCHOR0
 567 0168 00000000 		.word	xx_cnt
 568 016c 00000000 		.word	yy_cnt
 569 0170 00000000 		.word	v_dianya
 570 0174 3333D33F 		.word	1070805811
 571 0178 00000000 		.word	hdac
 572 017c 0000B040 		.word	1085276160
 573 0180 00000000 		.word	buf
 574 0184 00000000 		.word	huart2
 575 0188 00000000 		.word	.LANCHOR1
 576 018c 00080240 		.word	1073874944
 577 0190 00000000 		.word	chanl1_capNum
 578 0194 00000000 		.word	chanl2_capNum
 579 0198 33335340 		.word	1079194419
 580 019c 00000000 		.word	tmp
 581              		.cfi_endproc
 582              	.LFE138:
 584              		.section	.text.HAL_TIM_IC_CaptureCallback,"ax",%progbits
 585              		.align	1
 586              		.global	HAL_TIM_IC_CaptureCallback
 587              		.syntax unified
 588              		.thumb
 589              		.thumb_func
 590              		.fpu fpv4-sp-d16
 592              	HAL_TIM_IC_CaptureCallback:
 593              	.LVL59:
 594              	.LFB139:
 227:Core/Src/mainLoop.c ****       // check_ad9520_status();
 228:Core/Src/mainLoop.c ****     }
 229:Core/Src/mainLoop.c **** 
 230:Core/Src/mainLoop.c ****     while (complete_sign == 0) {
 231:Core/Src/mainLoop.c ****       HAL_Delay(3);
 232:Core/Src/mainLoop.c ****     };
 233:Core/Src/mainLoop.c ****     complete_sign = 0;
 234:Core/Src/mainLoop.c ****     // fre_dif=chanl1_midx - chanl2_midx;
 235:Core/Src/mainLoop.c ****     // printf("%ld = %ld - %ld \n",fre_dif,xx,yy);
 236:Core/Src/mainLoop.c ****     // printf("cha1=%ld,cha2=%ld\n",xx-xx_bak,yy-yy_bak);
 237:Core/Src/mainLoop.c ****     xx_bak = xx;
 238:Core/Src/mainLoop.c ****     yy_bak = yy;
 239:Core/Src/mainLoop.c **** 
 240:Core/Src/mainLoop.c ****     HAL_Delay(2);
 241:Core/Src/mainLoop.c ****   }
 242:Core/Src/mainLoop.c **** }
 243:Core/Src/mainLoop.c **** 
 244:Core/Src/mainLoop.c **** void HAL_TIM_IC_CaptureCallback(TIM_HandleTypeDef *htim) {
 595              		.loc 1 244 58 is_stmt 1 view -0
 596              		.cfi_startproc
 597              		@ args = 0, pretend = 0, frame = 0
 598              		@ frame_needed = 0, uses_anonymous_args = 0
 599              		@ link register save eliminated.
ARM GAS  /tmp/ccnB5ISM.s 			page 16


 245:Core/Src/mainLoop.c ****   if (htim->Instance == TIM4) {
 600              		.loc 1 245 3 view .LVU132
 601              		.loc 1 245 11 is_stmt 0 view .LVU133
 602 0000 0368     		ldr	r3, [r0]
 603              		.loc 1 245 6 view .LVU134
 604 0002 104A     		ldr	r2, .L40
 605 0004 9342     		cmp	r3, r2
 606 0006 03D0     		beq	.L37
 246:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1) {
 247:Core/Src/mainLoop.c ****       // chanl1_capNum++;
 248:Core/Src/mainLoop.c ****       // chanl2_capNum = TIM4->CCR1;
 249:Core/Src/mainLoop.c ****       // xx = TIM4->CCR1;
 250:Core/Src/mainLoop.c ****       // for(i=1;i<CAPNUM;i++){
 251:Core/Src/mainLoop.c ****       //   chanl1_capNum[i-1]=chanl1_capNum[i]-chanl1_capNum[i-1];
 252:Core/Src/mainLoop.c ****       // }
 253:Core/Src/mainLoop.c ****       // yy = TIM4->CCR2;
 254:Core/Src/mainLoop.c ****       // chanl1_completed=1;
 255:Core/Src/mainLoop.c ****       chanl1_midx = chanl1_capNum[CAPNUM / 2 - 2] & 0xffff;
 256:Core/Src/mainLoop.c ****       // chanl2_midx = TIM4->CCR2;
 257:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_1;
 258:Core/Src/mainLoop.c ****     }
 259:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_2) {
 260:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 261:Core/Src/mainLoop.c ****       chanl2_midx = chanl2_capNum[CAPNUM / 2 - 2] & 0xffff;
 262:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 263:Core/Src/mainLoop.c ****     }
 264:Core/Src/mainLoop.c ****   } else if (htim->Instance == TIM1) {
 607              		.loc 1 264 10 is_stmt 1 view .LVU135
 608              		.loc 1 264 13 is_stmt 0 view .LVU136
 609 0008 0F4A     		ldr	r2, .L40+4
 610 000a 9342     		cmp	r3, r2
 611 000c 11D0     		beq	.L38
 612              	.L33:
 265:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_4) {
 266:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 267:Core/Src/mainLoop.c ****       chanl1_midx = chanl1_capNum[CAPNUM / 2 - 2] & 0xffff;
 268:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 269:Core/Src/mainLoop.c ****     }
 270:Core/Src/mainLoop.c ****   }
 271:Core/Src/mainLoop.c **** }
 613              		.loc 1 271 1 view .LVU137
 614 000e 7047     		bx	lr
 615              	.L37:
 246:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1) {
 616              		.loc 1 246 5 is_stmt 1 view .LVU138
 246:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1) {
 617              		.loc 1 246 13 is_stmt 0 view .LVU139
 618 0010 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 246:Core/Src/mainLoop.c ****     if (htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1) {
 619              		.loc 1 246 8 view .LVU140
 620 0012 012B     		cmp	r3, #1
 621 0014 07D0     		beq	.L39
 622              	.L35:
 259:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 623              		.loc 1 259 5 is_stmt 1 view .LVU141
 259:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 624              		.loc 1 259 8 is_stmt 0 view .LVU142
ARM GAS  /tmp/ccnB5ISM.s 			page 17


 625 0016 022B     		cmp	r3, #2
 626 0018 F9D1     		bne	.L33
 261:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 627              		.loc 1 261 7 is_stmt 1 view .LVU143
 261:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 628              		.loc 1 261 51 is_stmt 0 view .LVU144
 629 001a 0C4B     		ldr	r3, .L40+8
 630 001c B3F8C020 		ldrh	r2, [r3, #192]
 261:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 631              		.loc 1 261 19 view .LVU145
 632 0020 0B4B     		ldr	r3, .L40+12
 633 0022 1A60     		str	r2, [r3]
 634 0024 7047     		bx	lr
 635              	.L39:
 255:Core/Src/mainLoop.c ****       // chanl2_midx = TIM4->CCR2;
 636              		.loc 1 255 7 is_stmt 1 view .LVU146
 255:Core/Src/mainLoop.c ****       // chanl2_midx = TIM4->CCR2;
 637              		.loc 1 255 51 is_stmt 0 view .LVU147
 638 0026 0B4A     		ldr	r2, .L40+16
 639 0028 B2F8C010 		ldrh	r1, [r2, #192]
 255:Core/Src/mainLoop.c ****       // chanl2_midx = TIM4->CCR2;
 640              		.loc 1 255 19 view .LVU148
 641 002c 0A4A     		ldr	r2, .L40+20
 642 002e 1160     		str	r1, [r2]
 643 0030 F1E7     		b	.L35
 644              	.L38:
 265:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 645              		.loc 1 265 5 is_stmt 1 view .LVU149
 265:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 646              		.loc 1 265 13 is_stmt 0 view .LVU150
 647 0032 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 265:Core/Src/mainLoop.c ****       // chanl2_capNum++;
 648              		.loc 1 265 8 view .LVU151
 649 0034 082B     		cmp	r3, #8
 650 0036 EAD1     		bne	.L33
 267:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 651              		.loc 1 267 7 is_stmt 1 view .LVU152
 267:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 652              		.loc 1 267 51 is_stmt 0 view .LVU153
 653 0038 064B     		ldr	r3, .L40+16
 654 003a B3F8C020 		ldrh	r2, [r3, #192]
 267:Core/Src/mainLoop.c ****       // htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 655              		.loc 1 267 19 view .LVU154
 656 003e 064B     		ldr	r3, .L40+20
 657 0040 1A60     		str	r2, [r3]
 658              		.loc 1 271 1 view .LVU155
 659 0042 E4E7     		b	.L33
 660              	.L41:
 661              		.align	2
 662              	.L40:
 663 0044 00080040 		.word	1073743872
 664 0048 00000140 		.word	1073807360
 665 004c 00000000 		.word	chanl2_capNum
 666 0050 00000000 		.word	.LANCHOR3
 667 0054 00000000 		.word	chanl1_capNum
 668 0058 00000000 		.word	.LANCHOR2
 669              		.cfi_endproc
ARM GAS  /tmp/ccnB5ISM.s 			page 18


 670              	.LFE139:
 672              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 673              		.align	1
 674              		.global	HAL_TIM_PeriodElapsedCallback
 675              		.syntax unified
 676              		.thumb
 677              		.thumb_func
 678              		.fpu fpv4-sp-d16
 680              	HAL_TIM_PeriodElapsedCallback:
 681              	.LVL60:
 682              	.LFB140:
 272:Core/Src/mainLoop.c **** 
 273:Core/Src/mainLoop.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim) {
 683              		.loc 1 273 61 is_stmt 1 view -0
 684              		.cfi_startproc
 685              		@ args = 0, pretend = 0, frame = 0
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 687              		.loc 1 273 61 is_stmt 0 view .LVU157
 688 0000 08B5     		push	{r3, lr}
 689              	.LCFI8:
 690              		.cfi_def_cfa_offset 8
 691              		.cfi_offset 3, -8
 692              		.cfi_offset 14, -4
 274:Core/Src/mainLoop.c ****   // htim4.Init.Period = 65535; 1ms ÂÆöÊó∂
 275:Core/Src/mainLoop.c ****   //  if(htim == &htim4){
 276:Core/Src/mainLoop.c ****   //    HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 277:Core/Src/mainLoop.c ****   //    xx= HAL_TIM_ReadCapturedValue(&htim4, TIM_CHANNEL_1);
 278:Core/Src/mainLoop.c **** 
 279:Core/Src/mainLoop.c ****   //   yy = TIM4->CCR2;
 280:Core/Src/mainLoop.c ****   //   //TIM4->CCR1=0;
 281:Core/Src/mainLoop.c ****   //   //TIM4->CCR2=0;
 282:Core/Src/mainLoop.c ****   //   fre_dif = xx - yy;
 283:Core/Src/mainLoop.c ****   // }
 284:Core/Src/mainLoop.c ****   if (htim == &htim5) {
 693              		.loc 1 284 3 is_stmt 1 view .LVU158
 694              		.loc 1 284 6 is_stmt 0 view .LVU159
 695 0002 0C4B     		ldr	r3, .L46
 696 0004 8342     		cmp	r3, r0
 697 0006 00D0     		beq	.L45
 698              	.LVL61:
 699              	.L42:
 285:Core/Src/mainLoop.c ****     xx = TIM4->CNT;
 286:Core/Src/mainLoop.c ****     // yy = TIM4->CCR2;
 287:Core/Src/mainLoop.c ****     yy = TIM1->CNT;
 288:Core/Src/mainLoop.c ****     fre_dif = xx - yy;
 289:Core/Src/mainLoop.c ****     complete_sign = 1;
 290:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 291:Core/Src/mainLoop.c ****   }
 292:Core/Src/mainLoop.c ****   // if(htim == &htim1){
 293:Core/Src/mainLoop.c ****   //   xx_cnt++;
 294:Core/Src/mainLoop.c ****   // }
 295:Core/Src/mainLoop.c ****   // if(htim == &htim4){
 296:Core/Src/mainLoop.c ****   //   yy_cnt++;
 297:Core/Src/mainLoop.c ****   // }
 298:Core/Src/mainLoop.c **** }
 700              		.loc 1 298 1 view .LVU160
 701 0008 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccnB5ISM.s 			page 19


 702              	.LVL62:
 703              	.L45:
 285:Core/Src/mainLoop.c ****     xx = TIM4->CNT;
 704              		.loc 1 285 5 is_stmt 1 view .LVU161
 285:Core/Src/mainLoop.c ****     xx = TIM4->CNT;
 705              		.loc 1 285 14 is_stmt 0 view .LVU162
 706 000a 0B4B     		ldr	r3, .L46+4
 707 000c 5B6A     		ldr	r3, [r3, #36]
 285:Core/Src/mainLoop.c ****     xx = TIM4->CNT;
 708              		.loc 1 285 8 view .LVU163
 709 000e 0B4A     		ldr	r2, .L46+8
 710 0010 1360     		str	r3, [r2]
 287:Core/Src/mainLoop.c ****     fre_dif = xx - yy;
 711              		.loc 1 287 5 is_stmt 1 view .LVU164
 287:Core/Src/mainLoop.c ****     fre_dif = xx - yy;
 712              		.loc 1 287 14 is_stmt 0 view .LVU165
 713 0012 0B4A     		ldr	r2, .L46+12
 714 0014 526A     		ldr	r2, [r2, #36]
 287:Core/Src/mainLoop.c ****     fre_dif = xx - yy;
 715              		.loc 1 287 8 view .LVU166
 716 0016 0B49     		ldr	r1, .L46+16
 717 0018 0A60     		str	r2, [r1]
 288:Core/Src/mainLoop.c ****     complete_sign = 1;
 718              		.loc 1 288 5 is_stmt 1 view .LVU167
 288:Core/Src/mainLoop.c ****     complete_sign = 1;
 719              		.loc 1 288 18 is_stmt 0 view .LVU168
 720 001a 9B1A     		subs	r3, r3, r2
 288:Core/Src/mainLoop.c ****     complete_sign = 1;
 721              		.loc 1 288 13 view .LVU169
 722 001c 0A4A     		ldr	r2, .L46+20
 723 001e 1360     		str	r3, [r2]
 289:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 724              		.loc 1 289 5 is_stmt 1 view .LVU170
 289:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 725              		.loc 1 289 19 is_stmt 0 view .LVU171
 726 0020 0A4B     		ldr	r3, .L46+24
 727 0022 0122     		movs	r2, #1
 728 0024 1A60     		str	r2, [r3]
 290:Core/Src/mainLoop.c ****   }
 729              		.loc 1 290 5 is_stmt 1 view .LVU172
 730 0026 4FF40061 		mov	r1, #2048
 731 002a 0948     		ldr	r0, .L46+28
 732              	.LVL63:
 290:Core/Src/mainLoop.c ****   }
 733              		.loc 1 290 5 is_stmt 0 view .LVU173
 734 002c FFF7FEFF 		bl	HAL_GPIO_TogglePin
 735              	.LVL64:
 736              		.loc 1 298 1 view .LVU174
 737 0030 EAE7     		b	.L42
 738              	.L47:
 739 0032 00BF     		.align	2
 740              	.L46:
 741 0034 00000000 		.word	htim5
 742 0038 00080040 		.word	1073743872
 743 003c 00000000 		.word	xx
 744 0040 00000140 		.word	1073807360
 745 0044 00000000 		.word	yy
ARM GAS  /tmp/ccnB5ISM.s 			page 20


 746 0048 00000000 		.word	.LANCHOR0
 747 004c 00000000 		.word	complete_sign
 748 0050 00080240 		.word	1073874944
 749              		.cfi_endproc
 750              	.LFE140:
 752              		.global	__aeabi_d2f
 753              		.global	__aeabi_dsub
 754              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 755              		.align	1
 756              		.global	HAL_UART_RxCpltCallback
 757              		.syntax unified
 758              		.thumb
 759              		.thumb_func
 760              		.fpu fpv4-sp-d16
 762              	HAL_UART_RxCpltCallback:
 763              	.LVL65:
 764              	.LFB141:
 299:Core/Src/mainLoop.c **** 
 300:Core/Src/mainLoop.c **** // void HAL_GPIO_EXTI_Callback( uint16_t GPIO_Pin)
 301:Core/Src/mainLoop.c **** // {
 302:Core/Src/mainLoop.c **** // 	if(GPIO_Pin == capture_sig_it_Pin){
 303:Core/Src/mainLoop.c **** // 	   //This block will be triggered after pin activated.
 304:Core/Src/mainLoop.c **** //      chanl2_capNum++;
 305:Core/Src/mainLoop.c **** // 	}
 306:Core/Src/mainLoop.c **** // }
 307:Core/Src/mainLoop.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart) {
 765              		.loc 1 307 57 is_stmt 1 view -0
 766              		.cfi_startproc
 767              		@ args = 0, pretend = 0, frame = 0
 768              		@ frame_needed = 0, uses_anonymous_args = 0
 308:Core/Src/mainLoop.c ****   if (huart == &huart2) {
 769              		.loc 1 308 3 view .LVU176
 770              		.loc 1 308 6 is_stmt 0 view .LVU177
 771 0000 514B     		ldr	r3, .L63+24
 772 0002 8342     		cmp	r3, r0
 773 0004 00D0     		beq	.L58
 774 0006 7047     		bx	lr
 775              	.L58:
 307:Core/Src/mainLoop.c ****   if (huart == &huart2) {
 776              		.loc 1 307 57 view .LVU178
 777 0008 10B5     		push	{r4, lr}
 778              	.LCFI9:
 779              		.cfi_def_cfa_offset 8
 780              		.cfi_offset 4, -8
 781              		.cfi_offset 14, -4
 309:Core/Src/mainLoop.c ****     // xx++;
 310:Core/Src/mainLoop.c ****     // uint8_t tmp = (uint16_t)(huart->Instance->DR & (uint16_t)0x01FF);
 311:Core/Src/mainLoop.c ****     if (buf[0] == 'u') {
 782              		.loc 1 311 5 is_stmt 1 view .LVU179
 783              		.loc 1 311 12 is_stmt 0 view .LVU180
 784 000a 504B     		ldr	r3, .L63+28
 785 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 786              		.loc 1 311 8 view .LVU181
 787 000e 752B     		cmp	r3, #117
 788 0010 0BD0     		beq	.L59
 312:Core/Src/mainLoop.c ****       // HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 313:Core/Src/mainLoop.c ****       v_dianya += 0.1;
ARM GAS  /tmp/ccnB5ISM.s 			page 21


 314:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 315:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 316:Core/Src/mainLoop.c ****     } else if (buf[0] == 'd') {
 789              		.loc 1 316 12 is_stmt 1 view .LVU182
 790              		.loc 1 316 15 is_stmt 0 view .LVU183
 791 0012 642B     		cmp	r3, #100
 792 0014 29D0     		beq	.L60
 317:Core/Src/mainLoop.c ****       // HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 318:Core/Src/mainLoop.c ****       v_dianya -= 0.1;
 319:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 320:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 321:Core/Src/mainLoop.c ****     } else if (buf[0] == 'r') {
 793              		.loc 1 321 12 is_stmt 1 view .LVU184
 794              		.loc 1 321 15 is_stmt 0 view .LVU185
 795 0016 722B     		cmp	r3, #114
 796 0018 47D0     		beq	.L61
 322:Core/Src/mainLoop.c ****       v_dianya += 0.01;
 323:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 324:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 325:Core/Src/mainLoop.c ****     } else if (buf[0] == 'x') {
 797              		.loc 1 325 12 is_stmt 1 view .LVU186
 798              		.loc 1 325 15 is_stmt 0 view .LVU187
 799 001a 782B     		cmp	r3, #120
 800 001c 65D0     		beq	.L62
 801              	.LVL66:
 802              	.L51:
 326:Core/Src/mainLoop.c ****       v_dianya -= 0.01;
 327:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 328:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 329:Core/Src/mainLoop.c ****     }
 330:Core/Src/mainLoop.c ****     HAL_UART_Receive_IT(&huart2, (uint8_t *)(buf), 1);
 803              		.loc 1 330 5 is_stmt 1 view .LVU188
 804 001e 0122     		movs	r2, #1
 805 0020 4A49     		ldr	r1, .L63+28
 806 0022 4948     		ldr	r0, .L63+24
 807 0024 FFF7FEFF 		bl	HAL_UART_Receive_IT
 808              	.LVL67:
 331:Core/Src/mainLoop.c ****   }
 332:Core/Src/mainLoop.c **** }
 809              		.loc 1 332 1 is_stmt 0 view .LVU189
 810 0028 10BD     		pop	{r4, pc}
 811              	.LVL68:
 812              	.L59:
 313:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 813              		.loc 1 313 7 is_stmt 1 view .LVU190
 313:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 814              		.loc 1 313 16 is_stmt 0 view .LVU191
 815 002a 494C     		ldr	r4, .L63+32
 816 002c 2068     		ldr	r0, [r4]	@ float
 817              	.LVL69:
 313:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 818              		.loc 1 313 16 view .LVU192
 819 002e FFF7FEFF 		bl	__aeabi_f2d
 820              	.LVL70:
 821 0032 3FA3     		adr	r3, .L63
 822 0034 D3E90023 		ldrd	r2, [r3]
 823 0038 FFF7FEFF 		bl	__aeabi_dadd
ARM GAS  /tmp/ccnB5ISM.s 			page 22


 824              	.LVL71:
 825 003c FFF7FEFF 		bl	__aeabi_d2f
 826              	.LVL72:
 827 0040 2060     		str	r0, [r4]	@ float
 314:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 828              		.loc 1 314 7 is_stmt 1 view .LVU193
 315:Core/Src/mainLoop.c ****     } else if (buf[0] == 'd') {
 829              		.loc 1 315 45 is_stmt 0 view .LVU194
 830 0042 FFF7FEFF 		bl	__aeabi_f2d
 831              	.LVL73:
 832 0046 3CA3     		adr	r3, .L63+8
 833 0048 D3E90023 		ldrd	r2, [r3]
 834 004c FFF7FEFF 		bl	__aeabi_ddiv
 835              	.LVL74:
 315:Core/Src/mainLoop.c ****     } else if (buf[0] == 'd') {
 836              		.loc 1 315 52 view .LVU195
 837 0050 0022     		movs	r2, #0
 838 0052 404B     		ldr	r3, .L63+36
 839 0054 FFF7FEFF 		bl	__aeabi_dmul
 840              	.LVL75:
 314:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 841              		.loc 1 314 7 view .LVU196
 842 0058 FFF7FEFF 		bl	__aeabi_d2uiz
 843              	.LVL76:
 844 005c 0346     		mov	r3, r0
 845 005e 0022     		movs	r2, #0
 846 0060 1146     		mov	r1, r2
 847 0062 3D48     		ldr	r0, .L63+40
 848 0064 FFF7FEFF 		bl	HAL_DAC_SetValue
 849              	.LVL77:
 850 0068 D9E7     		b	.L51
 851              	.LVL78:
 852              	.L60:
 318:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 853              		.loc 1 318 7 is_stmt 1 view .LVU197
 318:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 854              		.loc 1 318 16 is_stmt 0 view .LVU198
 855 006a 394C     		ldr	r4, .L63+32
 856 006c 2068     		ldr	r0, [r4]	@ float
 857              	.LVL79:
 318:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 858              		.loc 1 318 16 view .LVU199
 859 006e FFF7FEFF 		bl	__aeabi_f2d
 860              	.LVL80:
 861 0072 2FA3     		adr	r3, .L63
 862 0074 D3E90023 		ldrd	r2, [r3]
 863 0078 FFF7FEFF 		bl	__aeabi_dsub
 864              	.LVL81:
 865 007c FFF7FEFF 		bl	__aeabi_d2f
 866              	.LVL82:
 867 0080 2060     		str	r0, [r4]	@ float
 319:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 868              		.loc 1 319 7 is_stmt 1 view .LVU200
 320:Core/Src/mainLoop.c ****     } else if (buf[0] == 'r') {
 869              		.loc 1 320 45 is_stmt 0 view .LVU201
 870 0082 FFF7FEFF 		bl	__aeabi_f2d
 871              	.LVL83:
ARM GAS  /tmp/ccnB5ISM.s 			page 23


 872 0086 2CA3     		adr	r3, .L63+8
 873 0088 D3E90023 		ldrd	r2, [r3]
 874 008c FFF7FEFF 		bl	__aeabi_ddiv
 875              	.LVL84:
 320:Core/Src/mainLoop.c ****     } else if (buf[0] == 'r') {
 876              		.loc 1 320 52 view .LVU202
 877 0090 0022     		movs	r2, #0
 878 0092 304B     		ldr	r3, .L63+36
 879 0094 FFF7FEFF 		bl	__aeabi_dmul
 880              	.LVL85:
 319:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 881              		.loc 1 319 7 view .LVU203
 882 0098 FFF7FEFF 		bl	__aeabi_d2uiz
 883              	.LVL86:
 884 009c 0346     		mov	r3, r0
 885 009e 0022     		movs	r2, #0
 886 00a0 1146     		mov	r1, r2
 887 00a2 2D48     		ldr	r0, .L63+40
 888 00a4 FFF7FEFF 		bl	HAL_DAC_SetValue
 889              	.LVL87:
 890 00a8 B9E7     		b	.L51
 891              	.LVL88:
 892              	.L61:
 322:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 893              		.loc 1 322 7 is_stmt 1 view .LVU204
 322:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 894              		.loc 1 322 16 is_stmt 0 view .LVU205
 895 00aa 294C     		ldr	r4, .L63+32
 896 00ac 2068     		ldr	r0, [r4]	@ float
 897              	.LVL89:
 322:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 898              		.loc 1 322 16 view .LVU206
 899 00ae FFF7FEFF 		bl	__aeabi_f2d
 900              	.LVL90:
 901 00b2 23A3     		adr	r3, .L63+16
 902 00b4 D3E90023 		ldrd	r2, [r3]
 903 00b8 FFF7FEFF 		bl	__aeabi_dadd
 904              	.LVL91:
 905 00bc FFF7FEFF 		bl	__aeabi_d2f
 906              	.LVL92:
 907 00c0 2060     		str	r0, [r4]	@ float
 323:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 908              		.loc 1 323 7 is_stmt 1 view .LVU207
 324:Core/Src/mainLoop.c ****     } else if (buf[0] == 'x') {
 909              		.loc 1 324 45 is_stmt 0 view .LVU208
 910 00c2 FFF7FEFF 		bl	__aeabi_f2d
 911              	.LVL93:
 912 00c6 1CA3     		adr	r3, .L63+8
 913 00c8 D3E90023 		ldrd	r2, [r3]
 914 00cc FFF7FEFF 		bl	__aeabi_ddiv
 915              	.LVL94:
 324:Core/Src/mainLoop.c ****     } else if (buf[0] == 'x') {
 916              		.loc 1 324 52 view .LVU209
 917 00d0 0022     		movs	r2, #0
 918 00d2 204B     		ldr	r3, .L63+36
 919 00d4 FFF7FEFF 		bl	__aeabi_dmul
 920              	.LVL95:
ARM GAS  /tmp/ccnB5ISM.s 			page 24


 323:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 921              		.loc 1 323 7 view .LVU210
 922 00d8 FFF7FEFF 		bl	__aeabi_d2uiz
 923              	.LVL96:
 924 00dc 0346     		mov	r3, r0
 925 00de 0022     		movs	r2, #0
 926 00e0 1146     		mov	r1, r2
 927 00e2 1D48     		ldr	r0, .L63+40
 928 00e4 FFF7FEFF 		bl	HAL_DAC_SetValue
 929              	.LVL97:
 930 00e8 99E7     		b	.L51
 931              	.LVL98:
 932              	.L62:
 326:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 933              		.loc 1 326 7 is_stmt 1 view .LVU211
 326:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 934              		.loc 1 326 16 is_stmt 0 view .LVU212
 935 00ea 194C     		ldr	r4, .L63+32
 936 00ec 2068     		ldr	r0, [r4]	@ float
 937              	.LVL99:
 326:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R,
 938              		.loc 1 326 16 view .LVU213
 939 00ee FFF7FEFF 		bl	__aeabi_f2d
 940              	.LVL100:
 941 00f2 13A3     		adr	r3, .L63+16
 942 00f4 D3E90023 		ldrd	r2, [r3]
 943 00f8 FFF7FEFF 		bl	__aeabi_dsub
 944              	.LVL101:
 945 00fc FFF7FEFF 		bl	__aeabi_d2f
 946              	.LVL102:
 947 0100 2060     		str	r0, [r4]	@ float
 327:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 948              		.loc 1 327 7 is_stmt 1 view .LVU214
 328:Core/Src/mainLoop.c ****     }
 949              		.loc 1 328 45 is_stmt 0 view .LVU215
 950 0102 FFF7FEFF 		bl	__aeabi_f2d
 951              	.LVL103:
 952 0106 0CA3     		adr	r3, .L63+8
 953 0108 D3E90023 		ldrd	r2, [r3]
 954 010c FFF7FEFF 		bl	__aeabi_ddiv
 955              	.LVL104:
 328:Core/Src/mainLoop.c ****     }
 956              		.loc 1 328 52 view .LVU216
 957 0110 0022     		movs	r2, #0
 958 0112 104B     		ldr	r3, .L63+36
 959 0114 FFF7FEFF 		bl	__aeabi_dmul
 960              	.LVL105:
 327:Core/Src/mainLoop.c ****                        (uint32_t)((v_dianya / 3.3) * 4096));
 961              		.loc 1 327 7 view .LVU217
 962 0118 FFF7FEFF 		bl	__aeabi_d2uiz
 963              	.LVL106:
 964 011c 0346     		mov	r3, r0
 965 011e 0022     		movs	r2, #0
 966 0120 1146     		mov	r1, r2
 967 0122 0D48     		ldr	r0, .L63+40
 968 0124 FFF7FEFF 		bl	HAL_DAC_SetValue
 969              	.LVL107:
ARM GAS  /tmp/ccnB5ISM.s 			page 25


 970 0128 79E7     		b	.L51
 971              	.L64:
 972 012a 00BFAFF3 		.align	3
 972      0080
 973              	.L63:
 974 0130 9A999999 		.word	2576980378
 975 0134 9999B93F 		.word	1069128089
 976 0138 66666666 		.word	1717986918
 977 013c 66660A40 		.word	1074423398
 978 0140 7B14AE47 		.word	1202590843
 979 0144 E17A843F 		.word	1065646817
 980 0148 00000000 		.word	huart2
 981 014c 00000000 		.word	buf
 982 0150 00000000 		.word	v_dianya
 983 0154 0000B040 		.word	1085276160
 984 0158 00000000 		.word	hdac
 985              		.cfi_endproc
 986              	.LFE141:
 988              		.section	.text.set_dac_initVal,"ax",%progbits
 989              		.align	1
 990              		.global	set_dac_initVal
 991              		.syntax unified
 992              		.thumb
 993              		.thumb_func
 994              		.fpu fpv4-sp-d16
 996              	set_dac_initVal:
 997              	.LVL108:
 998              	.LFB142:
 333:Core/Src/mainLoop.c **** 
 334:Core/Src/mainLoop.c **** void set_dac_initVal(uint32_t *val) {
 999              		.loc 1 334 37 is_stmt 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003              		.loc 1 334 37 is_stmt 0 view .LVU219
 1004 0000 10B5     		push	{r4, lr}
 1005              	.LCFI10:
 1006              		.cfi_def_cfa_offset 8
 1007              		.cfi_offset 4, -8
 1008              		.cfi_offset 14, -4
 1009 0002 0446     		mov	r4, r0
 335:Core/Src/mainLoop.c ****   // set all dac val
 336:Core/Src/mainLoop.c **** 
 337:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch1, *(val + 0), max_outdisable);
 1010              		.loc 1 337 3 is_stmt 1 view .LVU220
 1011 0004 0222     		movs	r2, #2
 1012 0006 0168     		ldr	r1, [r0]
 1013 0008 1046     		mov	r0, r2
 1014              	.LVL109:
 1015              		.loc 1 337 3 is_stmt 0 view .LVU221
 1016 000a FFF7FEFF 		bl	max5307_w_chanel
 1017              	.LVL110:
 338:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch2, *(val + 1), max_outdisable);
 1018              		.loc 1 338 3 is_stmt 1 view .LVU222
 1019 000e 0222     		movs	r2, #2
 1020 0010 6168     		ldr	r1, [r4, #4]
 1021 0012 0320     		movs	r0, #3
ARM GAS  /tmp/ccnB5ISM.s 			page 26


 1022 0014 FFF7FEFF 		bl	max5307_w_chanel
 1023              	.LVL111:
 339:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch3, *(val + 2), max_outdisable);
 1024              		.loc 1 339 3 view .LVU223
 1025 0018 0222     		movs	r2, #2
 1026 001a A168     		ldr	r1, [r4, #8]
 1027 001c 0420     		movs	r0, #4
 1028 001e FFF7FEFF 		bl	max5307_w_chanel
 1029              	.LVL112:
 340:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch4, *(val + 3), max_outdisable);
 1030              		.loc 1 340 3 view .LVU224
 1031 0022 0222     		movs	r2, #2
 1032 0024 E168     		ldr	r1, [r4, #12]
 1033 0026 0520     		movs	r0, #5
 1034 0028 FFF7FEFF 		bl	max5307_w_chanel
 1035              	.LVL113:
 341:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch5, *(val + 4), max_outdisable);
 1036              		.loc 1 341 3 view .LVU225
 1037 002c 0222     		movs	r2, #2
 1038 002e 2169     		ldr	r1, [r4, #16]
 1039 0030 0620     		movs	r0, #6
 1040 0032 FFF7FEFF 		bl	max5307_w_chanel
 1041              	.LVL114:
 342:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch6, *(val + 5), max_outdisable);
 1042              		.loc 1 342 3 view .LVU226
 1043 0036 0222     		movs	r2, #2
 1044 0038 6169     		ldr	r1, [r4, #20]
 1045 003a 0720     		movs	r0, #7
 1046 003c FFF7FEFF 		bl	max5307_w_chanel
 1047              	.LVL115:
 343:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch7, *(val + 6), max_outdisable);
 1048              		.loc 1 343 3 view .LVU227
 1049 0040 0222     		movs	r2, #2
 1050 0042 A169     		ldr	r1, [r4, #24]
 1051 0044 0820     		movs	r0, #8
 1052 0046 FFF7FEFF 		bl	max5307_w_chanel
 1053              	.LVL116:
 344:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch8, *(val + 7), max_outdisable);
 1054              		.loc 1 344 3 view .LVU228
 1055 004a 0222     		movs	r2, #2
 1056 004c E169     		ldr	r1, [r4, #28]
 1057 004e 0920     		movs	r0, #9
 1058 0050 FFF7FEFF 		bl	max5307_w_chanel
 1059              	.LVL117:
 345:Core/Src/mainLoop.c **** 
 346:Core/Src/mainLoop.c ****   max5307_loadpin();
 1060              		.loc 1 346 3 view .LVU229
 1061 0054 FFF7FEFF 		bl	max5307_loadpin
 1062              	.LVL118:
 347:Core/Src/mainLoop.c **** }
 1063              		.loc 1 347 1 is_stmt 0 view .LVU230
 1064 0058 10BD     		pop	{r4, pc}
 1065              		.loc 1 347 1 view .LVU231
 1066              		.cfi_endproc
 1067              	.LFE142:
 1069              		.section	.text.cal_k_value_cp,"ax",%progbits
 1070              		.align	1
ARM GAS  /tmp/ccnB5ISM.s 			page 27


 1071              		.global	cal_k_value_cp
 1072              		.syntax unified
 1073              		.thumb
 1074              		.thumb_func
 1075              		.fpu fpv4-sp-d16
 1077              	cal_k_value_cp:
 1078              	.LFB143:
 348:Core/Src/mainLoop.c **** #define ADC_BUF_SIZE 4000  // 200=1ms
 349:Core/Src/mainLoop.c **** #define ADC_TIMES_N (ADC_BUF_SIZE * 2)
 350:Core/Src/mainLoop.c **** uint32_t value_adc1[ADC_BUF_SIZE], value_adc2[ADC_BUF_SIZE];
 351:Core/Src/mainLoop.c **** #define CP_TIMES_N (ADC_TIMES_N)
 352:Core/Src/mainLoop.c **** int32_t value_cp[CP_TIMES_N];
 353:Core/Src/mainLoop.c **** 
 354:Core/Src/mainLoop.c **** int32_t cal_k_value_cp(void) {  // cal k
 1079              		.loc 1 354 30 is_stmt 1 view -0
 1080              		.cfi_startproc
 1081              		@ args = 0, pretend = 0, frame = 0
 1082              		@ frame_needed = 0, uses_anonymous_args = 0
 1083              		@ link register save eliminated.
 1084 0000 10B4     		push	{r4}
 1085              	.LCFI11:
 1086              		.cfi_def_cfa_offset 4
 1087              		.cfi_offset 4, -4
 355:Core/Src/mainLoop.c ****   int32_t kUp = 0, kDown = 0;
 1088              		.loc 1 355 3 view .LVU233
 1089              	.LVL119:
 356:Core/Src/mainLoop.c ****   int32_t i = 0;
 1090              		.loc 1 356 3 view .LVU234
 357:Core/Src/mainLoop.c ****   for (i = 1; i < CP_TIMES_N; i++) {
 1091              		.loc 1 357 3 view .LVU235
 1092              		.loc 1 357 10 is_stmt 0 view .LVU236
 1093 0002 0123     		movs	r3, #1
 1094              	.LVL120:
 1095              	.L68:
 1096              		.loc 1 357 15 is_stmt 1 discriminator 1 view .LVU237
 1097              		.loc 1 357 3 is_stmt 0 discriminator 1 view .LVU238
 1098 0004 B3F5FA5F 		cmp	r3, #8000
 1099 0008 0ADA     		bge	.L75
 358:Core/Src/mainLoop.c ****     value_cp[i - 1] = value_cp[i] - value_cp[i - 1];
 1100              		.loc 1 358 5 is_stmt 1 discriminator 3 view .LVU239
 1101              		.loc 1 358 31 is_stmt 0 discriminator 3 view .LVU240
 1102 000a 144A     		ldr	r2, .L77
 1103 000c 52F82310 		ldr	r1, [r2, r3, lsl #2]
 1104              		.loc 1 358 48 discriminator 3 view .LVU241
 1105 0010 581E     		subs	r0, r3, #1
 1106              		.loc 1 358 45 discriminator 3 view .LVU242
 1107 0012 52F82040 		ldr	r4, [r2, r0, lsl #2]
 1108              		.loc 1 358 35 discriminator 3 view .LVU243
 1109 0016 091B     		subs	r1, r1, r4
 1110              		.loc 1 358 21 discriminator 3 view .LVU244
 1111 0018 42F82010 		str	r1, [r2, r0, lsl #2]
 357:Core/Src/mainLoop.c ****   for (i = 1; i < CP_TIMES_N; i++) {
 1112              		.loc 1 357 31 is_stmt 1 discriminator 3 view .LVU245
 357:Core/Src/mainLoop.c ****   for (i = 1; i < CP_TIMES_N; i++) {
 1113              		.loc 1 357 32 is_stmt 0 discriminator 3 view .LVU246
 1114 001c 0133     		adds	r3, r3, #1
 1115              	.LVL121:
ARM GAS  /tmp/ccnB5ISM.s 			page 28


 357:Core/Src/mainLoop.c ****   for (i = 1; i < CP_TIMES_N; i++) {
 1116              		.loc 1 357 32 discriminator 3 view .LVU247
 1117 001e F1E7     		b	.L68
 1118              	.L75:
 359:Core/Src/mainLoop.c ****   }
 360:Core/Src/mainLoop.c ****   value_cp[CP_TIMES_N - 1] = 0;
 1119              		.loc 1 360 3 is_stmt 1 view .LVU248
 1120              		.loc 1 360 28 is_stmt 0 view .LVU249
 1121 0020 0020     		movs	r0, #0
 1122 0022 0E4A     		ldr	r2, .L77
 1123 0024 47F6FC43 		movw	r3, #31996
 1124              	.LVL122:
 1125              		.loc 1 360 28 view .LVU250
 1126 0028 D050     		str	r0, [r2, r3]
 361:Core/Src/mainLoop.c **** 
 362:Core/Src/mainLoop.c ****   for (i = 0; i < CP_TIMES_N; i++) {
 1127              		.loc 1 362 3 is_stmt 1 view .LVU251
 1128              	.LVL123:
 1129              		.loc 1 362 10 is_stmt 0 view .LVU252
 1130 002a 0346     		mov	r3, r0
 355:Core/Src/mainLoop.c ****   int32_t i = 0;
 1131              		.loc 1 355 20 view .LVU253
 1132 002c 0446     		mov	r4, r0
 1133              		.loc 1 362 3 view .LVU254
 1134 002e 01E0     		b	.L70
 1135              	.LVL124:
 1136              	.L72:
 1137              	.LBB2:
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 364:Core/Src/mainLoop.c ****       if (value_cp[i] > 0) {
 365:Core/Src/mainLoop.c ****         kUp += 1;
 366:Core/Src/mainLoop.c ****       } else {
 367:Core/Src/mainLoop.c ****         kDown += 1;
 1138              		.loc 1 367 9 is_stmt 1 view .LVU255
 1139              		.loc 1 367 15 is_stmt 0 view .LVU256
 1140 0030 0134     		adds	r4, r4, #1
 1141              	.LVL125:
 1142              	.L71:
 1143              		.loc 1 367 15 view .LVU257
 1144              	.LBE2:
 362:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1145              		.loc 1 362 31 is_stmt 1 discriminator 2 view .LVU258
 362:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1146              		.loc 1 362 32 is_stmt 0 discriminator 2 view .LVU259
 1147 0032 0133     		adds	r3, r3, #1
 1148              	.LVL126:
 1149              	.L70:
 362:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1150              		.loc 1 362 15 is_stmt 1 discriminator 1 view .LVU260
 362:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1151              		.loc 1 362 3 is_stmt 0 discriminator 1 view .LVU261
 1152 0034 B3F5FA5F 		cmp	r3, #8000
 1153 0038 0CDA     		bge	.L76
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1154              		.loc 1 363 5 is_stmt 1 view .LVU262
 1155              	.LBB3:
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
ARM GAS  /tmp/ccnB5ISM.s 			page 29


 1156              		.loc 1 363 21 is_stmt 0 view .LVU263
 1157 003a 084A     		ldr	r2, .L77
 1158 003c 52F82320 		ldr	r2, [r2, r3, lsl #2]
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1159              		.loc 1 363 9 view .LVU264
 1160 0040 82EAE271 		eor	r1, r2, r2, asr #31
 1161 0044 A1EBE271 		sub	r1, r1, r2, asr #31
 363:Core/Src/mainLoop.c ****     if (abs(value_cp[i]) >= 5) {
 1162              		.loc 1 363 8 view .LVU265
 1163 0048 0429     		cmp	r1, #4
 1164 004a F2DD     		ble	.L71
 364:Core/Src/mainLoop.c ****         kUp += 1;
 1165              		.loc 1 364 7 is_stmt 1 view .LVU266
 364:Core/Src/mainLoop.c ****         kUp += 1;
 1166              		.loc 1 364 10 is_stmt 0 view .LVU267
 1167 004c 002A     		cmp	r2, #0
 1168 004e EFDD     		ble	.L72
 365:Core/Src/mainLoop.c ****       } else {
 1169              		.loc 1 365 9 is_stmt 1 view .LVU268
 365:Core/Src/mainLoop.c ****       } else {
 1170              		.loc 1 365 13 is_stmt 0 view .LVU269
 1171 0050 0130     		adds	r0, r0, #1
 1172              	.LVL127:
 365:Core/Src/mainLoop.c ****       } else {
 1173              		.loc 1 365 13 view .LVU270
 1174 0052 EEE7     		b	.L71
 1175              	.L76:
 365:Core/Src/mainLoop.c ****       } else {
 1176              		.loc 1 365 13 view .LVU271
 1177              	.LBE3:
 368:Core/Src/mainLoop.c ****       }
 369:Core/Src/mainLoop.c ****     }
 370:Core/Src/mainLoop.c ****   }
 371:Core/Src/mainLoop.c ****   return (kDown - kUp);
 1178              		.loc 1 371 3 is_stmt 1 view .LVU272
 372:Core/Src/mainLoop.c **** }
 1179              		.loc 1 372 1 is_stmt 0 view .LVU273
 1180 0054 201A     		subs	r0, r4, r0
 1181              	.LVL128:
 1182              		.loc 1 372 1 view .LVU274
 1183 0056 5DF8044B 		ldr	r4, [sp], #4
 1184              	.LCFI12:
 1185              		.cfi_restore 4
 1186              		.cfi_def_cfa_offset 0
 1187              	.LVL129:
 1188              		.loc 1 372 1 view .LVU275
 1189 005a 7047     		bx	lr
 1190              	.L78:
 1191              		.align	2
 1192              	.L77:
 1193 005c 00000000 		.word	value_cp
 1194              		.cfi_endproc
 1195              	.LFE143:
 1197              		.section	.text.cal_value_cp,"ax",%progbits
 1198              		.align	1
 1199              		.global	cal_value_cp
 1200              		.syntax unified
ARM GAS  /tmp/ccnB5ISM.s 			page 30


 1201              		.thumb
 1202              		.thumb_func
 1203              		.fpu fpv4-sp-d16
 1205              	cal_value_cp:
 1206              	.LFB144:
 373:Core/Src/mainLoop.c **** 
 374:Core/Src/mainLoop.c **** int32_t cal_value_cp(void) {
 1207              		.loc 1 374 28 is_stmt 1 view -0
 1208              		.cfi_startproc
 1209              		@ args = 0, pretend = 0, frame = 0
 1210              		@ frame_needed = 0, uses_anonymous_args = 0
 1211 0000 08B5     		push	{r3, lr}
 1212              	.LCFI13:
 1213              		.cfi_def_cfa_offset 8
 1214              		.cfi_offset 3, -8
 1215              		.cfi_offset 14, -4
 375:Core/Src/mainLoop.c ****   int32_t i = 0;
 1216              		.loc 1 375 3 view .LVU277
 1217              	.LVL130:
 376:Core/Src/mainLoop.c ****   int32_t tmp1, tmp2, tmp3, tmp4, allSum = 0;
 1218              		.loc 1 376 3 view .LVU278
 377:Core/Src/mainLoop.c ****   for (i = 0; i < CP_TIMES_N; i++) {
 1219              		.loc 1 377 3 view .LVU279
 1220              		.loc 1 377 10 is_stmt 0 view .LVU280
 1221 0002 0023     		movs	r3, #0
 1222              	.LVL131:
 1223              	.L80:
 1224              		.loc 1 377 15 is_stmt 1 discriminator 1 view .LVU281
 1225              		.loc 1 377 3 is_stmt 0 discriminator 1 view .LVU282
 1226 0004 B3F5FA5F 		cmp	r3, #8000
 1227 0008 0CDA     		bge	.L83
 378:Core/Src/mainLoop.c ****     tmp1 = (int32_t)(value_adc1[i / 2 + 0] & 0x0fff);
 1228              		.loc 1 378 5 is_stmt 1 discriminator 3 view .LVU283
 1229              		.loc 1 378 39 is_stmt 0 discriminator 3 view .LVU284
 1230 000a 03EBD372 		add	r2, r3, r3, lsr #31
 1231 000e 5210     		asrs	r2, r2, #1
 1232              		.loc 1 378 32 discriminator 3 view .LVU285
 1233 0010 0649     		ldr	r1, .L84
 1234 0012 51F82220 		ldr	r2, [r1, r2, lsl #2]
 1235              		.loc 1 378 10 discriminator 3 view .LVU286
 1236 0016 C2F30B02 		ubfx	r2, r2, #0, #12
 1237              	.LVL132:
 379:Core/Src/mainLoop.c ****     // tmp2 = (int32_t)((value_adc1[i/2+0] >> 16)&(0x0fff));
 380:Core/Src/mainLoop.c ****     // tmp3 = (int32_t)(value_adc1[i*2+1] & 0xfff);
 381:Core/Src/mainLoop.c ****     // tmp4 = (int32_t)((value_adc1[i*2+1] >> 16)&(0x0fff));
 382:Core/Src/mainLoop.c ****     // value_cp[i] = (tmp1+tmp2)/2 + (tmp3+tmp4)/2;
 383:Core/Src/mainLoop.c ****     value_cp[i] = tmp1;
 1238              		.loc 1 383 5 is_stmt 1 discriminator 3 view .LVU287
 1239              		.loc 1 383 17 is_stmt 0 discriminator 3 view .LVU288
 1240 001a 0549     		ldr	r1, .L84+4
 1241 001c 41F82320 		str	r2, [r1, r3, lsl #2]
 384:Core/Src/mainLoop.c ****     allSum += value_cp[i];
 1242              		.loc 1 384 5 is_stmt 1 discriminator 3 view .LVU289
 377:Core/Src/mainLoop.c ****     tmp1 = (int32_t)(value_adc1[i / 2 + 0] & 0x0fff);
 1243              		.loc 1 377 31 discriminator 3 view .LVU290
 377:Core/Src/mainLoop.c ****     tmp1 = (int32_t)(value_adc1[i / 2 + 0] & 0x0fff);
 1244              		.loc 1 377 32 is_stmt 0 discriminator 3 view .LVU291
ARM GAS  /tmp/ccnB5ISM.s 			page 31


 1245 0020 0133     		adds	r3, r3, #1
 1246              	.LVL133:
 377:Core/Src/mainLoop.c ****     tmp1 = (int32_t)(value_adc1[i / 2 + 0] & 0x0fff);
 1247              		.loc 1 377 32 discriminator 3 view .LVU292
 1248 0022 EFE7     		b	.L80
 1249              	.LVL134:
 1250              	.L83:
 385:Core/Src/mainLoop.c ****   }
 386:Core/Src/mainLoop.c ****   return cal_k_value_cp();
 1251              		.loc 1 386 3 is_stmt 1 view .LVU293
 1252              		.loc 1 386 10 is_stmt 0 view .LVU294
 1253 0024 FFF7FEFF 		bl	cal_k_value_cp
 1254              	.LVL135:
 387:Core/Src/mainLoop.c ****   // return (allSum/CP_TIMES_N)-2048;
 388:Core/Src/mainLoop.c **** }
 1255              		.loc 1 388 1 view .LVU295
 1256 0028 08BD     		pop	{r3, pc}
 1257              	.L85:
 1258 002a 00BF     		.align	2
 1259              	.L84:
 1260 002c 00000000 		.word	value_adc1
 1261 0030 00000000 		.word	value_cp
 1262              		.cfi_endproc
 1263              	.LFE144:
 1265              		.section	.text.cal_cp_output_dac,"ax",%progbits
 1266              		.align	1
 1267              		.global	cal_cp_output_dac
 1268              		.syntax unified
 1269              		.thumb
 1270              		.thumb_func
 1271              		.fpu fpv4-sp-d16
 1273              	cal_cp_output_dac:
 1274              	.LVL136:
 1275              	.LFB145:
 389:Core/Src/mainLoop.c **** 
 390:Core/Src/mainLoop.c **** // 1Hz 10
 391:Core/Src/mainLoop.c **** // adcsumarray_size=2,1,1kÊî∂ÊïõÂæàÂø´Ôºå
 392:Core/Src/mainLoop.c **** #define ADCSUMARRAY_SIZE (2)
 393:Core/Src/mainLoop.c **** // #define ADCSUMARRAY_SIZE (300)
 394:Core/Src/mainLoop.c **** int32_t adcSumArray[ADCSUMARRAY_SIZE];
 395:Core/Src/mainLoop.c **** int32_t pidP = 0, pidI = 0, pidD = 0;
 396:Core/Src/mainLoop.c **** float_t dletDac = 0;
 397:Core/Src/mainLoop.c **** 
 398:Core/Src/mainLoop.c **** // 1hz
 399:Core/Src/mainLoop.c **** // #define kP (-0.005)
 400:Core/Src/mainLoop.c **** // #define kI (+0.001)
 401:Core/Src/mainLoop.c **** // #define kD (0.005)
 402:Core/Src/mainLoop.c **** // void cal_cp_output_dac(struct adc_buf_t* adc_buf, uint32_t *dacP, uint32_t
 403:Core/Src/mainLoop.c **** // *dacN){ 	int32_t i=0; 	int32_t N=ADC_BUF_T_SIZE*2; 	int32_t
 404:Core/Src/mainLoop.c **** // allSum=0; 	uint32_t
 405:Core/Src/mainLoop.c **** // tmpUint32=0; 	for(i=0; i<N; i++){ 		allSum += (int32_t)
 406:Core/Src/mainLoop.c **** //((adc_buf->buf[i/2]&0x0fff));
 407:Core/Src/mainLoop.c **** //	}
 408:Core/Src/mainLoop.c **** //	allSum = allSum/N - TARGET_CPV;
 409:Core/Src/mainLoop.c **** //
 410:Core/Src/mainLoop.c **** //	for(i=0; i<ADCSUMARRAY_SIZE-1; i++){
 411:Core/Src/mainLoop.c **** //		adcSumArray[i] = adcSumArray[i+1];
ARM GAS  /tmp/ccnB5ISM.s 			page 32


 412:Core/Src/mainLoop.c **** //	}
 413:Core/Src/mainLoop.c **** //	adcSumArray[ADCSUMARRAY_SIZE-1] = allSum;
 414:Core/Src/mainLoop.c **** //
 415:Core/Src/mainLoop.c **** //	//pid
 416:Core/Src/mainLoop.c **** //	pidP = adcSumArray[ADCSUMARRAY_SIZE-1];
 417:Core/Src/mainLoop.c **** //	pidI = 0;
 418:Core/Src/mainLoop.c **** //	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 419:Core/Src/mainLoop.c **** //		pidI += adcSumArray[i];
 420:Core/Src/mainLoop.c **** //	}
 421:Core/Src/mainLoop.c **** //	pidI = pidI/ADCSUMARRAY_SIZE;
 422:Core/Src/mainLoop.c **** //	pidD = adcSumArray[ADCSUMARRAY_SIZE-1] -
 423:Core/Src/mainLoop.c **** // adcSumArray[ADCSUMARRAY_SIZE-2]; 	dletDac = kP*((float_t)pidP) +
 424:Core/Src/mainLoop.c **** // kI*((float_t)pidI) + kD*((float_t)pidD); 	tmpUint32 = abs((int32_t)
 425:Core/Src/mainLoop.c **** // (dletDac));
 426:Core/Src/mainLoop.c **** //	(*dacP) += (int32_t) (dletDac);
 427:Core/Src/mainLoop.c **** //	(*dacN) -= (int32_t) (dletDac);
 428:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACP_1,  (*dacP)>>12,      max_outenable);
 429:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACP_1K, ((*dacP)&0xfff),  max_outenable);
 430:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACN_1,  (*dacN)>>12,      max_outenable);
 431:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACN_1K, ((*dacN)&0xfff),  max_outenable);
 432:Core/Src/mainLoop.c **** //
 433:Core/Src/mainLoop.c **** //	//clear buf
 434:Core/Src/mainLoop.c **** //	for(i=0; i<ADC_BUF_T_SIZE; i++){
 435:Core/Src/mainLoop.c **** //		adc_buf->buf[i]=0;
 436:Core/Src/mainLoop.c **** //	}
 437:Core/Src/mainLoop.c **** // }
 438:Core/Src/mainLoop.c **** // for test before 20231206
 439:Core/Src/mainLoop.c **** // #define kP (-0.0005)
 440:Core/Src/mainLoop.c **** // #define kI (+0.051)
 441:Core/Src/mainLoop.c **** // #define kD ( 0.00005)
 442:Core/Src/mainLoop.c **** 
 443:Core/Src/mainLoop.c **** // get jubuzhengdang, jiezhi
 444:Core/Src/mainLoop.c **** // #define kP (-0.0005)
 445:Core/Src/mainLoop.c **** // #define kI (+0.0051)
 446:Core/Src/mainLoop.c **** // #define kD (1.1275)
 447:Core/Src/mainLoop.c **** 
 448:Core/Src/mainLoop.c **** // for test 20231206 this is almost ok
 449:Core/Src/mainLoop.c **** #define kP (-0.0005)
 450:Core/Src/mainLoop.c **** #define kI (+0.0051)
 451:Core/Src/mainLoop.c **** #define kD (1.1275)
 452:Core/Src/mainLoop.c **** 
 453:Core/Src/mainLoop.c **** // #define kP (-0.0002)
 454:Core/Src/mainLoop.c **** // #define kI (+0.0031)
 455:Core/Src/mainLoop.c **** // #define kD (0.5275)
 456:Core/Src/mainLoop.c **** // #define TARGET_CPV  (2748)
 457:Core/Src/mainLoop.c **** #define TARGET_CPV (3096)
 458:Core/Src/mainLoop.c **** void cal_cp_output_dac(struct adc_buf_t *adc_buf, uint32_t *dacP,
 459:Core/Src/mainLoop.c ****                        uint32_t *dacN) {
 1276              		.loc 1 459 40 is_stmt 1 view -0
 1277              		.cfi_startproc
 1278              		@ args = 0, pretend = 0, frame = 0
 1279              		@ frame_needed = 0, uses_anonymous_args = 0
 1280              		.loc 1 459 40 is_stmt 0 view .LVU297
 1281 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1282              	.LCFI14:
 1283              		.cfi_def_cfa_offset 32
 1284              		.cfi_offset 4, -32
ARM GAS  /tmp/ccnB5ISM.s 			page 33


 1285              		.cfi_offset 5, -28
 1286              		.cfi_offset 6, -24
 1287              		.cfi_offset 7, -20
 1288              		.cfi_offset 8, -16
 1289              		.cfi_offset 9, -12
 1290              		.cfi_offset 10, -8
 1291              		.cfi_offset 14, -4
 1292 0004 0446     		mov	r4, r0
 1293 0006 0E46     		mov	r6, r1
 1294 0008 1546     		mov	r5, r2
 460:Core/Src/mainLoop.c ****   int32_t i = 0;
 1295              		.loc 1 460 3 is_stmt 1 view .LVU298
 1296              	.LVL137:
 461:Core/Src/mainLoop.c ****   int32_t N = ADC_BUF_T_SIZE * 2;
 1297              		.loc 1 461 3 view .LVU299
 462:Core/Src/mainLoop.c ****   int32_t allSum = 0;
 1298              		.loc 1 462 3 view .LVU300
 463:Core/Src/mainLoop.c ****   uint32_t tmpUint32 = 0;
 1299              		.loc 1 463 3 view .LVU301
 464:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1300              		.loc 1 464 3 view .LVU302
 462:Core/Src/mainLoop.c ****   int32_t allSum = 0;
 1301              		.loc 1 462 11 is_stmt 0 view .LVU303
 1302 000a 0023     		movs	r3, #0
 1303              		.loc 1 464 10 view .LVU304
 1304 000c 1A46     		mov	r2, r3
 1305              	.LVL138:
 1306              		.loc 1 464 3 view .LVU305
 1307 000e 09E0     		b	.L87
 1308              	.LVL139:
 1309              	.L88:
 465:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i / 2] & 0x0fff));
 1310              		.loc 1 465 5 is_stmt 1 discriminator 3 view .LVU306
 1311              		.loc 1 465 41 is_stmt 0 discriminator 3 view .LVU307
 1312 0010 02EBD271 		add	r1, r2, r2, lsr #31
 1313 0014 4910     		asrs	r1, r1, #1
 1314              		.loc 1 465 38 discriminator 3 view .LVU308
 1315 0016 04EB8101 		add	r1, r4, r1, lsl #2
 1316 001a 4968     		ldr	r1, [r1, #4]
 1317              		.loc 1 465 15 discriminator 3 view .LVU309
 1318 001c C1F30B01 		ubfx	r1, r1, #0, #12
 1319              		.loc 1 465 12 discriminator 3 view .LVU310
 1320 0020 0B44     		add	r3, r3, r1
 1321              	.LVL140:
 464:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1322              		.loc 1 464 22 is_stmt 1 discriminator 3 view .LVU311
 464:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1323              		.loc 1 464 23 is_stmt 0 discriminator 3 view .LVU312
 1324 0022 0132     		adds	r2, r2, #1
 1325              	.LVL141:
 1326              	.L87:
 464:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1327              		.loc 1 464 15 is_stmt 1 discriminator 1 view .LVU313
 464:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1328              		.loc 1 464 3 is_stmt 0 discriminator 1 view .LVU314
 1329 0024 C72A     		cmp	r2, #199
 1330 0026 F3DD     		ble	.L88
ARM GAS  /tmp/ccnB5ISM.s 			page 34


 466:Core/Src/mainLoop.c ****   }
 467:Core/Src/mainLoop.c ****   allSum = allSum / N - TARGET_CPV;
 1331              		.loc 1 467 3 is_stmt 1 view .LVU315
 1332              		.loc 1 467 19 is_stmt 0 view .LVU316
 1333 0028 574A     		ldr	r2, .L97+24
 1334              	.LVL142:
 1335              		.loc 1 467 19 view .LVU317
 1336 002a 82FB0312 		smull	r1, r2, r2, r3
 1337 002e D817     		asrs	r0, r3, #31
 1338              	.LVL143:
 1339              		.loc 1 467 19 view .LVU318
 1340 0030 C0EBA210 		rsb	r0, r0, r2, asr #6
 1341              		.loc 1 467 10 view .LVU319
 1342 0034 A0F61840 		subw	r0, r0, #3096
 1343              	.LVL144:
 468:Core/Src/mainLoop.c **** 
 469:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE - 1; i++) {
 1344              		.loc 1 469 3 is_stmt 1 view .LVU320
 1345              		.loc 1 469 10 is_stmt 0 view .LVU321
 1346 0038 0023     		movs	r3, #0
 1347              	.LVL145:
 1348              	.L89:
 1349              		.loc 1 469 15 is_stmt 1 discriminator 1 view .LVU322
 1350              		.loc 1 469 3 is_stmt 0 discriminator 1 view .LVU323
 1351 003a 002B     		cmp	r3, #0
 1352 003c 07DD     		ble	.L90
 470:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 471:Core/Src/mainLoop.c ****   }
 472:Core/Src/mainLoop.c ****   adcSumArray[ADCSUMARRAY_SIZE - 1] = allSum;
 1353              		.loc 1 472 3 is_stmt 1 view .LVU324
 1354              		.loc 1 472 37 is_stmt 0 view .LVU325
 1355 003e 534B     		ldr	r3, .L97+28
 1356              	.LVL146:
 1357              		.loc 1 472 37 view .LVU326
 1358 0040 5860     		str	r0, [r3, #4]
 473:Core/Src/mainLoop.c **** 
 474:Core/Src/mainLoop.c ****   // pid
 475:Core/Src/mainLoop.c ****   pidP = adcSumArray[ADCSUMARRAY_SIZE - 1];
 1359              		.loc 1 475 3 is_stmt 1 view .LVU327
 1360              		.loc 1 475 8 is_stmt 0 view .LVU328
 1361 0042 534B     		ldr	r3, .L97+32
 1362 0044 1860     		str	r0, [r3]
 476:Core/Src/mainLoop.c ****   pidI = 0;
 1363              		.loc 1 476 3 is_stmt 1 view .LVU329
 1364              		.loc 1 476 8 is_stmt 0 view .LVU330
 1365 0046 0023     		movs	r3, #0
 1366 0048 524A     		ldr	r2, .L97+36
 1367 004a 1360     		str	r3, [r2]
 477:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1368              		.loc 1 477 3 is_stmt 1 view .LVU331
 1369              	.LVL147:
 1370              		.loc 1 477 3 is_stmt 0 view .LVU332
 1371 004c 0FE0     		b	.L91
 1372              	.LVL148:
 1373              	.L90:
 470:Core/Src/mainLoop.c ****   }
 1374              		.loc 1 470 5 is_stmt 1 discriminator 3 view .LVU333
ARM GAS  /tmp/ccnB5ISM.s 			page 35


 470:Core/Src/mainLoop.c ****   }
 1375              		.loc 1 470 36 is_stmt 0 discriminator 3 view .LVU334
 1376 004e 5A1C     		adds	r2, r3, #1
 470:Core/Src/mainLoop.c ****   }
 1377              		.loc 1 470 33 discriminator 3 view .LVU335
 1378 0050 4E49     		ldr	r1, .L97+28
 1379 0052 51F82270 		ldr	r7, [r1, r2, lsl #2]
 470:Core/Src/mainLoop.c ****   }
 1380              		.loc 1 470 20 discriminator 3 view .LVU336
 1381 0056 41F82370 		str	r7, [r1, r3, lsl #2]
 469:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1382              		.loc 1 469 41 is_stmt 1 discriminator 3 view .LVU337
 1383              	.LVL149:
 469:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1384              		.loc 1 469 42 is_stmt 0 discriminator 3 view .LVU338
 1385 005a 1346     		mov	r3, r2
 1386 005c EDE7     		b	.L89
 1387              	.LVL150:
 1388              	.L92:
 478:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1389              		.loc 1 478 5 is_stmt 1 discriminator 3 view .LVU339
 1390              		.loc 1 478 24 is_stmt 0 discriminator 3 view .LVU340
 1391 005e 4B4A     		ldr	r2, .L97+28
 1392 0060 52F82370 		ldr	r7, [r2, r3, lsl #2]
 1393              		.loc 1 478 10 discriminator 3 view .LVU341
 1394 0064 4B49     		ldr	r1, .L97+36
 1395 0066 0A68     		ldr	r2, [r1]
 1396 0068 3A44     		add	r2, r2, r7
 1397 006a 0A60     		str	r2, [r1]
 477:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1398              		.loc 1 477 37 is_stmt 1 discriminator 3 view .LVU342
 477:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1399              		.loc 1 477 38 is_stmt 0 discriminator 3 view .LVU343
 1400 006c 0133     		adds	r3, r3, #1
 1401              	.LVL151:
 1402              	.L91:
 477:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1403              		.loc 1 477 15 is_stmt 1 discriminator 1 view .LVU344
 477:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1404              		.loc 1 477 3 is_stmt 0 discriminator 1 view .LVU345
 1405 006e 012B     		cmp	r3, #1
 1406 0070 F5DD     		ble	.L92
 479:Core/Src/mainLoop.c ****   }
 480:Core/Src/mainLoop.c ****   pidI = pidI / ADCSUMARRAY_SIZE;
 1407              		.loc 1 480 3 is_stmt 1 view .LVU346
 1408              		.loc 1 480 15 is_stmt 0 view .LVU347
 1409 0072 484A     		ldr	r2, .L97+36
 1410 0074 1368     		ldr	r3, [r2]
 1411              	.LVL152:
 1412              		.loc 1 480 15 view .LVU348
 1413 0076 03EBD373 		add	r3, r3, r3, lsr #31
 1414 007a 5F10     		asrs	r7, r3, #1
 1415              		.loc 1 480 8 view .LVU349
 1416 007c 1760     		str	r7, [r2]
 481:Core/Src/mainLoop.c ****   pidD = adcSumArray[ADCSUMARRAY_SIZE - 1] - adcSumArray[ADCSUMARRAY_SIZE - 2];
 1417              		.loc 1 481 3 is_stmt 1 view .LVU350
 1418              		.loc 1 481 57 is_stmt 0 view .LVU351
ARM GAS  /tmp/ccnB5ISM.s 			page 36


 1419 007e 434B     		ldr	r3, .L97+28
 1420 0080 1B68     		ldr	r3, [r3]
 1421              		.loc 1 481 44 view .LVU352
 1422 0082 A0EB030A 		sub	r10, r0, r3
 1423              		.loc 1 481 8 view .LVU353
 1424 0086 444B     		ldr	r3, .L97+40
 1425 0088 C3F800A0 		str	r10, [r3]
 482:Core/Src/mainLoop.c ****   dletDac = kP * ((float_t)pidP) + kI * ((float_t)pidI) + kD * ((float_t)pidD);
 1426              		.loc 1 482 3 is_stmt 1 view .LVU354
 1427              		.loc 1 482 19 is_stmt 0 view .LVU355
 1428 008c 07EE900A 		vmov	s15, r0	@ int
 1429 0090 F8EEE77A 		vcvt.f32.s32	s15, s15
 1430 0094 17EE900A 		vmov	r0, s15
 1431              	.LVL153:
 1432              		.loc 1 482 19 view .LVU356
 1433 0098 FFF7FEFF 		bl	__aeabi_f2d
 1434              	.LVL154:
 1435              		.loc 1 482 16 view .LVU357
 1436 009c 34A3     		adr	r3, .L97
 1437 009e D3E90023 		ldrd	r2, [r3]
 1438 00a2 FFF7FEFF 		bl	__aeabi_dmul
 1439              	.LVL155:
 1440 00a6 8046     		mov	r8, r0
 1441 00a8 8946     		mov	r9, r1
 1442              		.loc 1 482 42 view .LVU358
 1443 00aa 07EE907A 		vmov	s15, r7	@ int
 1444 00ae F8EEE77A 		vcvt.f32.s32	s15, s15
 1445 00b2 17EE900A 		vmov	r0, s15
 1446 00b6 FFF7FEFF 		bl	__aeabi_f2d
 1447              	.LVL156:
 1448              		.loc 1 482 39 view .LVU359
 1449 00ba 2FA3     		adr	r3, .L97+8
 1450 00bc D3E90023 		ldrd	r2, [r3]
 1451 00c0 FFF7FEFF 		bl	__aeabi_dmul
 1452              	.LVL157:
 1453 00c4 0246     		mov	r2, r0
 1454 00c6 0B46     		mov	r3, r1
 1455              		.loc 1 482 34 view .LVU360
 1456 00c8 4046     		mov	r0, r8
 1457 00ca 4946     		mov	r1, r9
 1458 00cc FFF7FEFF 		bl	__aeabi_dadd
 1459              	.LVL158:
 1460 00d0 8046     		mov	r8, r0
 1461 00d2 8946     		mov	r9, r1
 1462              		.loc 1 482 65 view .LVU361
 1463 00d4 07EE90AA 		vmov	s15, r10	@ int
 1464 00d8 F8EEE77A 		vcvt.f32.s32	s15, s15
 1465 00dc 17EE900A 		vmov	r0, s15
 1466 00e0 FFF7FEFF 		bl	__aeabi_f2d
 1467              	.LVL159:
 1468              		.loc 1 482 62 view .LVU362
 1469 00e4 26A3     		adr	r3, .L97+16
 1470 00e6 D3E90023 		ldrd	r2, [r3]
 1471 00ea FFF7FEFF 		bl	__aeabi_dmul
 1472              	.LVL160:
 1473 00ee 0246     		mov	r2, r0
 1474 00f0 0B46     		mov	r3, r1
ARM GAS  /tmp/ccnB5ISM.s 			page 37


 1475              		.loc 1 482 57 view .LVU363
 1476 00f2 4046     		mov	r0, r8
 1477 00f4 4946     		mov	r1, r9
 1478 00f6 FFF7FEFF 		bl	__aeabi_dadd
 1479              	.LVL161:
 1480 00fa FFF7FEFF 		bl	__aeabi_d2f
 1481              	.LVL162:
 1482 00fe 07EE900A 		vmov	s15, r0
 1483              		.loc 1 482 11 view .LVU364
 1484 0102 264A     		ldr	r2, .L97+44
 1485 0104 1060     		str	r0, [r2]	@ float
 483:Core/Src/mainLoop.c ****   tmpUint32 = abs((int32_t)(dletDac));
 1486              		.loc 1 483 3 is_stmt 1 view .LVU365
 1487              		.loc 1 483 19 is_stmt 0 view .LVU366
 1488 0106 FDEEE77A 		vcvt.s32.f32	s15, s15
 1489              	.LVL163:
 484:Core/Src/mainLoop.c ****   (*dacP) += (int32_t)(dletDac);
 1490              		.loc 1 484 3 is_stmt 1 view .LVU367
 1491              		.loc 1 484 11 is_stmt 0 view .LVU368
 1492 010a 3368     		ldr	r3, [r6]
 1493 010c 17EE901A 		vmov	r1, s15	@ int
 1494 0110 0B44     		add	r3, r3, r1
 1495 0112 3360     		str	r3, [r6]
 485:Core/Src/mainLoop.c ****   (*dacN) -= (int32_t)(dletDac);
 1496              		.loc 1 485 3 is_stmt 1 view .LVU369
 1497              		.loc 1 485 14 is_stmt 0 view .LVU370
 1498 0114 D2ED007A 		vldr.32	s15, [r2]
 1499              	.LVL164:
 1500              		.loc 1 485 14 view .LVU371
 1501 0118 FDEEE77A 		vcvt.s32.f32	s15, s15
 1502              		.loc 1 485 11 view .LVU372
 1503 011c 2B68     		ldr	r3, [r5]
 1504 011e 17EE902A 		vmov	r2, s15	@ int
 1505 0122 9B1A     		subs	r3, r3, r2
 1506 0124 2B60     		str	r3, [r5]
 486:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1, (*dacP) >> 12, max_outenable);
 1507              		.loc 1 486 3 is_stmt 1 view .LVU373
 1508              		.loc 1 486 29 is_stmt 0 view .LVU374
 1509 0126 3168     		ldr	r1, [r6]
 1510              	.LVL165:
 1511              		.loc 1 486 3 view .LVU375
 1512 0128 0122     		movs	r2, #1
 1513 012a 090B     		lsrs	r1, r1, #12
 1514 012c 0620     		movs	r0, #6
 1515              	.LVL166:
 1516              		.loc 1 486 3 view .LVU376
 1517 012e FFF7FEFF 		bl	max5307_w_chanel
 1518              	.LVL167:
 487:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1K, ((*dacP) & 0xfff), max_outenable);
 1519              		.loc 1 487 3 is_stmt 1 view .LVU377
 1520              		.loc 1 487 31 is_stmt 0 view .LVU378
 1521 0132 3168     		ldr	r1, [r6]
 1522              		.loc 1 487 3 view .LVU379
 1523 0134 0122     		movs	r2, #1
 1524 0136 C1F30B01 		ubfx	r1, r1, #0, #12
 1525 013a 0720     		movs	r0, #7
 1526 013c FFF7FEFF 		bl	max5307_w_chanel
ARM GAS  /tmp/ccnB5ISM.s 			page 38


 1527              	.LVL168:
 488:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1, (*dacN) >> 12, max_outenable);
 1528              		.loc 1 488 3 is_stmt 1 view .LVU380
 1529              		.loc 1 488 29 is_stmt 0 view .LVU381
 1530 0140 2968     		ldr	r1, [r5]
 1531              		.loc 1 488 3 view .LVU382
 1532 0142 0122     		movs	r2, #1
 1533 0144 090B     		lsrs	r1, r1, #12
 1534 0146 0520     		movs	r0, #5
 1535 0148 FFF7FEFF 		bl	max5307_w_chanel
 1536              	.LVL169:
 489:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1K, ((*dacN) & 0xfff), max_outenable);
 1537              		.loc 1 489 3 is_stmt 1 view .LVU383
 1538              		.loc 1 489 31 is_stmt 0 view .LVU384
 1539 014c 2968     		ldr	r1, [r5]
 1540              		.loc 1 489 3 view .LVU385
 1541 014e 0122     		movs	r2, #1
 1542 0150 C1F30B01 		ubfx	r1, r1, #0, #12
 1543 0154 0420     		movs	r0, #4
 1544 0156 FFF7FEFF 		bl	max5307_w_chanel
 1545              	.LVL170:
 490:Core/Src/mainLoop.c **** 
 491:Core/Src/mainLoop.c ****   // clear buf
 492:Core/Src/mainLoop.c ****   for (i = 0; i < ADC_BUF_T_SIZE; i++) {
 1546              		.loc 1 492 3 is_stmt 1 view .LVU386
 1547              		.loc 1 492 10 is_stmt 0 view .LVU387
 1548 015a 0023     		movs	r3, #0
 1549              	.LVL171:
 1550              	.L93:
 1551              		.loc 1 492 15 is_stmt 1 discriminator 1 view .LVU388
 1552              		.loc 1 492 3 is_stmt 0 discriminator 1 view .LVU389
 1553 015c 632B     		cmp	r3, #99
 1554 015e 05DC     		bgt	.L96
 493:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1555              		.loc 1 493 5 is_stmt 1 discriminator 3 view .LVU390
 1556              		.loc 1 493 21 is_stmt 0 discriminator 3 view .LVU391
 1557 0160 04EB8302 		add	r2, r4, r3, lsl #2
 1558 0164 0021     		movs	r1, #0
 1559 0166 5160     		str	r1, [r2, #4]
 492:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1560              		.loc 1 492 35 is_stmt 1 discriminator 3 view .LVU392
 492:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1561              		.loc 1 492 36 is_stmt 0 discriminator 3 view .LVU393
 1562 0168 0133     		adds	r3, r3, #1
 1563              	.LVL172:
 492:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 1564              		.loc 1 492 36 discriminator 3 view .LVU394
 1565 016a F7E7     		b	.L93
 1566              	.L96:
 494:Core/Src/mainLoop.c ****   }
 495:Core/Src/mainLoop.c **** }
 1567              		.loc 1 495 1 view .LVU395
 1568 016c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1569              	.LVL173:
 1570              	.L98:
 1571              		.loc 1 495 1 view .LVU396
 1572              		.align	3
ARM GAS  /tmp/ccnB5ISM.s 			page 39


 1573              	.L97:
 1574 0170 FCA9F1D2 		.word	3539053052
 1575 0174 4D6240BF 		.word	-1086299571
 1576 0178 88855AD3 		.word	3545925000
 1577 017c BCE3743F 		.word	1064625084
 1578 0180 0AD7A370 		.word	1889785610
 1579 0184 3D0AF23F 		.word	1072826941
 1580 0188 1F85EB51 		.word	1374389535
 1581 018c 00000000 		.word	adcSumArray
 1582 0190 00000000 		.word	.LANCHOR4
 1583 0194 00000000 		.word	.LANCHOR5
 1584 0198 00000000 		.word	.LANCHOR6
 1585 019c 00000000 		.word	.LANCHOR7
 1586              		.cfi_endproc
 1587              	.LFE145:
 1589              		.section	.text.insertMeanVal,"ax",%progbits
 1590              		.align	1
 1591              		.global	insertMeanVal
 1592              		.syntax unified
 1593              		.thumb
 1594              		.thumb_func
 1595              		.fpu fpv4-sp-d16
 1597              	insertMeanVal:
 1598              	.LVL174:
 1599              	.LFB146:
 496:Core/Src/mainLoop.c **** 
 497:Core/Src/mainLoop.c **** #define VALMEANARRAY_N 20
 498:Core/Src/mainLoop.c **** int32_t valMeanArray[VALMEANARRAY_N];
 499:Core/Src/mainLoop.c **** // ËÆ°ÁÆóvalMeanArrayÂ∫èÂàó‰∏≠ÁöÑÂùáÂÄºÂíåÂ∑ÆÂÄºÔºåËøôÁõ∏ÂΩì‰∏éadc‚ÄîdmaÈááÊ†∑200Ê¨°ÁöÑÂπ≥ÂùáÂ§ÑÁêÜ
 500:Core/Src/mainLoop.c **** void insertMeanVal(int32_t val, struct adc_buf_t *adc_buf) {
 1600              		.loc 1 500 60 is_stmt 1 view -0
 1601              		.cfi_startproc
 1602              		@ args = 0, pretend = 0, frame = 0
 1603              		@ frame_needed = 0, uses_anonymous_args = 0
 1604              		@ link register save eliminated.
 1605              		.loc 1 500 60 is_stmt 0 view .LVU398
 1606 0000 30B4     		push	{r4, r5}
 1607              	.LCFI15:
 1608              		.cfi_def_cfa_offset 8
 1609              		.cfi_offset 4, -8
 1610              		.cfi_offset 5, -4
 501:Core/Src/mainLoop.c ****   static int32_t currentP = 0;
 1611              		.loc 1 501 3 is_stmt 1 view .LVU399
 502:Core/Src/mainLoop.c ****   int32_t i = 0, sumval = 0, difval = 0;
 1612              		.loc 1 502 3 view .LVU400
 1613              	.LVL175:
 503:Core/Src/mainLoop.c ****   valMeanArray[currentP++] = val;
 1614              		.loc 1 503 3 view .LVU401
 1615              		.loc 1 503 24 is_stmt 0 view .LVU402
 1616 0002 1A4C     		ldr	r4, .L104
 1617 0004 2368     		ldr	r3, [r4]
 1618 0006 5A1C     		adds	r2, r3, #1
 1619              		.loc 1 503 28 view .LVU403
 1620 0008 194D     		ldr	r5, .L104+4
 1621 000a 45F82300 		str	r0, [r5, r3, lsl #2]
 504:Core/Src/mainLoop.c ****   currentP = currentP % VALMEANARRAY_N;
 1622              		.loc 1 504 3 is_stmt 1 view .LVU404
ARM GAS  /tmp/ccnB5ISM.s 			page 40


 1623              		.loc 1 504 23 is_stmt 0 view .LVU405
 1624 000e 1948     		ldr	r0, .L104+8
 1625              	.LVL176:
 1626              		.loc 1 504 23 view .LVU406
 1627 0010 80FB0230 		smull	r3, r0, r0, r2
 1628              	.LVL177:
 1629              		.loc 1 504 23 view .LVU407
 1630 0014 D317     		asrs	r3, r2, #31
 1631 0016 C3EBE003 		rsb	r3, r3, r0, asr #3
 1632 001a 03EB8303 		add	r3, r3, r3, lsl #2
 1633 001e A2EB8303 		sub	r3, r2, r3, lsl #2
 1634              		.loc 1 504 12 view .LVU408
 1635 0022 2360     		str	r3, [r4]
 1636              	.LVL178:
 505:Core/Src/mainLoop.c ****   for (i = 0; i < VALMEANARRAY_N - 1; i++) {
 1637              		.loc 1 505 3 is_stmt 1 view .LVU409
 502:Core/Src/mainLoop.c ****   valMeanArray[currentP++] = val;
 1638              		.loc 1 502 30 is_stmt 0 view .LVU410
 1639 0024 0020     		movs	r0, #0
 502:Core/Src/mainLoop.c ****   valMeanArray[currentP++] = val;
 1640              		.loc 1 502 18 view .LVU411
 1641 0026 0446     		mov	r4, r0
 1642              		.loc 1 505 10 view .LVU412
 1643 0028 0246     		mov	r2, r0
 1644              	.LVL179:
 1645              	.L100:
 1646              		.loc 1 505 15 is_stmt 1 discriminator 1 view .LVU413
 1647              		.loc 1 505 3 is_stmt 0 discriminator 1 view .LVU414
 1648 002a 122A     		cmp	r2, #18
 1649 002c 0CDC     		bgt	.L103
 1650              	.LBB4:
 506:Core/Src/mainLoop.c ****     sumval += valMeanArray[i];
 1651              		.loc 1 506 5 is_stmt 1 discriminator 3 view .LVU415
 1652              		.loc 1 506 27 is_stmt 0 discriminator 3 view .LVU416
 1653 002e 104B     		ldr	r3, .L104+4
 1654 0030 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1655              		.loc 1 506 12 discriminator 3 view .LVU417
 1656 0034 1C44     		add	r4, r4, r3
 1657              	.LVL180:
 507:Core/Src/mainLoop.c ****     difval += abs(valMeanArray[i] - adc_buf->adcMeanVal);
 1658              		.loc 1 507 5 is_stmt 1 discriminator 3 view .LVU418
 1659              		.loc 1 507 44 is_stmt 0 discriminator 3 view .LVU419
 1660 0036 D1F89451 		ldr	r5, [r1, #404]
 1661              		.loc 1 507 35 discriminator 3 view .LVU420
 1662 003a 5B1B     		subs	r3, r3, r5
 1663              		.loc 1 507 15 discriminator 3 view .LVU421
 1664 003c 002B     		cmp	r3, #0
 1665 003e B8BF     		it	lt
 1666 0040 5B42     		rsblt	r3, r3, #0
 1667              		.loc 1 507 12 discriminator 3 view .LVU422
 1668 0042 1844     		add	r0, r0, r3
 1669              	.LVL181:
 1670              		.loc 1 507 12 discriminator 3 view .LVU423
 1671              	.LBE4:
 505:Core/Src/mainLoop.c ****     sumval += valMeanArray[i];
 1672              		.loc 1 505 39 is_stmt 1 discriminator 3 view .LVU424
 505:Core/Src/mainLoop.c ****     sumval += valMeanArray[i];
ARM GAS  /tmp/ccnB5ISM.s 			page 41


 1673              		.loc 1 505 40 is_stmt 0 discriminator 3 view .LVU425
 1674 0044 0132     		adds	r2, r2, #1
 1675              	.LVL182:
 505:Core/Src/mainLoop.c ****     sumval += valMeanArray[i];
 1676              		.loc 1 505 40 discriminator 3 view .LVU426
 1677 0046 F0E7     		b	.L100
 1678              	.L103:
 508:Core/Src/mainLoop.c ****   }
 509:Core/Src/mainLoop.c ****   sumval = sumval / VALMEANARRAY_N;
 1679              		.loc 1 509 3 is_stmt 1 view .LVU427
 1680              		.loc 1 509 10 is_stmt 0 view .LVU428
 1681 0048 0A4B     		ldr	r3, .L104+8
 1682 004a 83FB0452 		smull	r5, r2, r3, r4
 1683              	.LVL183:
 1684              		.loc 1 509 10 view .LVU429
 1685 004e E417     		asrs	r4, r4, #31
 1686              	.LVL184:
 1687              		.loc 1 509 10 view .LVU430
 1688 0050 C4EBE204 		rsb	r4, r4, r2, asr #3
 1689              	.LVL185:
 510:Core/Src/mainLoop.c ****   difval = difval / VALMEANARRAY_N;
 1690              		.loc 1 510 3 is_stmt 1 view .LVU431
 1691              		.loc 1 510 10 is_stmt 0 view .LVU432
 1692 0054 83FB0023 		smull	r2, r3, r3, r0
 1693 0058 C017     		asrs	r0, r0, #31
 1694              	.LVL186:
 1695              		.loc 1 510 10 view .LVU433
 1696 005a C0EBE300 		rsb	r0, r0, r3, asr #3
 1697              	.LVL187:
 511:Core/Src/mainLoop.c ****   adc_buf->adcMeanVal = sumval;
 1698              		.loc 1 511 3 is_stmt 1 view .LVU434
 1699              		.loc 1 511 23 is_stmt 0 view .LVU435
 1700 005e C1F89441 		str	r4, [r1, #404]
 512:Core/Src/mainLoop.c ****   adc_buf->adcDif2 = difval;
 1701              		.loc 1 512 3 is_stmt 1 view .LVU436
 1702              		.loc 1 512 20 is_stmt 0 view .LVU437
 1703 0062 C1F89801 		str	r0, [r1, #408]
 513:Core/Src/mainLoop.c **** }
 1704              		.loc 1 513 1 view .LVU438
 1705 0066 30BC     		pop	{r4, r5}
 1706              	.LCFI16:
 1707              		.cfi_restore 5
 1708              		.cfi_restore 4
 1709              		.cfi_def_cfa_offset 0
 1710              	.LVL188:
 1711              		.loc 1 513 1 view .LVU439
 1712 0068 7047     		bx	lr
 1713              	.L105:
 1714 006a 00BF     		.align	2
 1715              	.L104:
 1716 006c 00000000 		.word	.LANCHOR8
 1717 0070 00000000 		.word	valMeanArray
 1718 0074 67666666 		.word	1717986919
 1719              		.cfi_endproc
 1720              	.LFE146:
 1722              		.section	.text.cal_cp_output_dac_ext,"ax",%progbits
 1723              		.align	1
ARM GAS  /tmp/ccnB5ISM.s 			page 42


 1724              		.global	cal_cp_output_dac_ext
 1725              		.syntax unified
 1726              		.thumb
 1727              		.thumb_func
 1728              		.fpu fpv4-sp-d16
 1730              	cal_cp_output_dac_ext:
 1731              	.LVL189:
 1732              	.LFB147:
 514:Core/Src/mainLoop.c **** struct log_para_t
 515:Core/Src/mainLoop.c ****     logPara;  // Áî®‰∫éÂêëhostÂèëÈÄÅË∞ÉËØïËøáÁ®ãÊï∞ÊçÆÔºåÂú®cal_cp_output_dac_extËøáÁ®ã‰∏≠‰øùÂ≠ò
 516:Core/Src/mainLoop.c **** int32_t meanVal_view = 0;
 517:Core/Src/mainLoop.c **** int32_t difVal_view = 0;
 518:Core/Src/mainLoop.c **** #define RUN_30S 180000  // about 90S
 519:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext(struct adc_buf_t *adc_buf, uint32_t *dacP,
 520:Core/Src/mainLoop.c ****                            uint32_t *dacN, int32_t runTime500us) {
 1733              		.loc 1 520 66 is_stmt 1 view -0
 1734              		.cfi_startproc
 1735              		@ args = 0, pretend = 0, frame = 0
 1736              		@ frame_needed = 0, uses_anonymous_args = 0
 1737              		.loc 1 520 66 is_stmt 0 view .LVU441
 1738 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1739              	.LCFI17:
 1740              		.cfi_def_cfa_offset 40
 1741              		.cfi_offset 3, -40
 1742              		.cfi_offset 4, -36
 1743              		.cfi_offset 5, -32
 1744              		.cfi_offset 6, -28
 1745              		.cfi_offset 7, -24
 1746              		.cfi_offset 8, -20
 1747              		.cfi_offset 9, -16
 1748              		.cfi_offset 10, -12
 1749              		.cfi_offset 11, -8
 1750              		.cfi_offset 14, -4
 1751 0004 0446     		mov	r4, r0
 1752 0006 0D46     		mov	r5, r1
 1753 0008 1646     		mov	r6, r2
 521:Core/Src/mainLoop.c ****   int32_t i = 0;
 1754              		.loc 1 521 3 is_stmt 1 view .LVU442
 1755              	.LVL190:
 522:Core/Src/mainLoop.c ****   int32_t N = ADC_BUF_T_SIZE;
 1756              		.loc 1 522 3 view .LVU443
 523:Core/Src/mainLoop.c ****   uint32_t allSum = 0;
 1757              		.loc 1 523 3 view .LVU444
 524:Core/Src/mainLoop.c ****   uint16_t forSaveAllSum = 0;
 1758              		.loc 1 524 3 view .LVU445
 525:Core/Src/mainLoop.c ****   uint32_t tmpUint32 = 0;
 1759              		.loc 1 525 3 view .LVU446
 526:Core/Src/mainLoop.c ****   int32_t deltNoisV = 0;
 1760              		.loc 1 526 3 view .LVU447
 527:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_SET);
 1761              		.loc 1 527 3 view .LVU448
 1762 000a 0122     		movs	r2, #1
 1763              	.LVL191:
 1764              		.loc 1 527 3 is_stmt 0 view .LVU449
 1765 000c 4FF48051 		mov	r1, #4096
 1766              	.LVL192:
 1767              		.loc 1 527 3 view .LVU450
ARM GAS  /tmp/ccnB5ISM.s 			page 43


 1768 0010 6B48     		ldr	r0, .L117+24
 1769              	.LVL193:
 1770              		.loc 1 527 3 view .LVU451
 1771 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1772              	.LVL194:
 528:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1773              		.loc 1 528 3 is_stmt 1 view .LVU452
 1774              		.loc 1 528 10 is_stmt 0 view .LVU453
 1775 0016 0023     		movs	r3, #0
 1776              		.loc 1 528 3 view .LVU454
 1777 0018 00E0     		b	.L107
 1778              	.LVL195:
 1779              	.L108:
 529:Core/Src/mainLoop.c ****     allSum += (uint32_t)((adc_buf->buf[i] & 0x0fff));
 1780              		.loc 1 529 5 is_stmt 1 discriminator 3 view .LVU455
 530:Core/Src/mainLoop.c ****     allSum += (uint32_t)(((adc_buf->buf[i] >> 16) & 0x0fff));
 1781              		.loc 1 530 5 discriminator 3 view .LVU456
 528:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1782              		.loc 1 528 22 discriminator 3 view .LVU457
 528:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1783              		.loc 1 528 23 is_stmt 0 discriminator 3 view .LVU458
 1784 001a 0133     		adds	r3, r3, #1
 1785              	.LVL196:
 1786              	.L107:
 528:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1787              		.loc 1 528 15 is_stmt 1 discriminator 1 view .LVU459
 528:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 1788              		.loc 1 528 3 is_stmt 0 discriminator 1 view .LVU460
 1789 001c 632B     		cmp	r3, #99
 1790 001e FCDD     		ble	.L108
 531:Core/Src/mainLoop.c ****   }
 532:Core/Src/mainLoop.c ****   allSum = allSum / (N * 2);
 1791              		.loc 1 532 3 is_stmt 1 view .LVU461
 533:Core/Src/mainLoop.c ****   allSum = (adc_buf->buf[99] & 0x0fff);
 1792              		.loc 1 533 3 view .LVU462
 1793              		.loc 1 533 25 is_stmt 0 view .LVU463
 1794 0020 D4F89071 		ldr	r7, [r4, #400]
 1795              		.loc 1 533 10 view .LVU464
 1796 0024 C7F30B08 		ubfx	r8, r7, #0, #12
 1797              	.LVL197:
 534:Core/Src/mainLoop.c ****   forSaveAllSum = allSum;
 1798              		.loc 1 534 3 is_stmt 1 view .LVU465
 1799              		.loc 1 534 17 is_stmt 0 view .LVU466
 1800 0028 4746     		mov	r7, r8
 1801              	.LVL198:
 535:Core/Src/mainLoop.c ****   allSum = allSum - TARGET_CPV;
 1802              		.loc 1 535 3 is_stmt 1 view .LVU467
 1803              		.loc 1 535 10 is_stmt 0 view .LVU468
 1804 002a A8F61848 		subw	r8, r8, #3096
 1805              	.LVL199:
 536:Core/Src/mainLoop.c ****   insertMeanVal(allSum, adc_buf);
 1806              		.loc 1 536 3 is_stmt 1 view .LVU469
 1807 002e 2146     		mov	r1, r4
 1808 0030 4046     		mov	r0, r8
 1809 0032 FFF7FEFF 		bl	insertMeanVal
 1810              	.LVL200:
 537:Core/Src/mainLoop.c ****   meanVal_view = adc_buf->adcMeanVal;
ARM GAS  /tmp/ccnB5ISM.s 			page 44


 1811              		.loc 1 537 3 view .LVU470
 1812              		.loc 1 537 25 is_stmt 0 view .LVU471
 1813 0036 D4F89421 		ldr	r2, [r4, #404]
 1814              		.loc 1 537 16 view .LVU472
 1815 003a 624B     		ldr	r3, .L117+28
 1816 003c 1A60     		str	r2, [r3]
 538:Core/Src/mainLoop.c ****   difVal_view = adc_buf->adcDif2;
 1817              		.loc 1 538 3 is_stmt 1 view .LVU473
 1818              		.loc 1 538 24 is_stmt 0 view .LVU474
 1819 003e D4F89821 		ldr	r2, [r4, #408]
 1820              		.loc 1 538 15 view .LVU475
 1821 0042 614B     		ldr	r3, .L117+32
 1822 0044 1A60     		str	r2, [r3]
 539:Core/Src/mainLoop.c **** 
 540:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE - 1; i++) {
 1823              		.loc 1 540 3 is_stmt 1 view .LVU476
 1824              	.LVL201:
 1825              		.loc 1 540 10 is_stmt 0 view .LVU477
 1826 0046 0023     		movs	r3, #0
 1827              	.LVL202:
 1828              	.L109:
 1829              		.loc 1 540 15 is_stmt 1 discriminator 1 view .LVU478
 1830              		.loc 1 540 3 is_stmt 0 discriminator 1 view .LVU479
 1831 0048 002B     		cmp	r3, #0
 1832 004a 09DD     		ble	.L110
 541:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 542:Core/Src/mainLoop.c ****   }
 543:Core/Src/mainLoop.c ****   adcSumArray[ADCSUMARRAY_SIZE - 1] = allSum;
 1833              		.loc 1 543 3 is_stmt 1 view .LVU480
 1834              		.loc 1 543 37 is_stmt 0 view .LVU481
 1835 004c 5F4B     		ldr	r3, .L117+36
 1836              	.LVL203:
 1837              		.loc 1 543 37 view .LVU482
 1838 004e C3F80480 		str	r8, [r3, #4]
 544:Core/Src/mainLoop.c **** 
 545:Core/Src/mainLoop.c ****   // pid
 546:Core/Src/mainLoop.c ****   pidP = adcSumArray[ADCSUMARRAY_SIZE - 1];
 1839              		.loc 1 546 3 is_stmt 1 view .LVU483
 1840              		.loc 1 546 8 is_stmt 0 view .LVU484
 1841 0052 5F4B     		ldr	r3, .L117+40
 1842 0054 C3F80080 		str	r8, [r3]
 547:Core/Src/mainLoop.c ****   pidI = 0;
 1843              		.loc 1 547 3 is_stmt 1 view .LVU485
 1844              		.loc 1 547 8 is_stmt 0 view .LVU486
 1845 0058 0023     		movs	r3, #0
 1846 005a 5E4A     		ldr	r2, .L117+44
 1847 005c 1360     		str	r3, [r2]
 548:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 1848              		.loc 1 548 3 is_stmt 1 view .LVU487
 1849              	.LVL204:
 1850              		.loc 1 548 3 is_stmt 0 view .LVU488
 1851 005e 0FE0     		b	.L111
 1852              	.LVL205:
 1853              	.L110:
 541:Core/Src/mainLoop.c ****   }
 1854              		.loc 1 541 5 is_stmt 1 discriminator 3 view .LVU489
 541:Core/Src/mainLoop.c ****   }
ARM GAS  /tmp/ccnB5ISM.s 			page 45


 1855              		.loc 1 541 36 is_stmt 0 discriminator 3 view .LVU490
 1856 0060 5A1C     		adds	r2, r3, #1
 541:Core/Src/mainLoop.c ****   }
 1857              		.loc 1 541 33 discriminator 3 view .LVU491
 1858 0062 5A49     		ldr	r1, .L117+36
 1859 0064 51F82200 		ldr	r0, [r1, r2, lsl #2]
 541:Core/Src/mainLoop.c ****   }
 1860              		.loc 1 541 20 discriminator 3 view .LVU492
 1861 0068 41F82300 		str	r0, [r1, r3, lsl #2]
 540:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1862              		.loc 1 540 41 is_stmt 1 discriminator 3 view .LVU493
 1863              	.LVL206:
 540:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 1864              		.loc 1 540 42 is_stmt 0 discriminator 3 view .LVU494
 1865 006c 1346     		mov	r3, r2
 1866 006e EBE7     		b	.L109
 1867              	.LVL207:
 1868              	.L112:
 549:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1869              		.loc 1 549 5 is_stmt 1 discriminator 3 view .LVU495
 1870              		.loc 1 549 24 is_stmt 0 discriminator 3 view .LVU496
 1871 0070 564A     		ldr	r2, .L117+36
 1872 0072 52F82300 		ldr	r0, [r2, r3, lsl #2]
 1873              		.loc 1 549 10 discriminator 3 view .LVU497
 1874 0076 5749     		ldr	r1, .L117+44
 1875 0078 0A68     		ldr	r2, [r1]
 1876 007a 0244     		add	r2, r2, r0
 1877 007c 0A60     		str	r2, [r1]
 548:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1878              		.loc 1 548 37 is_stmt 1 discriminator 3 view .LVU498
 548:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1879              		.loc 1 548 38 is_stmt 0 discriminator 3 view .LVU499
 1880 007e 0133     		adds	r3, r3, #1
 1881              	.LVL208:
 1882              	.L111:
 548:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1883              		.loc 1 548 15 is_stmt 1 discriminator 1 view .LVU500
 548:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 1884              		.loc 1 548 3 is_stmt 0 discriminator 1 view .LVU501
 1885 0080 012B     		cmp	r3, #1
 1886 0082 F5DD     		ble	.L112
 550:Core/Src/mainLoop.c ****   }
 551:Core/Src/mainLoop.c ****   pidI = pidI / ADCSUMARRAY_SIZE;
 1887              		.loc 1 551 3 is_stmt 1 view .LVU502
 1888              		.loc 1 551 15 is_stmt 0 view .LVU503
 1889 0084 534A     		ldr	r2, .L117+44
 1890 0086 1368     		ldr	r3, [r2]
 1891              	.LVL209:
 1892              		.loc 1 551 15 view .LVU504
 1893 0088 03EBD373 		add	r3, r3, r3, lsr #31
 1894 008c 4FEA630A 		asr	r10, r3, #1
 1895              		.loc 1 551 8 view .LVU505
 1896 0090 C2F800A0 		str	r10, [r2]
 552:Core/Src/mainLoop.c ****   pidD = adcSumArray[ADCSUMARRAY_SIZE - 1] - adcSumArray[ADCSUMARRAY_SIZE - 2];
 1897              		.loc 1 552 3 is_stmt 1 view .LVU506
 1898              		.loc 1 552 57 is_stmt 0 view .LVU507
 1899 0094 4D4B     		ldr	r3, .L117+36
ARM GAS  /tmp/ccnB5ISM.s 			page 46


 1900 0096 1B68     		ldr	r3, [r3]
 1901              		.loc 1 552 44 view .LVU508
 1902 0098 A8EB030B 		sub	fp, r8, r3
 1903              		.loc 1 552 8 view .LVU509
 1904 009c 4E4B     		ldr	r3, .L117+48
 1905 009e C3F800B0 		str	fp, [r3]
 553:Core/Src/mainLoop.c ****   dletDac = kP * ((float_t)pidP) + kI * ((float_t)pidI) + kD * ((float_t)pidD);
 1906              		.loc 1 553 3 is_stmt 1 view .LVU510
 1907              		.loc 1 553 19 is_stmt 0 view .LVU511
 1908 00a2 07EE908A 		vmov	s15, r8	@ int
 1909 00a6 F8EEE77A 		vcvt.f32.s32	s15, s15
 1910 00aa 17EE900A 		vmov	r0, s15
 1911 00ae FFF7FEFF 		bl	__aeabi_f2d
 1912              	.LVL210:
 1913              		.loc 1 553 16 view .LVU512
 1914 00b2 3DA3     		adr	r3, .L117
 1915 00b4 D3E90023 		ldrd	r2, [r3]
 1916 00b8 FFF7FEFF 		bl	__aeabi_dmul
 1917              	.LVL211:
 1918 00bc 8046     		mov	r8, r0
 1919 00be 8946     		mov	r9, r1
 1920              		.loc 1 553 42 view .LVU513
 1921 00c0 07EE90AA 		vmov	s15, r10	@ int
 1922 00c4 F8EEE77A 		vcvt.f32.s32	s15, s15
 1923 00c8 17EE900A 		vmov	r0, s15
 1924 00cc FFF7FEFF 		bl	__aeabi_f2d
 1925              	.LVL212:
 1926              		.loc 1 553 39 view .LVU514
 1927 00d0 37A3     		adr	r3, .L117+8
 1928 00d2 D3E90023 		ldrd	r2, [r3]
 1929 00d6 FFF7FEFF 		bl	__aeabi_dmul
 1930              	.LVL213:
 1931 00da 0246     		mov	r2, r0
 1932 00dc 0B46     		mov	r3, r1
 1933              		.loc 1 553 34 view .LVU515
 1934 00de 4046     		mov	r0, r8
 1935 00e0 4946     		mov	r1, r9
 1936 00e2 FFF7FEFF 		bl	__aeabi_dadd
 1937              	.LVL214:
 1938 00e6 8046     		mov	r8, r0
 1939 00e8 8946     		mov	r9, r1
 1940              		.loc 1 553 65 view .LVU516
 1941 00ea 07EE90BA 		vmov	s15, fp	@ int
 1942 00ee F8EEE77A 		vcvt.f32.s32	s15, s15
 1943 00f2 17EE900A 		vmov	r0, s15
 1944 00f6 FFF7FEFF 		bl	__aeabi_f2d
 1945              	.LVL215:
 1946              		.loc 1 553 62 view .LVU517
 1947 00fa 2FA3     		adr	r3, .L117+16
 1948 00fc D3E90023 		ldrd	r2, [r3]
 1949 0100 FFF7FEFF 		bl	__aeabi_dmul
 1950              	.LVL216:
 1951 0104 0246     		mov	r2, r0
 1952 0106 0B46     		mov	r3, r1
 1953              		.loc 1 553 57 view .LVU518
 1954 0108 4046     		mov	r0, r8
 1955 010a 4946     		mov	r1, r9
ARM GAS  /tmp/ccnB5ISM.s 			page 47


 1956 010c FFF7FEFF 		bl	__aeabi_dadd
 1957              	.LVL217:
 1958 0110 FFF7FEFF 		bl	__aeabi_d2f
 1959              	.LVL218:
 1960 0114 07EE900A 		vmov	s15, r0
 1961              		.loc 1 553 11 view .LVU519
 1962 0118 304A     		ldr	r2, .L117+52
 1963 011a 1060     		str	r0, [r2]	@ float
 554:Core/Src/mainLoop.c ****   tmpUint32 = abs((int32_t)(dletDac));
 1964              		.loc 1 554 3 is_stmt 1 view .LVU520
 1965              		.loc 1 554 19 is_stmt 0 view .LVU521
 1966 011c FDEEE77A 		vcvt.s32.f32	s15, s15
 1967              	.LVL219:
 555:Core/Src/mainLoop.c ****   // if(runTime500us < RUN_30S) { //nomal operate
 556:Core/Src/mainLoop.c ****   // 	deltNoisV = 0;
 557:Core/Src/mainLoop.c ****   // }else { //add noise
 558:Core/Src/mainLoop.c ****   // 	if((runTime500us&0x01) != 0){ //2ms
 559:Core/Src/mainLoop.c ****   // 		deltNoisV = 3;
 560:Core/Src/mainLoop.c ****   // 		HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 561:Core/Src/mainLoop.c ****   // 	}else{
 562:Core/Src/mainLoop.c ****   // 		deltNoisV = 0;
 563:Core/Src/mainLoop.c ****   // 		HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 564:Core/Src/mainLoop.c ****   // 	}
 565:Core/Src/mainLoop.c ****   // }
 566:Core/Src/mainLoop.c ****   deltNoisV = 0;
 1968              		.loc 1 566 3 is_stmt 1 view .LVU522
 567:Core/Src/mainLoop.c ****   (*dacP) += (int32_t)(dletDac);
 1969              		.loc 1 567 3 view .LVU523
 1970              		.loc 1 567 11 is_stmt 0 view .LVU524
 1971 0120 2B68     		ldr	r3, [r5]
 1972 0122 17EE901A 		vmov	r1, s15	@ int
 1973 0126 0B44     		add	r3, r3, r1
 1974 0128 2B60     		str	r3, [r5]
 568:Core/Src/mainLoop.c ****   (*dacN) -= (int32_t)(dletDac);
 1975              		.loc 1 568 3 is_stmt 1 view .LVU525
 1976              		.loc 1 568 14 is_stmt 0 view .LVU526
 1977 012a D2ED007A 		vldr.32	s15, [r2]
 1978              	.LVL220:
 1979              		.loc 1 568 14 view .LVU527
 1980 012e FDEEE77A 		vcvt.s32.f32	s15, s15
 1981              		.loc 1 568 11 view .LVU528
 1982 0132 3368     		ldr	r3, [r6]
 1983 0134 17EE902A 		vmov	r2, s15	@ int
 1984 0138 9B1A     		subs	r3, r3, r2
 1985 013a 3360     		str	r3, [r6]
 569:Core/Src/mainLoop.c ****   (*dacP) += deltNoisV;
 1986              		.loc 1 569 3 is_stmt 1 view .LVU529
 1987              		.loc 1 569 11 is_stmt 0 view .LVU530
 1988 013c 2968     		ldr	r1, [r5]
 1989              	.LVL221:
 570:Core/Src/mainLoop.c ****   (*dacN) -= deltNoisV;
 1990              		.loc 1 570 3 is_stmt 1 view .LVU531
 571:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1, (*dacP) >> 12, max_outenable);
 1991              		.loc 1 571 3 view .LVU532
 1992 013e 0122     		movs	r2, #1
 1993 0140 090B     		lsrs	r1, r1, #12
 1994 0142 0620     		movs	r0, #6
ARM GAS  /tmp/ccnB5ISM.s 			page 48


 1995              	.LVL222:
 1996              		.loc 1 571 3 is_stmt 0 view .LVU533
 1997 0144 FFF7FEFF 		bl	max5307_w_chanel
 1998              	.LVL223:
 572:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1K, ((*dacP) & 0xfff), max_outenable);
 1999              		.loc 1 572 3 is_stmt 1 view .LVU534
 2000              		.loc 1 572 31 is_stmt 0 view .LVU535
 2001 0148 2968     		ldr	r1, [r5]
 2002              		.loc 1 572 3 view .LVU536
 2003 014a 0122     		movs	r2, #1
 2004 014c C1F30B01 		ubfx	r1, r1, #0, #12
 2005 0150 0720     		movs	r0, #7
 2006 0152 FFF7FEFF 		bl	max5307_w_chanel
 2007              	.LVL224:
 573:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1, (*dacN) >> 12, max_outenable);
 2008              		.loc 1 573 3 is_stmt 1 view .LVU537
 2009              		.loc 1 573 29 is_stmt 0 view .LVU538
 2010 0156 3168     		ldr	r1, [r6]
 2011              		.loc 1 573 3 view .LVU539
 2012 0158 0122     		movs	r2, #1
 2013 015a 090B     		lsrs	r1, r1, #12
 2014 015c 0520     		movs	r0, #5
 2015 015e FFF7FEFF 		bl	max5307_w_chanel
 2016              	.LVL225:
 574:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1K, ((*dacN) & 0xfff), max_outenable);
 2017              		.loc 1 574 3 is_stmt 1 view .LVU540
 2018              		.loc 1 574 31 is_stmt 0 view .LVU541
 2019 0162 3168     		ldr	r1, [r6]
 2020              		.loc 1 574 3 view .LVU542
 2021 0164 0122     		movs	r2, #1
 2022 0166 C1F30B01 		ubfx	r1, r1, #0, #12
 2023 016a 0420     		movs	r0, #4
 2024 016c FFF7FEFF 		bl	max5307_w_chanel
 2025              	.LVL226:
 575:Core/Src/mainLoop.c **** 
 576:Core/Src/mainLoop.c ****   // clear buf
 577:Core/Src/mainLoop.c ****   for (i = 0; i < ADC_BUF_T_SIZE; i++) {
 2026              		.loc 1 577 3 is_stmt 1 view .LVU543
 2027              		.loc 1 577 10 is_stmt 0 view .LVU544
 2028 0170 0023     		movs	r3, #0
 2029              	.LVL227:
 2030              	.L113:
 2031              		.loc 1 577 15 is_stmt 1 discriminator 1 view .LVU545
 2032              		.loc 1 577 3 is_stmt 0 discriminator 1 view .LVU546
 2033 0172 632B     		cmp	r3, #99
 2034 0174 05DC     		bgt	.L116
 578:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2035              		.loc 1 578 5 is_stmt 1 discriminator 3 view .LVU547
 2036              		.loc 1 578 21 is_stmt 0 discriminator 3 view .LVU548
 2037 0176 04EB8302 		add	r2, r4, r3, lsl #2
 2038 017a 0021     		movs	r1, #0
 2039 017c 5160     		str	r1, [r2, #4]
 577:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2040              		.loc 1 577 35 is_stmt 1 discriminator 3 view .LVU549
 577:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2041              		.loc 1 577 36 is_stmt 0 discriminator 3 view .LVU550
 2042 017e 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccnB5ISM.s 			page 49


 2043              	.LVL228:
 577:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2044              		.loc 1 577 36 discriminator 3 view .LVU551
 2045 0180 F7E7     		b	.L113
 2046              	.L116:
 579:Core/Src/mainLoop.c ****   }
 580:Core/Src/mainLoop.c ****   logPara.mean_adc_val = forSaveAllSum;
 2047              		.loc 1 580 3 is_stmt 1 view .LVU552
 2048              		.loc 1 580 24 is_stmt 0 view .LVU553
 2049 0182 174B     		ldr	r3, .L117+56
 2050              	.LVL229:
 2051              		.loc 1 580 24 view .LVU554
 2052 0184 A3F80170 		strh	r7, [r3, #1]	@ unaligned
 581:Core/Src/mainLoop.c ****   logPara.dac_val_n = (*dacN);
 2053              		.loc 1 581 3 is_stmt 1 view .LVU555
 2054              		.loc 1 581 24 is_stmt 0 view .LVU556
 2055 0188 3268     		ldr	r2, [r6]
 2056              		.loc 1 581 21 view .LVU557
 2057 018a C3F80720 		str	r2, [r3, #7]	@ unaligned
 582:Core/Src/mainLoop.c ****   logPara.dac_val_p = (*dacP);
 2058              		.loc 1 582 3 is_stmt 1 view .LVU558
 2059              		.loc 1 582 24 is_stmt 0 view .LVU559
 2060 018e 2A68     		ldr	r2, [r5]
 2061              		.loc 1 582 21 view .LVU560
 2062 0190 C3F80320 		str	r2, [r3, #3]	@ unaligned
 583:Core/Src/mainLoop.c ****   // HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 584:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_RESET);
 2063              		.loc 1 584 3 is_stmt 1 view .LVU561
 2064 0194 0022     		movs	r2, #0
 2065 0196 4FF48051 		mov	r1, #4096
 2066 019a 0948     		ldr	r0, .L117+24
 2067 019c FFF7FEFF 		bl	HAL_GPIO_WritePin
 2068              	.LVL230:
 585:Core/Src/mainLoop.c **** }
 2069              		.loc 1 585 1 is_stmt 0 view .LVU562
 2070 01a0 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2071              	.LVL231:
 2072              	.L118:
 2073              		.loc 1 585 1 view .LVU563
 2074 01a4 AFF30080 		.align	3
 2075              	.L117:
 2076 01a8 FCA9F1D2 		.word	3539053052
 2077 01ac 4D6240BF 		.word	-1086299571
 2078 01b0 88855AD3 		.word	3545925000
 2079 01b4 BCE3743F 		.word	1064625084
 2080 01b8 0AD7A370 		.word	1889785610
 2081 01bc 3D0AF23F 		.word	1072826941
 2082 01c0 00080240 		.word	1073874944
 2083 01c4 00000000 		.word	.LANCHOR9
 2084 01c8 00000000 		.word	.LANCHOR10
 2085 01cc 00000000 		.word	adcSumArray
 2086 01d0 00000000 		.word	.LANCHOR4
 2087 01d4 00000000 		.word	.LANCHOR5
 2088 01d8 00000000 		.word	.LANCHOR6
 2089 01dc 00000000 		.word	.LANCHOR7
 2090 01e0 00000000 		.word	logPara
 2091              		.cfi_endproc
ARM GAS  /tmp/ccnB5ISM.s 			page 50


 2092              	.LFE147:
 2094              		.global	__aeabi_d2iz
 2095              		.section	.text.cal_cp_output_dac_ext_1,"ax",%progbits
 2096              		.align	1
 2097              		.global	cal_cp_output_dac_ext_1
 2098              		.syntax unified
 2099              		.thumb
 2100              		.thumb_func
 2101              		.fpu fpv4-sp-d16
 2103              	cal_cp_output_dac_ext_1:
 2104              	.LVL232:
 2105              	.LFB148:
 586:Core/Src/mainLoop.c **** 
 587:Core/Src/mainLoop.c **** uint16_t forSaveAllSum = 0;
 588:Core/Src/mainLoop.c **** static double nowXn = 0;
 589:Core/Src/mainLoop.c **** static double lastXn = 0;
 590:Core/Src/mainLoop.c **** // 2024.4.26Ë∞ÉÊï¥Ë∑üË∏™ÁÆóÊ≥ïÔºå‰ª•ÂâçÁöÑÁÆóÊ≥ïÊúâÂèØËÉΩ‰ºöÂá∫Áé∞ÂêåÊ≠•Áé∞Ë±°
 591:Core/Src/mainLoop.c **** #define TARGET_CPV_1 (2048)
 592:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext_1(struct adc_buf_t *adc_buf, uint32_t *dacP,
 593:Core/Src/mainLoop.c ****                              uint32_t *dacN, int32_t runTime500us) {
 2106              		.loc 1 593 68 is_stmt 1 view -0
 2107              		.cfi_startproc
 2108              		@ args = 0, pretend = 0, frame = 0
 2109              		@ frame_needed = 0, uses_anonymous_args = 0
 2110              		.loc 1 593 68 is_stmt 0 view .LVU565
 2111 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2112              	.LCFI18:
 2113              		.cfi_def_cfa_offset 32
 2114              		.cfi_offset 4, -32
 2115              		.cfi_offset 5, -28
 2116              		.cfi_offset 6, -24
 2117              		.cfi_offset 7, -20
 2118              		.cfi_offset 8, -16
 2119              		.cfi_offset 9, -12
 2120              		.cfi_offset 10, -8
 2121              		.cfi_offset 14, -4
 2122 0004 0646     		mov	r6, r0
 2123 0006 0F46     		mov	r7, r1
 2124 0008 9046     		mov	r8, r2
 594:Core/Src/mainLoop.c ****   int32_t i = 0;
 2125              		.loc 1 594 3 is_stmt 1 view .LVU566
 2126              	.LVL233:
 595:Core/Src/mainLoop.c ****   int32_t N = ADC_BUF_T_SIZE;
 2127              		.loc 1 595 3 view .LVU567
 596:Core/Src/mainLoop.c ****   int32_t allSum = 0;
 2128              		.loc 1 596 3 view .LVU568
 597:Core/Src/mainLoop.c **** 
 598:Core/Src/mainLoop.c ****   uint32_t tmpUint32 = 0;
 2129              		.loc 1 598 3 view .LVU569
 599:Core/Src/mainLoop.c ****   int32_t deltNoisV = 0;
 2130              		.loc 1 599 3 view .LVU570
 600:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_SET);
 2131              		.loc 1 600 3 view .LVU571
 2132 000a 0122     		movs	r2, #1
 2133              	.LVL234:
 2134              		.loc 1 600 3 is_stmt 0 view .LVU572
 2135 000c 4FF48051 		mov	r1, #4096
ARM GAS  /tmp/ccnB5ISM.s 			page 51


 2136              	.LVL235:
 2137              		.loc 1 600 3 view .LVU573
 2138 0010 9548     		ldr	r0, .L132+40
 2139              	.LVL236:
 2140              		.loc 1 600 3 view .LVU574
 2141 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2142              	.LVL237:
 601:Core/Src/mainLoop.c **** 
 602:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 2143              		.loc 1 602 3 is_stmt 1 view .LVU575
 596:Core/Src/mainLoop.c **** 
 2144              		.loc 1 596 11 is_stmt 0 view .LVU576
 2145 0016 0023     		movs	r3, #0
 2146              		.loc 1 602 10 view .LVU577
 2147 0018 1A46     		mov	r2, r3
 2148              		.loc 1 602 3 view .LVU578
 2149 001a 09E0     		b	.L120
 2150              	.LVL238:
 2151              	.L121:
 603:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2152              		.loc 1 603 5 is_stmt 1 discriminator 3 view .LVU579
 2153              		.loc 1 603 38 is_stmt 0 discriminator 3 view .LVU580
 2154 001c 06EB8201 		add	r1, r6, r2, lsl #2
 2155 0020 4968     		ldr	r1, [r1, #4]
 2156              		.loc 1 603 15 discriminator 3 view .LVU581
 2157 0022 C1F30B00 		ubfx	r0, r1, #0, #12
 2158              		.loc 1 603 12 discriminator 3 view .LVU582
 2159 0026 0344     		add	r3, r3, r0
 2160              	.LVL239:
 604:Core/Src/mainLoop.c ****     allSum += (int32_t)(((adc_buf->buf[i] >> 16) & 0x0fff));
 2161              		.loc 1 604 5 is_stmt 1 discriminator 3 view .LVU583
 2162              		.loc 1 604 15 is_stmt 0 discriminator 3 view .LVU584
 2163 0028 C1F30B41 		ubfx	r1, r1, #16, #12
 2164              		.loc 1 604 12 discriminator 3 view .LVU585
 2165 002c 0B44     		add	r3, r3, r1
 2166              	.LVL240:
 602:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2167              		.loc 1 602 22 is_stmt 1 discriminator 3 view .LVU586
 602:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2168              		.loc 1 602 23 is_stmt 0 discriminator 3 view .LVU587
 2169 002e 0132     		adds	r2, r2, #1
 2170              	.LVL241:
 2171              	.L120:
 602:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2172              		.loc 1 602 15 is_stmt 1 discriminator 1 view .LVU588
 602:Core/Src/mainLoop.c ****     allSum += (int32_t)((adc_buf->buf[i] & 0x0fff));
 2173              		.loc 1 602 3 is_stmt 0 discriminator 1 view .LVU589
 2174 0030 632A     		cmp	r2, #99
 2175 0032 F3DD     		ble	.L121
 605:Core/Src/mainLoop.c ****   }
 606:Core/Src/mainLoop.c ****   allSum = allSum / (N * 2);
 2176              		.loc 1 606 3 is_stmt 1 view .LVU590
 2177              		.loc 1 606 10 is_stmt 0 view .LVU591
 2178 0034 8D4A     		ldr	r2, .L132+44
 2179              	.LVL242:
 2180              		.loc 1 606 10 view .LVU592
 2181 0036 82FB0312 		smull	r1, r2, r2, r3
ARM GAS  /tmp/ccnB5ISM.s 			page 52


 2182 003a D817     		asrs	r0, r3, #31
 2183 003c C0EBA210 		rsb	r0, r0, r2, asr #6
 2184              	.LVL243:
 607:Core/Src/mainLoop.c ****   // allSum = adc_buf->buf[0];
 608:Core/Src/mainLoop.c ****   //   allSum = (adc_buf->buf[99]&0x0fff);
 609:Core/Src/mainLoop.c ****   forSaveAllSum = allSum;
 2185              		.loc 1 609 3 is_stmt 1 view .LVU593
 610:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACP_1,  (((adc_buf->buf[0]) >> 0)&0xfff), max_outenable);
 611:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACN_1,  (((adc_buf->buf[0]) >> 0)&0xfff), max_outenable);
 612:Core/Src/mainLoop.c ****   // return;
 613:Core/Src/mainLoop.c ****   allSum = allSum - TARGET_CPV_1;
 2186              		.loc 1 613 3 view .LVU594
 2187              		.loc 1 613 10 is_stmt 0 view .LVU595
 2188 0040 A0F50060 		sub	r0, r0, #2048
 2189              	.LVL244:
 614:Core/Src/mainLoop.c ****   forSaveAllSum = abs(allSum);
 2190              		.loc 1 614 3 is_stmt 1 view .LVU596
 2191              		.loc 1 614 19 is_stmt 0 view .LVU597
 2192 0044 80EAE072 		eor	r2, r0, r0, asr #31
 2193 0048 A2EBE072 		sub	r2, r2, r0, asr #31
 2194              		.loc 1 614 17 view .LVU598
 2195 004c 884B     		ldr	r3, .L132+48
 2196 004e 1A80     		strh	r2, [r3]	@ movhi
 615:Core/Src/mainLoop.c ****   // insertMeanVal(allSum,adc_buf);
 616:Core/Src/mainLoop.c ****   // meanVal_view = adc_buf->adcMeanVal;
 617:Core/Src/mainLoop.c ****   // difVal_view  = adc_buf->adcDif2;
 618:Core/Src/mainLoop.c **** 
 619:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE - 1; i++) {
 2197              		.loc 1 619 3 is_stmt 1 view .LVU599
 2198              	.LVL245:
 2199              		.loc 1 619 10 is_stmt 0 view .LVU600
 2200 0050 0023     		movs	r3, #0
 2201              	.LVL246:
 2202              	.L122:
 2203              		.loc 1 619 15 is_stmt 1 discriminator 1 view .LVU601
 2204              		.loc 1 619 3 is_stmt 0 discriminator 1 view .LVU602
 2205 0052 002B     		cmp	r3, #0
 2206 0054 07DD     		ble	.L123
 620:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 621:Core/Src/mainLoop.c ****   }
 622:Core/Src/mainLoop.c ****   adcSumArray[ADCSUMARRAY_SIZE - 1] = allSum;
 2207              		.loc 1 622 3 is_stmt 1 view .LVU603
 2208              		.loc 1 622 37 is_stmt 0 view .LVU604
 2209 0056 874B     		ldr	r3, .L132+52
 2210              	.LVL247:
 2211              		.loc 1 622 37 view .LVU605
 2212 0058 5860     		str	r0, [r3, #4]
 623:Core/Src/mainLoop.c **** 
 624:Core/Src/mainLoop.c ****   // pid
 625:Core/Src/mainLoop.c ****   pidP = adcSumArray[ADCSUMARRAY_SIZE - 1];
 2213              		.loc 1 625 3 is_stmt 1 view .LVU606
 2214              		.loc 1 625 8 is_stmt 0 view .LVU607
 2215 005a 874B     		ldr	r3, .L132+56
 2216 005c 1860     		str	r0, [r3]
 626:Core/Src/mainLoop.c ****   pidI = 0;
 2217              		.loc 1 626 3 is_stmt 1 view .LVU608
 2218              		.loc 1 626 8 is_stmt 0 view .LVU609
ARM GAS  /tmp/ccnB5ISM.s 			page 53


 2219 005e 0023     		movs	r3, #0
 2220 0060 864A     		ldr	r2, .L132+60
 2221 0062 1360     		str	r3, [r2]
 627:Core/Src/mainLoop.c ****   for (i = 0; i < ADCSUMARRAY_SIZE; i++) {
 2222              		.loc 1 627 3 is_stmt 1 view .LVU610
 2223              	.LVL248:
 2224              		.loc 1 627 3 is_stmt 0 view .LVU611
 2225 0064 0FE0     		b	.L124
 2226              	.LVL249:
 2227              	.L123:
 620:Core/Src/mainLoop.c ****   }
 2228              		.loc 1 620 5 is_stmt 1 discriminator 3 view .LVU612
 620:Core/Src/mainLoop.c ****   }
 2229              		.loc 1 620 36 is_stmt 0 discriminator 3 view .LVU613
 2230 0066 5A1C     		adds	r2, r3, #1
 620:Core/Src/mainLoop.c ****   }
 2231              		.loc 1 620 33 discriminator 3 view .LVU614
 2232 0068 8249     		ldr	r1, .L132+52
 2233 006a 51F82240 		ldr	r4, [r1, r2, lsl #2]
 620:Core/Src/mainLoop.c ****   }
 2234              		.loc 1 620 20 discriminator 3 view .LVU615
 2235 006e 41F82340 		str	r4, [r1, r3, lsl #2]
 619:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 2236              		.loc 1 619 41 is_stmt 1 discriminator 3 view .LVU616
 2237              	.LVL250:
 619:Core/Src/mainLoop.c ****     adcSumArray[i] = adcSumArray[i + 1];
 2238              		.loc 1 619 42 is_stmt 0 discriminator 3 view .LVU617
 2239 0072 1346     		mov	r3, r2
 2240 0074 EDE7     		b	.L122
 2241              	.LVL251:
 2242              	.L125:
 628:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 2243              		.loc 1 628 5 is_stmt 1 discriminator 3 view .LVU618
 2244              		.loc 1 628 24 is_stmt 0 discriminator 3 view .LVU619
 2245 0076 7F4A     		ldr	r2, .L132+52
 2246 0078 52F82340 		ldr	r4, [r2, r3, lsl #2]
 2247              		.loc 1 628 10 discriminator 3 view .LVU620
 2248 007c 7F49     		ldr	r1, .L132+60
 2249 007e 0A68     		ldr	r2, [r1]
 2250 0080 2244     		add	r2, r2, r4
 2251 0082 0A60     		str	r2, [r1]
 627:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 2252              		.loc 1 627 37 is_stmt 1 discriminator 3 view .LVU621
 627:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 2253              		.loc 1 627 38 is_stmt 0 discriminator 3 view .LVU622
 2254 0084 0133     		adds	r3, r3, #1
 2255              	.LVL252:
 2256              	.L124:
 627:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 2257              		.loc 1 627 15 is_stmt 1 discriminator 1 view .LVU623
 627:Core/Src/mainLoop.c ****     pidI += adcSumArray[i];
 2258              		.loc 1 627 3 is_stmt 0 discriminator 1 view .LVU624
 2259 0086 012B     		cmp	r3, #1
 2260 0088 F5DD     		ble	.L125
 629:Core/Src/mainLoop.c ****   }
 630:Core/Src/mainLoop.c ****   pidI = pidI / ADCSUMARRAY_SIZE;
 2261              		.loc 1 630 3 is_stmt 1 view .LVU625
ARM GAS  /tmp/ccnB5ISM.s 			page 54


 2262              		.loc 1 630 15 is_stmt 0 view .LVU626
 2263 008a 7C4A     		ldr	r2, .L132+60
 2264 008c 1368     		ldr	r3, [r2]
 2265              	.LVL253:
 2266              		.loc 1 630 15 view .LVU627
 2267 008e 03EBD373 		add	r3, r3, r3, lsr #31
 2268 0092 4FEA630A 		asr	r10, r3, #1
 2269              		.loc 1 630 8 view .LVU628
 2270 0096 C2F800A0 		str	r10, [r2]
 631:Core/Src/mainLoop.c ****   pidD = adcSumArray[ADCSUMARRAY_SIZE - 1] - adcSumArray[ADCSUMARRAY_SIZE - 2];
 2271              		.loc 1 631 3 is_stmt 1 view .LVU629
 2272              		.loc 1 631 57 is_stmt 0 view .LVU630
 2273 009a 764B     		ldr	r3, .L132+52
 2274 009c 1B68     		ldr	r3, [r3]
 2275              		.loc 1 631 44 view .LVU631
 2276 009e A0EB0309 		sub	r9, r0, r3
 2277              		.loc 1 631 8 view .LVU632
 2278 00a2 774B     		ldr	r3, .L132+64
 2279 00a4 C3F80090 		str	r9, [r3]
 632:Core/Src/mainLoop.c **** #define kP_1 (-1.105000260100000105)
 633:Core/Src/mainLoop.c **** #define kI_1 (-5.55610551)
 634:Core/Src/mainLoop.c **** #define kD_1 (-50.526)
 635:Core/Src/mainLoop.c **** 
 636:Core/Src/mainLoop.c ****   // #define kP_1 (  -0.50100000105)
 637:Core/Src/mainLoop.c ****   // #define kI_1 (  -5.0610551)
 638:Core/Src/mainLoop.c ****   // #define kD_1 ( -50.1026)
 639:Core/Src/mainLoop.c ****   // 1,1k,1M‰∏âÊÆµÂèØ‰ª•Êî∂Êïõ
 640:Core/Src/mainLoop.c ****   //  #define kP_1 (-1000.05)
 641:Core/Src/mainLoop.c ****   //  #define kI_1 (+1000.51)
 642:Core/Src/mainLoop.c ****   //  #define kD_1 (1000.1275)
 643:Core/Src/mainLoop.c ****   // 1,1k‰∏§ÊÆµÂèØ‰ª•Êî∂Êïõ
 644:Core/Src/mainLoop.c ****   //  #define kP (-0.0005)
 645:Core/Src/mainLoop.c ****   //  #define kI (+0.0051)
 646:Core/Src/mainLoop.c ****   //  #define kD (1.1275)
 647:Core/Src/mainLoop.c ****   dletDac = kP_1 * ((double_t)pidP) + kI_1 * ((double_t)pidI) +
 2280              		.loc 1 647 3 is_stmt 1 view .LVU633
 2281              		.loc 1 647 21 is_stmt 0 view .LVU634
 2282 00a8 FFF7FEFF 		bl	__aeabi_i2d
 2283              	.LVL254:
 2284              		.loc 1 647 18 view .LVU635
 2285 00ac 64A3     		adr	r3, .L132
 2286 00ae D3E90023 		ldrd	r2, [r3]
 2287 00b2 FFF7FEFF 		bl	__aeabi_dmul
 2288              	.LVL255:
 2289 00b6 0446     		mov	r4, r0
 2290 00b8 0D46     		mov	r5, r1
 2291              		.loc 1 647 47 view .LVU636
 2292 00ba 5046     		mov	r0, r10
 2293 00bc FFF7FEFF 		bl	__aeabi_i2d
 2294              	.LVL256:
 2295              		.loc 1 647 44 view .LVU637
 2296 00c0 61A3     		adr	r3, .L132+8
 2297 00c2 D3E90023 		ldrd	r2, [r3]
 2298 00c6 FFF7FEFF 		bl	__aeabi_dmul
 2299              	.LVL257:
 2300 00ca 0246     		mov	r2, r0
 2301 00cc 0B46     		mov	r3, r1
ARM GAS  /tmp/ccnB5ISM.s 			page 55


 2302              		.loc 1 647 37 view .LVU638
 2303 00ce 2046     		mov	r0, r4
 2304 00d0 2946     		mov	r1, r5
 2305 00d2 FFF7FEFF 		bl	__aeabi_dadd
 2306              	.LVL258:
 2307 00d6 0446     		mov	r4, r0
 2308 00d8 0D46     		mov	r5, r1
 648:Core/Src/mainLoop.c ****             kD_1 * ((double_t)pidD);
 2309              		.loc 1 648 21 view .LVU639
 2310 00da 4846     		mov	r0, r9
 2311 00dc FFF7FEFF 		bl	__aeabi_i2d
 2312              	.LVL259:
 2313              		.loc 1 648 18 view .LVU640
 2314 00e0 5BA3     		adr	r3, .L132+16
 2315 00e2 D3E90023 		ldrd	r2, [r3]
 2316 00e6 FFF7FEFF 		bl	__aeabi_dmul
 2317              	.LVL260:
 2318 00ea 0246     		mov	r2, r0
 2319 00ec 0B46     		mov	r3, r1
 647:Core/Src/mainLoop.c ****             kD_1 * ((double_t)pidD);
 2320              		.loc 1 647 63 view .LVU641
 2321 00ee 2046     		mov	r0, r4
 2322 00f0 2946     		mov	r1, r5
 2323 00f2 FFF7FEFF 		bl	__aeabi_dadd
 2324              	.LVL261:
 2325 00f6 FFF7FEFF 		bl	__aeabi_d2f
 2326              	.LVL262:
 2327 00fa 07EE900A 		vmov	s15, r0
 647:Core/Src/mainLoop.c ****             kD_1 * ((double_t)pidD);
 2328              		.loc 1 647 11 view .LVU642
 2329 00fe 614A     		ldr	r2, .L132+68
 2330 0100 1060     		str	r0, [r2]	@ float
 649:Core/Src/mainLoop.c ****   tmpUint32 = abs((int32_t)(dletDac));
 2331              		.loc 1 649 3 is_stmt 1 view .LVU643
 2332              		.loc 1 649 19 is_stmt 0 view .LVU644
 2333 0102 FDEEE77A 		vcvt.s32.f32	s15, s15
 2334              	.LVL263:
 650:Core/Src/mainLoop.c **** 
 651:Core/Src/mainLoop.c ****   deltNoisV = 0;
 2335              		.loc 1 651 3 is_stmt 1 view .LVU645
 652:Core/Src/mainLoop.c **** 
 653:Core/Src/mainLoop.c ****   // (*dacP) += (int32_t)(dletDac);
 654:Core/Src/mainLoop.c ****   // (*dacN) -= (int32_t)(dletDac);
 655:Core/Src/mainLoop.c ****   // (*dacP) += deltNoisV;
 656:Core/Src/mainLoop.c ****   // (*dacN) -= deltNoisV;
 657:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACP_1, ((*dacP)  >> 12)&0xfff, max_outdisable);
 658:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACP_1K, (((*dacP)>>0) & 0xfff), max_outdisable);
 659:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACN_1, ((*dacN)  >> 12)&0xfff, max_outdisable);
 660:Core/Src/mainLoop.c ****   // max5307_w_chanel(DACN_1K, (((*dacN)>>0) & 0xfff), max_outdisable);
 661:Core/Src/mainLoop.c **** 
 662:Core/Src/mainLoop.c ****   (*dacP) += (int32_t)(dletDac);
 2336              		.loc 1 662 3 view .LVU646
 2337              		.loc 1 662 11 is_stmt 0 view .LVU647
 2338 0106 3B68     		ldr	r3, [r7]
 2339 0108 17EE901A 		vmov	r1, s15	@ int
 2340 010c 0B44     		add	r3, r3, r1
 2341 010e 3B60     		str	r3, [r7]
ARM GAS  /tmp/ccnB5ISM.s 			page 56


 663:Core/Src/mainLoop.c ****   (*dacN) -= (int32_t)(dletDac);
 2342              		.loc 1 663 3 is_stmt 1 view .LVU648
 2343              		.loc 1 663 14 is_stmt 0 view .LVU649
 2344 0110 D2ED007A 		vldr.32	s15, [r2]
 2345              	.LVL264:
 2346              		.loc 1 663 14 view .LVU650
 2347 0114 FDEEE77A 		vcvt.s32.f32	s15, s15
 2348              		.loc 1 663 11 view .LVU651
 2349 0118 D8F80030 		ldr	r3, [r8]
 2350 011c 17EE902A 		vmov	r2, s15	@ int
 2351 0120 9B1A     		subs	r3, r3, r2
 2352 0122 C8F80030 		str	r3, [r8]
 664:Core/Src/mainLoop.c ****   (*dacP) += deltNoisV;
 2353              		.loc 1 664 3 is_stmt 1 view .LVU652
 2354              		.loc 1 664 11 is_stmt 0 view .LVU653
 2355 0126 3968     		ldr	r1, [r7]
 2356              	.LVL265:
 665:Core/Src/mainLoop.c ****   (*dacN) -= deltNoisV;
 2357              		.loc 1 665 3 is_stmt 1 view .LVU654
 666:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1, (((*dacP) >> 20) & 0xffc), max_outdisable);
 2358              		.loc 1 666 3 view .LVU655
 2359 0128 40F6FC74 		movw	r4, #4092
 2360 012c 0222     		movs	r2, #2
 2361 012e 04EA1151 		and	r1, r4, r1, lsr #20
 2362 0132 0620     		movs	r0, #6
 2363              	.LVL266:
 2364              		.loc 1 666 3 is_stmt 0 view .LVU656
 2365 0134 FFF7FEFF 		bl	max5307_w_chanel
 2366              	.LVL267:
 667:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1K, (((*dacP) >> 10) & 0xffc), max_outdisable);
 2367              		.loc 1 667 3 is_stmt 1 view .LVU657
 2368              		.loc 1 667 32 is_stmt 0 view .LVU658
 2369 0138 3968     		ldr	r1, [r7]
 2370              		.loc 1 667 3 view .LVU659
 2371 013a 0222     		movs	r2, #2
 2372 013c 04EA9121 		and	r1, r4, r1, lsr #10
 2373 0140 0720     		movs	r0, #7
 2374 0142 FFF7FEFF 		bl	max5307_w_chanel
 2375              	.LVL268:
 668:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1M, ((*dacP) & 0xfff) & 0xfff, max_outdisable);
 2376              		.loc 1 668 3 is_stmt 1 view .LVU660
 2377              		.loc 1 668 31 is_stmt 0 view .LVU661
 2378 0146 3968     		ldr	r1, [r7]
 2379              		.loc 1 668 3 view .LVU662
 2380 0148 0222     		movs	r2, #2
 2381 014a C1F30B01 		ubfx	r1, r1, #0, #12
 2382 014e 0820     		movs	r0, #8
 2383 0150 FFF7FEFF 		bl	max5307_w_chanel
 2384              	.LVL269:
 669:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1, (((*dacN) >> 20) & 0xffc), max_outdisable);
 2385              		.loc 1 669 3 is_stmt 1 view .LVU663
 2386              		.loc 1 669 31 is_stmt 0 view .LVU664
 2387 0154 D8F80010 		ldr	r1, [r8]
 2388              		.loc 1 669 3 view .LVU665
 2389 0158 0222     		movs	r2, #2
 2390 015a 04EA1151 		and	r1, r4, r1, lsr #20
 2391 015e 0520     		movs	r0, #5
ARM GAS  /tmp/ccnB5ISM.s 			page 57


 2392 0160 FFF7FEFF 		bl	max5307_w_chanel
 2393              	.LVL270:
 670:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1K, (((*dacN) >> 10) & 0xffc), max_outdisable);
 2394              		.loc 1 670 3 is_stmt 1 view .LVU666
 2395              		.loc 1 670 32 is_stmt 0 view .LVU667
 2396 0164 D8F80010 		ldr	r1, [r8]
 2397              		.loc 1 670 3 view .LVU668
 2398 0168 0222     		movs	r2, #2
 2399 016a 04EA9121 		and	r1, r4, r1, lsr #10
 2400 016e 0420     		movs	r0, #4
 2401 0170 FFF7FEFF 		bl	max5307_w_chanel
 2402              	.LVL271:
 671:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1M, ((*dacN) & 0xfff) & 0xfff, max_outdisable);
 2403              		.loc 1 671 3 is_stmt 1 view .LVU669
 2404              		.loc 1 671 31 is_stmt 0 view .LVU670
 2405 0174 D8F80010 		ldr	r1, [r8]
 2406              		.loc 1 671 3 view .LVU671
 2407 0178 0222     		movs	r2, #2
 2408 017a C1F30B01 		ubfx	r1, r1, #0, #12
 2409 017e 0320     		movs	r0, #3
 2410 0180 FFF7FEFF 		bl	max5307_w_chanel
 2411              	.LVL272:
 672:Core/Src/mainLoop.c **** 
 673:Core/Src/mainLoop.c ****   do {
 2412              		.loc 1 673 3 is_stmt 1 view .LVU672
 2413              	.LBB5:
 674:Core/Src/mainLoop.c ****     uint16_t chanelNo = 0;
 2414              		.loc 1 674 5 view .LVU673
 675:Core/Src/mainLoop.c ****     chanelNo = 0x01 << (DACP_1 + 2) | 0x01 << (DACP_1K + 2) |
 2415              		.loc 1 675 5 view .LVU674
 676:Core/Src/mainLoop.c ****                0x01 << (DACP_1M + 2) | 0x01 << (DACN_1 + 2) |
 677:Core/Src/mainLoop.c ****                0x01 << (DACN_1K + 2) | 0x01 << (DACN_1M + 2);
 678:Core/Src/mainLoop.c ****     max5307_enable_ori_chanel(chanelNo);
 2416              		.loc 1 678 5 view .LVU675
 2417 0184 4FF4FC60 		mov	r0, #2016
 2418 0188 FFF7FEFF 		bl	max5307_enable_ori_chanel
 2419              	.LVL273:
 2420              	.LBE5:
 679:Core/Src/mainLoop.c ****   } while (0);
 2421              		.loc 1 679 11 view .LVU676
 680:Core/Src/mainLoop.c **** 
 681:Core/Src/mainLoop.c ****   // clear buf
 682:Core/Src/mainLoop.c ****   for (i = 0; i < ADC_BUF_T_SIZE; i++) {
 2422              		.loc 1 682 3 view .LVU677
 2423              		.loc 1 682 10 is_stmt 0 view .LVU678
 2424 018c 0023     		movs	r3, #0
 2425              	.LVL274:
 2426              	.L126:
 2427              		.loc 1 682 15 is_stmt 1 discriminator 1 view .LVU679
 2428              		.loc 1 682 3 is_stmt 0 discriminator 1 view .LVU680
 2429 018e 632B     		cmp	r3, #99
 2430 0190 05DC     		bgt	.L130
 683:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2431              		.loc 1 683 5 is_stmt 1 discriminator 3 view .LVU681
 2432              		.loc 1 683 21 is_stmt 0 discriminator 3 view .LVU682
 2433 0192 06EB8304 		add	r4, r6, r3, lsl #2
 2434 0196 0025     		movs	r5, #0
ARM GAS  /tmp/ccnB5ISM.s 			page 58


 2435 0198 6560     		str	r5, [r4, #4]
 682:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2436              		.loc 1 682 35 is_stmt 1 discriminator 3 view .LVU683
 682:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2437              		.loc 1 682 36 is_stmt 0 discriminator 3 view .LVU684
 2438 019a 0133     		adds	r3, r3, #1
 2439              	.LVL275:
 682:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2440              		.loc 1 682 36 discriminator 3 view .LVU685
 2441 019c F7E7     		b	.L126
 2442              	.L130:
 684:Core/Src/mainLoop.c ****   }
 685:Core/Src/mainLoop.c ****   logPara.mean_adc_val = forSaveAllSum;
 2443              		.loc 1 685 3 is_stmt 1 view .LVU686
 2444              		.loc 1 685 24 is_stmt 0 view .LVU687
 2445 019e 344B     		ldr	r3, .L132+48
 2446              	.LVL276:
 2447              		.loc 1 685 24 view .LVU688
 2448 01a0 1E88     		ldrh	r6, [r3]
 2449              	.LVL277:
 2450              		.loc 1 685 24 view .LVU689
 2451 01a2 394B     		ldr	r3, .L132+72
 2452 01a4 A3F80160 		strh	r6, [r3, #1]	@ unaligned
 686:Core/Src/mainLoop.c ****   // logPara.mean_adc_val = pidI;
 687:Core/Src/mainLoop.c ****   logPara.dac_val_n = (*dacN);
 2453              		.loc 1 687 3 is_stmt 1 view .LVU690
 2454              		.loc 1 687 24 is_stmt 0 view .LVU691
 2455 01a8 D8F80020 		ldr	r2, [r8]
 2456              		.loc 1 687 21 view .LVU692
 2457 01ac C3F80720 		str	r2, [r3, #7]	@ unaligned
 688:Core/Src/mainLoop.c ****   logPara.dac_val_p = (*dacP);
 2458              		.loc 1 688 3 is_stmt 1 view .LVU693
 2459              		.loc 1 688 24 is_stmt 0 view .LVU694
 2460 01b0 3A68     		ldr	r2, [r7]
 2461              		.loc 1 688 21 view .LVU695
 2462 01b2 C3F80320 		str	r2, [r3, #3]	@ unaligned
 689:Core/Src/mainLoop.c ****   // HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 690:Core/Src/mainLoop.c ****   // 2024.6.11‰∏∫‰∫Ü‰øùËØÅ‰∏≤Âè£Êï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÂä†ÂÖ•‰∏ãÈù¢‰ª£Á†Å
 691:Core/Src/mainLoop.c ****   do {
 2463              		.loc 1 691 3 is_stmt 1 view .LVU696
 2464              	.LBB6:
 692:Core/Src/mainLoop.c ****       nowXn = (double)(dletDac);
 2465              		.loc 1 692 7 view .LVU697
 2466              		.loc 1 692 15 is_stmt 0 view .LVU698
 2467 01b6 334B     		ldr	r3, .L132+68
 2468 01b8 1868     		ldr	r0, [r3]	@ float
 2469 01ba FFF7FEFF 		bl	__aeabi_f2d
 2470              	.LVL278:
 2471 01be 8046     		mov	r8, r0
 2472              	.LVL279:
 2473              		.loc 1 692 15 view .LVU699
 2474 01c0 8946     		mov	r9, r1
 693:Core/Src/mainLoop.c ****       double tmpLPFdeltDac = 0.999 * lastXn + 0.001 * nowXn;
 2475              		.loc 1 693 7 is_stmt 1 view .LVU700
 2476              		.loc 1 693 36 is_stmt 0 view .LVU701
 2477 01c2 324F     		ldr	r7, .L132+76
 2478              	.LVL280:
ARM GAS  /tmp/ccnB5ISM.s 			page 59


 2479              		.loc 1 693 36 view .LVU702
 2480 01c4 24A3     		adr	r3, .L132+24
 2481 01c6 D3E90023 		ldrd	r2, [r3]
 2482 01ca D7E90001 		ldrd	r0, [r7]
 2483 01ce FFF7FEFF 		bl	__aeabi_dmul
 2484              	.LVL281:
 2485 01d2 0446     		mov	r4, r0
 2486 01d4 0D46     		mov	r5, r1
 2487              		.loc 1 693 53 view .LVU703
 2488 01d6 22A3     		adr	r3, .L132+32
 2489 01d8 D3E90023 		ldrd	r2, [r3]
 2490 01dc 4046     		mov	r0, r8
 2491 01de 4946     		mov	r1, r9
 2492 01e0 FFF7FEFF 		bl	__aeabi_dmul
 2493              	.LVL282:
 2494 01e4 0246     		mov	r2, r0
 2495 01e6 0B46     		mov	r3, r1
 2496              		.loc 1 693 14 view .LVU704
 2497 01e8 2046     		mov	r0, r4
 2498 01ea 2946     		mov	r1, r5
 2499 01ec FFF7FEFF 		bl	__aeabi_dadd
 2500              	.LVL283:
 694:Core/Src/mainLoop.c ****       lastXn = tmpLPFdeltDac;
 2501              		.loc 1 694 7 is_stmt 1 view .LVU705
 2502              		.loc 1 694 14 is_stmt 0 view .LVU706
 2503 01f0 C7E90001 		strd	r0, [r7]
 695:Core/Src/mainLoop.c ****       if (uartDMA_tri_sign == UART_TRI_OK) {
 2504              		.loc 1 695 7 is_stmt 1 view .LVU707
 2505              		.loc 1 695 28 is_stmt 0 view .LVU708
 2506 01f4 264B     		ldr	r3, .L132+80
 2507 01f6 1A68     		ldr	r2, [r3]
 2508              		.loc 1 695 10 view .LVU709
 2509 01f8 45F25553 		movw	r3, #21845
 2510 01fc 9A42     		cmp	r2, r3
 2511 01fe 07D0     		beq	.L131
 2512              	.LVL284:
 2513              	.L128:
 2514              		.loc 1 695 10 view .LVU710
 2515              	.LBE6:
 696:Core/Src/mainLoop.c ****         logBufDma.mean_adc_val = logPara.mean_adc_val;
 697:Core/Src/mainLoop.c ****         // logBufDma.dac_val_p = logPara.dac_val_p;
 698:Core/Src/mainLoop.c ****         // logBufDma.dac_val_n = logPara.dac_val_n;
 699:Core/Src/mainLoop.c ****         // lastXn = nowXn;
 700:Core/Src/mainLoop.c **** 
 701:Core/Src/mainLoop.c ****         logBufDma.dac_val_p = (int32_t)tmpLPFdeltDac;
 702:Core/Src/mainLoop.c ****         logBufDma.dac_val_n = (int32_t)tmpLPFdeltDac;
 703:Core/Src/mainLoop.c ****         logBufDma.checkBits = ((uint32_t)logBufDma.mean_adc_val) +
 704:Core/Src/mainLoop.c ****                               ((uint32_t)logBufDma.dac_val_p) +
 705:Core/Src/mainLoop.c ****                               ((uint32_t)logBufDma.dac_val_n);
 706:Core/Src/mainLoop.c ****         uartDMA_tri_sign = UART_TRI_WAIT;
 707:Core/Src/mainLoop.c ****         HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
 708:Core/Src/mainLoop.c ****                             sizeof(struct log_para_t));
 709:Core/Src/mainLoop.c ****       }
 710:Core/Src/mainLoop.c ****   } while (0);
 2516              		.loc 1 710 11 is_stmt 1 view .LVU711
 711:Core/Src/mainLoop.c **** 
 712:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_RESET);
ARM GAS  /tmp/ccnB5ISM.s 			page 60


 2517              		.loc 1 712 3 view .LVU712
 2518 0200 0022     		movs	r2, #0
 2519 0202 4FF48051 		mov	r1, #4096
 2520 0206 1848     		ldr	r0, .L132+40
 2521 0208 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2522              	.LVL285:
 713:Core/Src/mainLoop.c **** }
 2523              		.loc 1 713 1 is_stmt 0 view .LVU713
 2524 020c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2525              	.LVL286:
 2526              	.L131:
 2527              	.LBB7:
 696:Core/Src/mainLoop.c ****         logBufDma.mean_adc_val = logPara.mean_adc_val;
 2528              		.loc 1 696 9 is_stmt 1 view .LVU714
 696:Core/Src/mainLoop.c ****         logBufDma.mean_adc_val = logPara.mean_adc_val;
 2529              		.loc 1 696 32 is_stmt 0 view .LVU715
 2530 0210 204C     		ldr	r4, .L132+84
 2531 0212 A4F80160 		strh	r6, [r4, #1]	@ unaligned
 701:Core/Src/mainLoop.c ****         logBufDma.dac_val_n = (int32_t)tmpLPFdeltDac;
 2532              		.loc 1 701 9 is_stmt 1 view .LVU716
 701:Core/Src/mainLoop.c ****         logBufDma.dac_val_n = (int32_t)tmpLPFdeltDac;
 2533              		.loc 1 701 31 is_stmt 0 view .LVU717
 2534 0216 FFF7FEFF 		bl	__aeabi_d2iz
 2535              	.LVL287:
 701:Core/Src/mainLoop.c ****         logBufDma.dac_val_n = (int32_t)tmpLPFdeltDac;
 2536              		.loc 1 701 29 view .LVU718
 2537 021a C4F80300 		str	r0, [r4, #3]	@ unaligned
 702:Core/Src/mainLoop.c ****         logBufDma.checkBits = ((uint32_t)logBufDma.mean_adc_val) +
 2538              		.loc 1 702 9 is_stmt 1 view .LVU719
 702:Core/Src/mainLoop.c ****         logBufDma.checkBits = ((uint32_t)logBufDma.mean_adc_val) +
 2539              		.loc 1 702 29 is_stmt 0 view .LVU720
 2540 021e C4F80700 		str	r0, [r4, #7]	@ unaligned
 703:Core/Src/mainLoop.c ****                               ((uint32_t)logBufDma.dac_val_p) +
 2541              		.loc 1 703 9 is_stmt 1 view .LVU721
 704:Core/Src/mainLoop.c ****                               ((uint32_t)logBufDma.dac_val_n);
 2542              		.loc 1 704 63 is_stmt 0 view .LVU722
 2543 0222 06EB4006 		add	r6, r6, r0, lsl #1
 703:Core/Src/mainLoop.c ****                               ((uint32_t)logBufDma.dac_val_p) +
 2544              		.loc 1 703 29 view .LVU723
 2545 0226 C4F80B60 		str	r6, [r4, #11]	@ unaligned
 706:Core/Src/mainLoop.c ****         HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
 2546              		.loc 1 706 9 is_stmt 1 view .LVU724
 706:Core/Src/mainLoop.c ****         HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
 2547              		.loc 1 706 26 is_stmt 0 view .LVU725
 2548 022a 194B     		ldr	r3, .L132+80
 2549 022c 43F23332 		movw	r2, #13107
 2550 0230 1A60     		str	r2, [r3]
 707:Core/Src/mainLoop.c ****                             sizeof(struct log_para_t));
 2551              		.loc 1 707 9 is_stmt 1 view .LVU726
 2552 0232 0F22     		movs	r2, #15
 2553 0234 2146     		mov	r1, r4
 2554 0236 1848     		ldr	r0, .L132+88
 2555 0238 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 2556              	.LVL288:
 2557 023c E0E7     		b	.L128
 2558              	.L133:
 2559 023e 00BF     		.align	3
ARM GAS  /tmp/ccnB5ISM.s 			page 61


 2560              	.L132:
 2561 0240 4637B3C0 		.word	3232970566
 2562 0244 14AEF1BF 		.word	-1074680300
 2563 0248 364D0AB9 		.word	3104460086
 2564 024c 733916C0 		.word	-1072285325
 2565 0250 17D9CEF7 		.word	4157528343
 2566 0254 534349C0 		.word	-1068940461
 2567 0258 2B8716D9 		.word	3642132267
 2568 025c CEF7EF3F 		.word	1072691150
 2569 0260 FCA9F1D2 		.word	3539053052
 2570 0264 4D62503F 		.word	1062232653
 2571 0268 00080240 		.word	1073874944
 2572 026c 1F85EB51 		.word	1374389535
 2573 0270 00000000 		.word	.LANCHOR11
 2574 0274 00000000 		.word	adcSumArray
 2575 0278 00000000 		.word	.LANCHOR4
 2576 027c 00000000 		.word	.LANCHOR5
 2577 0280 00000000 		.word	.LANCHOR6
 2578 0284 00000000 		.word	.LANCHOR7
 2579 0288 00000000 		.word	logPara
 2580 028c 00000000 		.word	.LANCHOR12
 2581 0290 00000000 		.word	.LANCHOR13
 2582 0294 00000000 		.word	logBufDma
 2583 0298 00000000 		.word	huart2
 2584              	.LBE7:
 2585              		.cfi_endproc
 2586              	.LFE148:
 2588              		.section	.text.cal_cp_output_dac_ext_2,"ax",%progbits
 2589              		.align	1
 2590              		.global	cal_cp_output_dac_ext_2
 2591              		.syntax unified
 2592              		.thumb
 2593              		.thumb_func
 2594              		.fpu fpv4-sp-d16
 2596              	cal_cp_output_dac_ext_2:
 2597              	.LVL289:
 2598              	.LFB149:
 714:Core/Src/mainLoop.c **** 
 715:Core/Src/mainLoop.c **** // 2024.4.26Ë∞ÉÊï¥Ë∑üË∏™ÁÆóÊ≥ïÔºå‰ª•ÂâçÁöÑÁÆóÊ≥ïÊúâÂèØËÉΩ‰ºöÂá∫Áé∞ÂêåÊ≠•Áé∞Ë±°
 716:Core/Src/mainLoop.c **** // ÂáΩÊï∞Âêçvoid cal_cp_output_dac_ext_2
 717:Core/Src/mainLoop.c **** //(struct adc_buf_t *adc_buf, uint32_t *dacP,
 718:Core/Src/mainLoop.c **** //  uint32_t *dacN, int32_t runTime500us)
 719:Core/Src/mainLoop.c **** // ÂèÇÊï∞‰øùÊåÅ‰∏çÂèòÔºåÂè™ÊòØË∞ÉÊï¥‰∫ÜË∑üË∏™ÁÆóÊ≥ï
 720:Core/Src/mainLoop.c **** // ÂÖ∑‰ΩìÊÄùË∑ØÔºåÊ±ÇÂéüÂßãadc_bufÁöÑÂØºÊï∞ÔºåÊ†πÊçÆÊñúÁéáË∞ÉÊï¥dacËæìÂá∫
 721:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext_2(struct adc_buf_t *adc_buf, uint32_t *dacP,
 722:Core/Src/mainLoop.c ****                              uint32_t *dacN, int32_t runTime500us) {
 2599              		.loc 1 722 68 view -0
 2600              		.cfi_startproc
 2601              		@ args = 0, pretend = 0, frame = 400
 2602              		@ frame_needed = 0, uses_anonymous_args = 0
 2603              		.loc 1 722 68 is_stmt 0 view .LVU728
 2604 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2605              	.LCFI19:
 2606              		.cfi_def_cfa_offset 20
 2607              		.cfi_offset 4, -20
 2608              		.cfi_offset 5, -16
 2609              		.cfi_offset 6, -12
ARM GAS  /tmp/ccnB5ISM.s 			page 62


 2610              		.cfi_offset 7, -8
 2611              		.cfi_offset 14, -4
 2612 0002 E5B0     		sub	sp, sp, #404
 2613              	.LCFI20:
 2614              		.cfi_def_cfa_offset 424
 2615 0004 0546     		mov	r5, r0
 2616 0006 0E46     		mov	r6, r1
 2617 0008 1746     		mov	r7, r2
 723:Core/Src/mainLoop.c ****   int32_t i = 0;
 2618              		.loc 1 723 3 is_stmt 1 view .LVU729
 2619              	.LVL290:
 724:Core/Src/mainLoop.c ****   int32_t N = ADC_BUF_T_SIZE;
 2620              		.loc 1 724 3 view .LVU730
 725:Core/Src/mainLoop.c **** 
 726:Core/Src/mainLoop.c ****   uint32_t tmpUint32 = 0;
 2621              		.loc 1 726 3 view .LVU731
 727:Core/Src/mainLoop.c ****   int32_t deltNoisV = 0;
 2622              		.loc 1 727 3 view .LVU732
 728:Core/Src/mainLoop.c ****   int32_t difAdcValBuf[ADC_BUF_T_SIZE];
 2623              		.loc 1 728 3 view .LVU733
 729:Core/Src/mainLoop.c ****   int32_t tmpdif1, tmpdif2;
 2624              		.loc 1 729 3 view .LVU734
 730:Core/Src/mainLoop.c ****   int32_t allSum = 0;
 2625              		.loc 1 730 3 view .LVU735
 731:Core/Src/mainLoop.c ****   float_t allSumF = 0;
 2626              		.loc 1 731 3 view .LVU736
 732:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_SET);
 2627              		.loc 1 732 3 view .LVU737
 2628 000a 0122     		movs	r2, #1
 2629              	.LVL291:
 2630              		.loc 1 732 3 is_stmt 0 view .LVU738
 2631 000c 4FF48051 		mov	r1, #4096
 2632              	.LVL292:
 2633              		.loc 1 732 3 view .LVU739
 2634 0010 4848     		ldr	r0, .L146
 2635              	.LVL293:
 2636              		.loc 1 732 3 view .LVU740
 2637 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2638              	.LVL294:
 733:Core/Src/mainLoop.c **** 
 734:Core/Src/mainLoop.c ****   memset(difAdcValBuf, 0, sizeof(difAdcValBuf));
 2639              		.loc 1 734 3 is_stmt 1 view .LVU741
 2640 0016 4FF4C872 		mov	r2, #400
 2641 001a 0021     		movs	r1, #0
 2642 001c 6846     		mov	r0, sp
 2643 001e FFF7FEFF 		bl	memset
 2644              	.LVL295:
 735:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 2645              		.loc 1 735 3 view .LVU742
 2646              		.loc 1 735 10 is_stmt 0 view .LVU743
 2647 0022 0023     		movs	r3, #0
 2648              	.LVL296:
 2649              	.L135:
 2650              		.loc 1 735 15 is_stmt 1 discriminator 1 view .LVU744
 2651              		.loc 1 735 3 is_stmt 0 discriminator 1 view .LVU745
 2652 0024 632B     		cmp	r3, #99
 2653 0026 0BDC     		bgt	.L143
ARM GAS  /tmp/ccnB5ISM.s 			page 63


 736:Core/Src/mainLoop.c ****     tmpdif1 = (int32_t)((adc_buf->buf[i] & 0x0fff));
 2654              		.loc 1 736 5 is_stmt 1 discriminator 3 view .LVU746
 2655              		.loc 1 736 38 is_stmt 0 discriminator 3 view .LVU747
 2656 0028 05EB8302 		add	r2, r5, r3, lsl #2
 2657 002c 5468     		ldr	r4, [r2, #4]
 2658              		.loc 1 736 13 discriminator 3 view .LVU748
 2659 002e C4F30B02 		ubfx	r2, r4, #0, #12
 2660              	.LVL297:
 737:Core/Src/mainLoop.c ****     tmpdif2 = (int32_t)(((adc_buf->buf[i] >> 16) & 0x0fff));
 2661              		.loc 1 737 5 is_stmt 1 discriminator 3 view .LVU749
 2662              		.loc 1 737 13 is_stmt 0 discriminator 3 view .LVU750
 2663 0032 C4F30B44 		ubfx	r4, r4, #16, #12
 2664              	.LVL298:
 738:Core/Src/mainLoop.c ****     difAdcValBuf[i] = tmpdif1 - tmpdif2;
 2665              		.loc 1 738 5 is_stmt 1 discriminator 3 view .LVU751
 2666              		.loc 1 738 31 is_stmt 0 discriminator 3 view .LVU752
 2667 0036 141B     		subs	r4, r2, r4
 2668              	.LVL299:
 2669              		.loc 1 738 21 discriminator 3 view .LVU753
 2670 0038 4DF82340 		str	r4, [sp, r3, lsl #2]
 2671              	.LVL300:
 735:Core/Src/mainLoop.c ****     tmpdif1 = (int32_t)((adc_buf->buf[i] & 0x0fff));
 2672              		.loc 1 735 22 is_stmt 1 discriminator 3 view .LVU754
 735:Core/Src/mainLoop.c ****     tmpdif1 = (int32_t)((adc_buf->buf[i] & 0x0fff));
 2673              		.loc 1 735 23 is_stmt 0 discriminator 3 view .LVU755
 2674 003c 0133     		adds	r3, r3, #1
 2675              	.LVL301:
 735:Core/Src/mainLoop.c ****     tmpdif1 = (int32_t)((adc_buf->buf[i] & 0x0fff));
 2676              		.loc 1 735 23 discriminator 3 view .LVU756
 2677 003e F1E7     		b	.L135
 2678              	.LVL302:
 2679              	.L143:
 739:Core/Src/mainLoop.c ****   }
 740:Core/Src/mainLoop.c ****   // ËÆ°ÁÆóÂØºÊï∞ÁöÑÊñúÁéáÔºåÁªüËÆ°difAdcValBuf‰∏≠ÁöÑÊ≠£Ë¥üÂÄºÔºåÂπ∂‰ª•Ê≠£Ë¥üÂÄºÁöÑ‰∏™Êï∞Â∑ÆÂÄº‰Ωú‰
 741:Core/Src/mainLoop.c ****   // ÁªìËÆ∫ËøôÁßçÊÄùË∑Ø‰∏çË°å
 742:Core/Src/mainLoop.c ****   // allSum = 0;
 743:Core/Src/mainLoop.c ****   // for (i = 0; i < N; i++) {
 744:Core/Src/mainLoop.c ****   //   if (difAdcValBuf[i] > 0) {
 745:Core/Src/mainLoop.c ****   //     allSum += 1;
 746:Core/Src/mainLoop.c ****   //   } else if (difAdcValBuf[i] < 0) {
 747:Core/Src/mainLoop.c ****   //     allSum -= 1;
 748:Core/Src/mainLoop.c ****   //   }
 749:Core/Src/mainLoop.c ****   // }
 750:Core/Src/mainLoop.c ****   // allSumF = ((float_t)allSum) / N;
 751:Core/Src/mainLoop.c **** 
 752:Core/Src/mainLoop.c ****   // Á≠õÈÄâÂØºÊï∞ÂÄºÔºåÂè™‰øùÁïôÁªùÂØπÂÄºÂ∞è‰∫é100ÁöÑÂÄº
 753:Core/Src/mainLoop.c ****   allSum = 0;
 2680              		.loc 1 753 10 view .LVU757
 2681 0040 0020     		movs	r0, #0
 754:Core/Src/mainLoop.c ****   for (i = 0; i < N; i++) {
 2682              		.loc 1 754 10 view .LVU758
 2683 0042 0346     		mov	r3, r0
 2684              	.LVL303:
 2685              		.loc 1 754 10 view .LVU759
 2686 0044 00E0     		b	.L137
 2687              	.LVL304:
 2688              	.L138:
ARM GAS  /tmp/ccnB5ISM.s 			page 64


 2689              		.loc 1 754 22 is_stmt 1 discriminator 2 view .LVU760
 2690              		.loc 1 754 23 is_stmt 0 discriminator 2 view .LVU761
 2691 0046 0133     		adds	r3, r3, #1
 2692              	.LVL305:
 2693              	.L137:
 2694              		.loc 1 754 15 is_stmt 1 discriminator 1 view .LVU762
 2695              		.loc 1 754 3 is_stmt 0 discriminator 1 view .LVU763
 2696 0048 632B     		cmp	r3, #99
 2697 004a 07DC     		bgt	.L144
 755:Core/Src/mainLoop.c ****     if (abs(difAdcValBuf[i]) < 50) {
 2698              		.loc 1 755 5 is_stmt 1 view .LVU764
 2699              	.LBB8:
 2700              		.loc 1 755 25 is_stmt 0 view .LVU765
 2701 004c 5DF82320 		ldr	r2, [sp, r3, lsl #2]
 2702              		.loc 1 755 30 view .LVU766
 2703 0050 02F13101 		add	r1, r2, #49
 2704              		.loc 1 755 8 view .LVU767
 2705 0054 6229     		cmp	r1, #98
 2706 0056 F6D8     		bhi	.L138
 756:Core/Src/mainLoop.c ****       allSum += difAdcValBuf[i];
 2707              		.loc 1 756 7 is_stmt 1 view .LVU768
 2708              		.loc 1 756 14 is_stmt 0 view .LVU769
 2709 0058 1044     		add	r0, r0, r2
 2710              	.LVL306:
 2711              		.loc 1 756 14 view .LVU770
 2712 005a F4E7     		b	.L138
 2713              	.L144:
 2714              		.loc 1 756 14 view .LVU771
 2715              	.LBE8:
 757:Core/Src/mainLoop.c ****     }
 758:Core/Src/mainLoop.c ****   }
 759:Core/Src/mainLoop.c ****   allSumF = ((float_t)allSum) / N;
 2716              		.loc 1 759 3 is_stmt 1 view .LVU772
 2717              		.loc 1 759 14 is_stmt 0 view .LVU773
 2718 005c 07EE900A 		vmov	s15, r0	@ int
 2719 0060 F8EEE77A 		vcvt.f32.s32	s15, s15
 2720              		.loc 1 759 11 view .LVU774
 2721 0064 DFED346A 		vldr.32	s13, .L146+4
 2722 0068 87EEA67A 		vdiv.f32	s14, s15, s13
 2723              	.LVL307:
 760:Core/Src/mainLoop.c **** 
 761:Core/Src/mainLoop.c ****   // Ê†πÊçÆÊñúÁéáË∞ÉÊï¥dacËæìÂá∫
 762:Core/Src/mainLoop.c **** #define kP_2 (+5.0)
 763:Core/Src/mainLoop.c ****   dletDac = ((float_t)allSumF) * kP_2;
 2724              		.loc 1 763 3 is_stmt 1 view .LVU775
 2725              		.loc 1 763 11 is_stmt 0 view .LVU776
 2726 006c F1EE047A 		vmov.f32	s15, #5.0e+0
 2727 0070 67EE277A 		vmul.f32	s15, s14, s15
 2728 0074 314A     		ldr	r2, .L146+8
 2729 0076 C2ED007A 		vstr.32	s15, [r2]
 764:Core/Src/mainLoop.c **** 
 765:Core/Src/mainLoop.c ****   tmpUint32 = abs((int32_t)(dletDac));
 2730              		.loc 1 765 3 is_stmt 1 view .LVU777
 2731              		.loc 1 765 19 is_stmt 0 view .LVU778
 2732 007a FDEEE77A 		vcvt.s32.f32	s15, s15
 2733              	.LVL308:
 766:Core/Src/mainLoop.c **** 
ARM GAS  /tmp/ccnB5ISM.s 			page 65


 767:Core/Src/mainLoop.c ****   deltNoisV = 0;
 2734              		.loc 1 767 3 is_stmt 1 view .LVU779
 768:Core/Src/mainLoop.c **** 
 769:Core/Src/mainLoop.c ****   (*dacP) += (int32_t)(dletDac);
 2735              		.loc 1 769 3 view .LVU780
 2736              		.loc 1 769 11 is_stmt 0 view .LVU781
 2737 007e 3368     		ldr	r3, [r6]
 2738              	.LVL309:
 2739              		.loc 1 769 11 view .LVU782
 2740 0080 17EE901A 		vmov	r1, s15	@ int
 2741 0084 0B44     		add	r3, r3, r1
 2742 0086 3360     		str	r3, [r6]
 770:Core/Src/mainLoop.c ****   (*dacN) -= (int32_t)(dletDac);
 2743              		.loc 1 770 3 is_stmt 1 view .LVU783
 2744              		.loc 1 770 14 is_stmt 0 view .LVU784
 2745 0088 D2ED007A 		vldr.32	s15, [r2]
 2746              	.LVL310:
 2747              		.loc 1 770 14 view .LVU785
 2748 008c FDEEE77A 		vcvt.s32.f32	s15, s15
 2749              		.loc 1 770 11 view .LVU786
 2750 0090 3B68     		ldr	r3, [r7]
 2751 0092 17EE902A 		vmov	r2, s15	@ int
 2752 0096 9B1A     		subs	r3, r3, r2
 2753 0098 3B60     		str	r3, [r7]
 771:Core/Src/mainLoop.c ****   (*dacP) += deltNoisV;
 2754              		.loc 1 771 3 is_stmt 1 view .LVU787
 2755              		.loc 1 771 11 is_stmt 0 view .LVU788
 2756 009a 3168     		ldr	r1, [r6]
 2757              	.LVL311:
 772:Core/Src/mainLoop.c ****   (*dacN) -= deltNoisV;
 2758              		.loc 1 772 3 is_stmt 1 view .LVU789
 773:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1, (((*dacP) >> 20) & 0xffc), max_outdisable);
 2759              		.loc 1 773 3 view .LVU790
 2760 009c 40F6FC74 		movw	r4, #4092
 2761 00a0 0222     		movs	r2, #2
 2762 00a2 04EA1151 		and	r1, r4, r1, lsr #20
 2763 00a6 0620     		movs	r0, #6
 2764              	.LVL312:
 2765              		.loc 1 773 3 is_stmt 0 view .LVU791
 2766 00a8 FFF7FEFF 		bl	max5307_w_chanel
 2767              	.LVL313:
 774:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1K, (((*dacP) >> 10) & 0xffc), max_outdisable);
 2768              		.loc 1 774 3 is_stmt 1 view .LVU792
 2769              		.loc 1 774 32 is_stmt 0 view .LVU793
 2770 00ac 3168     		ldr	r1, [r6]
 2771              		.loc 1 774 3 view .LVU794
 2772 00ae 0222     		movs	r2, #2
 2773 00b0 04EA9121 		and	r1, r4, r1, lsr #10
 2774 00b4 0720     		movs	r0, #7
 2775 00b6 FFF7FEFF 		bl	max5307_w_chanel
 2776              	.LVL314:
 775:Core/Src/mainLoop.c ****   max5307_w_chanel(DACP_1M, ((*dacP) & 0xfff) & 0xfff, max_outdisable);
 2777              		.loc 1 775 3 is_stmt 1 view .LVU795
 2778              		.loc 1 775 31 is_stmt 0 view .LVU796
 2779 00ba 3168     		ldr	r1, [r6]
 2780              		.loc 1 775 3 view .LVU797
 2781 00bc 0222     		movs	r2, #2
ARM GAS  /tmp/ccnB5ISM.s 			page 66


 2782 00be C1F30B01 		ubfx	r1, r1, #0, #12
 2783 00c2 0820     		movs	r0, #8
 2784 00c4 FFF7FEFF 		bl	max5307_w_chanel
 2785              	.LVL315:
 776:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1, (((*dacN) >> 20) & 0xffc), max_outdisable);
 2786              		.loc 1 776 3 is_stmt 1 view .LVU798
 2787              		.loc 1 776 31 is_stmt 0 view .LVU799
 2788 00c8 3968     		ldr	r1, [r7]
 2789              		.loc 1 776 3 view .LVU800
 2790 00ca 0222     		movs	r2, #2
 2791 00cc 04EA1151 		and	r1, r4, r1, lsr #20
 2792 00d0 0520     		movs	r0, #5
 2793 00d2 FFF7FEFF 		bl	max5307_w_chanel
 2794              	.LVL316:
 777:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1K, (((*dacN) >> 10) & 0xffc), max_outdisable);
 2795              		.loc 1 777 3 is_stmt 1 view .LVU801
 2796              		.loc 1 777 32 is_stmt 0 view .LVU802
 2797 00d6 3968     		ldr	r1, [r7]
 2798              		.loc 1 777 3 view .LVU803
 2799 00d8 0222     		movs	r2, #2
 2800 00da 04EA9121 		and	r1, r4, r1, lsr #10
 2801 00de 0420     		movs	r0, #4
 2802 00e0 FFF7FEFF 		bl	max5307_w_chanel
 2803              	.LVL317:
 778:Core/Src/mainLoop.c ****   max5307_w_chanel(DACN_1M, ((*dacN) & 0xfff) & 0xfff, max_outdisable);
 2804              		.loc 1 778 3 is_stmt 1 view .LVU804
 2805              		.loc 1 778 31 is_stmt 0 view .LVU805
 2806 00e4 3968     		ldr	r1, [r7]
 2807              		.loc 1 778 3 view .LVU806
 2808 00e6 0222     		movs	r2, #2
 2809 00e8 C1F30B01 		ubfx	r1, r1, #0, #12
 2810 00ec 0320     		movs	r0, #3
 2811 00ee FFF7FEFF 		bl	max5307_w_chanel
 2812              	.LVL318:
 779:Core/Src/mainLoop.c **** 
 780:Core/Src/mainLoop.c ****   do {
 2813              		.loc 1 780 3 is_stmt 1 view .LVU807
 2814              	.LBB9:
 781:Core/Src/mainLoop.c ****     uint16_t chanelNo = 0;
 2815              		.loc 1 781 5 view .LVU808
 782:Core/Src/mainLoop.c ****     chanelNo = 0x01 << (DACP_1 + 2) | 0x01 << (DACP_1K + 2) |
 2816              		.loc 1 782 5 view .LVU809
 783:Core/Src/mainLoop.c ****                0x01 << (DACP_1M + 2) | 0x01 << (DACN_1 + 2) |
 784:Core/Src/mainLoop.c ****                0x01 << (DACN_1K + 2) | 0x01 << (DACN_1M + 2);
 785:Core/Src/mainLoop.c ****     max5307_enable_ori_chanel(chanelNo);
 2817              		.loc 1 785 5 view .LVU810
 2818 00f2 4FF4FC60 		mov	r0, #2016
 2819 00f6 FFF7FEFF 		bl	max5307_enable_ori_chanel
 2820              	.LVL319:
 2821              	.LBE9:
 786:Core/Src/mainLoop.c ****   } while (0);
 2822              		.loc 1 786 11 view .LVU811
 787:Core/Src/mainLoop.c **** 
 788:Core/Src/mainLoop.c ****   // clear buf
 789:Core/Src/mainLoop.c ****   for (i = 0; i < ADC_BUF_T_SIZE; i++) {
 2823              		.loc 1 789 3 view .LVU812
 2824              		.loc 1 789 10 is_stmt 0 view .LVU813
ARM GAS  /tmp/ccnB5ISM.s 			page 67


 2825 00fa 0023     		movs	r3, #0
 2826              	.LVL320:
 2827              	.L140:
 2828              		.loc 1 789 15 is_stmt 1 discriminator 1 view .LVU814
 2829              		.loc 1 789 3 is_stmt 0 discriminator 1 view .LVU815
 2830 00fc 632B     		cmp	r3, #99
 2831 00fe 05DC     		bgt	.L145
 790:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2832              		.loc 1 790 5 is_stmt 1 discriminator 3 view .LVU816
 2833              		.loc 1 790 21 is_stmt 0 discriminator 3 view .LVU817
 2834 0100 05EB8302 		add	r2, r5, r3, lsl #2
 2835 0104 0021     		movs	r1, #0
 2836 0106 5160     		str	r1, [r2, #4]
 789:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2837              		.loc 1 789 35 is_stmt 1 discriminator 3 view .LVU818
 789:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2838              		.loc 1 789 36 is_stmt 0 discriminator 3 view .LVU819
 2839 0108 0133     		adds	r3, r3, #1
 2840              	.LVL321:
 789:Core/Src/mainLoop.c ****     adc_buf->buf[i] = 0;
 2841              		.loc 1 789 36 discriminator 3 view .LVU820
 2842 010a F7E7     		b	.L140
 2843              	.L145:
 791:Core/Src/mainLoop.c ****   }
 792:Core/Src/mainLoop.c ****   logPara.mean_adc_val = forSaveAllSum;
 2844              		.loc 1 792 3 is_stmt 1 view .LVU821
 2845              		.loc 1 792 24 is_stmt 0 view .LVU822
 2846 010c 0C4B     		ldr	r3, .L146+12
 2847              	.LVL322:
 2848              		.loc 1 792 24 view .LVU823
 2849 010e 0D4A     		ldr	r2, .L146+16
 2850 0110 1288     		ldrh	r2, [r2]
 2851 0112 A3F80120 		strh	r2, [r3, #1]	@ unaligned
 793:Core/Src/mainLoop.c ****   // logPara.mean_adc_val = pidI;
 794:Core/Src/mainLoop.c ****   logPara.dac_val_n = (*dacN);
 2852              		.loc 1 794 3 is_stmt 1 view .LVU824
 2853              		.loc 1 794 24 is_stmt 0 view .LVU825
 2854 0116 3A68     		ldr	r2, [r7]
 2855              		.loc 1 794 21 view .LVU826
 2856 0118 C3F80720 		str	r2, [r3, #7]	@ unaligned
 795:Core/Src/mainLoop.c ****   logPara.dac_val_p = (*dacP);
 2857              		.loc 1 795 3 is_stmt 1 view .LVU827
 2858              		.loc 1 795 24 is_stmt 0 view .LVU828
 2859 011c 3268     		ldr	r2, [r6]
 2860              		.loc 1 795 21 view .LVU829
 2861 011e C3F80320 		str	r2, [r3, #3]	@ unaligned
 796:Core/Src/mainLoop.c ****   // HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 797:Core/Src/mainLoop.c ****   HAL_GPIO_WritePin(LED4_GPIO_Port, LED4_Pin, GPIO_PIN_RESET);
 2862              		.loc 1 797 3 is_stmt 1 view .LVU830
 2863 0122 0022     		movs	r2, #0
 2864 0124 4FF48051 		mov	r1, #4096
 2865 0128 0248     		ldr	r0, .L146
 2866 012a FFF7FEFF 		bl	HAL_GPIO_WritePin
 2867              	.LVL323:
 798:Core/Src/mainLoop.c **** }
 2868              		.loc 1 798 1 is_stmt 0 view .LVU831
 2869 012e 65B0     		add	sp, sp, #404
ARM GAS  /tmp/ccnB5ISM.s 			page 68


 2870              	.LCFI21:
 2871              		.cfi_def_cfa_offset 20
 2872              		@ sp needed
 2873 0130 F0BD     		pop	{r4, r5, r6, r7, pc}
 2874              	.LVL324:
 2875              	.L147:
 2876              		.loc 1 798 1 view .LVU832
 2877 0132 00BF     		.align	2
 2878              	.L146:
 2879 0134 00080240 		.word	1073874944
 2880 0138 0000C842 		.word	1120403456
 2881 013c 00000000 		.word	.LANCHOR7
 2882 0140 00000000 		.word	logPara
 2883 0144 00000000 		.word	.LANCHOR11
 2884              		.cfi_endproc
 2885              	.LFE149:
 2887              		.section	.text.cal_cp_output_dac_ext_3,"ax",%progbits
 2888              		.align	1
 2889              		.global	cal_cp_output_dac_ext_3
 2890              		.syntax unified
 2891              		.thumb
 2892              		.thumb_func
 2893              		.fpu fpv4-sp-d16
 2895              	cal_cp_output_dac_ext_3:
 2896              	.LVL325:
 2897              	.LFB150:
 799:Core/Src/mainLoop.c **** 
 800:Core/Src/mainLoop.c **** //
 801:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext_3(struct adc_buf_t *adc_buf, uint32_t *dacP,
 802:Core/Src/mainLoop.c ****                              uint32_t *dacN, int32_t runTime500us) {}
 2898              		.loc 1 802 68 is_stmt 1 view -0
 2899              		.cfi_startproc
 2900              		@ args = 0, pretend = 0, frame = 0
 2901              		@ frame_needed = 0, uses_anonymous_args = 0
 2902              		@ link register save eliminated.
 2903              		.loc 1 802 69 view .LVU834
 2904 0000 7047     		bx	lr
 2905              		.cfi_endproc
 2906              	.LFE150:
 2908              		.section	.text.fakeDelay,"ax",%progbits
 2909              		.align	1
 2910              		.global	fakeDelay
 2911              		.syntax unified
 2912              		.thumb
 2913              		.thumb_func
 2914              		.fpu fpv4-sp-d16
 2916              	fakeDelay:
 2917              	.LVL326:
 2918              	.LFB151:
 803:Core/Src/mainLoop.c **** 
 804:Core/Src/mainLoop.c **** void fakeDelay(int32_t delay) {
 2919              		.loc 1 804 31 view -0
 2920              		.cfi_startproc
 2921              		@ args = 0, pretend = 0, frame = 0
 2922              		@ frame_needed = 0, uses_anonymous_args = 0
 2923              		@ link register save eliminated.
 2924              		.loc 1 804 31 is_stmt 0 view .LVU836
ARM GAS  /tmp/ccnB5ISM.s 			page 69


 2925 0000 0146     		mov	r1, r0
 805:Core/Src/mainLoop.c ****   int32_t i = 0, k = 0;
 2926              		.loc 1 805 3 is_stmt 1 view .LVU837
 2927              	.LVL327:
 806:Core/Src/mainLoop.c ****   int32_t tmp = 0;
 2928              		.loc 1 806 3 view .LVU838
 807:Core/Src/mainLoop.c ****   for (k = 0; k < delay; k++) {
 2929              		.loc 1 807 3 view .LVU839
 2930              		.loc 1 807 10 is_stmt 0 view .LVU840
 2931 0002 0022     		movs	r2, #0
 2932              		.loc 1 807 3 view .LVU841
 2933 0004 00E0     		b	.L150
 2934              	.LVL328:
 2935              	.L155:
 2936              		.loc 1 807 26 is_stmt 1 discriminator 2 view .LVU842
 2937              		.loc 1 807 27 is_stmt 0 discriminator 2 view .LVU843
 2938 0006 0132     		adds	r2, r2, #1
 2939              	.LVL329:
 2940              	.L150:
 2941              		.loc 1 807 15 is_stmt 1 discriminator 1 view .LVU844
 2942              		.loc 1 807 3 is_stmt 0 discriminator 1 view .LVU845
 2943 0008 8A42     		cmp	r2, r1
 2944 000a 04DA     		bge	.L154
 808:Core/Src/mainLoop.c ****     for (i = 0; i < 100; i++) {
 2945              		.loc 1 808 12 view .LVU846
 2946 000c 0023     		movs	r3, #0
 2947              	.L152:
 2948              	.LVL330:
 2949              		.loc 1 808 17 is_stmt 1 discriminator 1 view .LVU847
 2950              		.loc 1 808 5 is_stmt 0 discriminator 1 view .LVU848
 2951 000e 632B     		cmp	r3, #99
 2952 0010 F9DC     		bgt	.L155
 809:Core/Src/mainLoop.c ****       tmp++;
 2953              		.loc 1 809 7 is_stmt 1 discriminator 3 view .LVU849
 808:Core/Src/mainLoop.c ****     for (i = 0; i < 100; i++) {
 2954              		.loc 1 808 26 discriminator 3 view .LVU850
 808:Core/Src/mainLoop.c ****     for (i = 0; i < 100; i++) {
 2955              		.loc 1 808 27 is_stmt 0 discriminator 3 view .LVU851
 2956 0012 0133     		adds	r3, r3, #1
 2957              	.LVL331:
 808:Core/Src/mainLoop.c ****     for (i = 0; i < 100; i++) {
 2958              		.loc 1 808 27 discriminator 3 view .LVU852
 2959 0014 FBE7     		b	.L152
 2960              	.LVL332:
 2961              	.L154:
 810:Core/Src/mainLoop.c ****     }
 811:Core/Src/mainLoop.c ****   }
 812:Core/Src/mainLoop.c **** }
 2962              		.loc 1 812 1 view .LVU853
 2963 0016 7047     		bx	lr
 2964              		.cfi_endproc
 2965              	.LFE151:
 2967              		.section	.text.preMainLoop1,"ax",%progbits
 2968              		.align	1
 2969              		.global	preMainLoop1
 2970              		.syntax unified
 2971              		.thumb
ARM GAS  /tmp/ccnB5ISM.s 			page 70


 2972              		.thumb_func
 2973              		.fpu fpv4-sp-d16
 2975              	preMainLoop1:
 2976              	.LFB152:
 813:Core/Src/mainLoop.c **** 
 814:Core/Src/mainLoop.c **** extern SPI_HandleTypeDef hspi1;
 815:Core/Src/mainLoop.c **** void preMainLoop1(void) {
 2977              		.loc 1 815 25 is_stmt 1 view -0
 2978              		.cfi_startproc
 2979              		@ args = 0, pretend = 0, frame = 0
 2980              		@ frame_needed = 0, uses_anonymous_args = 0
 2981 0000 08B5     		push	{r3, lr}
 2982              	.LCFI22:
 2983              		.cfi_def_cfa_offset 8
 2984              		.cfi_offset 3, -8
 2985              		.cfi_offset 14, -4
 816:Core/Src/mainLoop.c ****   do {
 2986              		.loc 1 816 3 view .LVU855
 817:Core/Src/mainLoop.c ****     hspi1.Instance = SPI1;
 2987              		.loc 1 817 5 view .LVU856
 2988              		.loc 1 817 20 is_stmt 0 view .LVU857
 2989 0002 1048     		ldr	r0, .L160
 2990 0004 104B     		ldr	r3, .L160+4
 2991 0006 0360     		str	r3, [r0]
 818:Core/Src/mainLoop.c ****     hspi1.Init.Mode = SPI_MODE_MASTER;
 2992              		.loc 1 818 5 is_stmt 1 view .LVU858
 2993              		.loc 1 818 21 is_stmt 0 view .LVU859
 2994 0008 4FF48273 		mov	r3, #260
 2995 000c 4360     		str	r3, [r0, #4]
 819:Core/Src/mainLoop.c ****     hspi1.Init.Direction = SPI_DIRECTION_2LINES;
 2996              		.loc 1 819 5 is_stmt 1 view .LVU860
 2997              		.loc 1 819 26 is_stmt 0 view .LVU861
 2998 000e 0023     		movs	r3, #0
 2999 0010 8360     		str	r3, [r0, #8]
 820:Core/Src/mainLoop.c ****     hspi1.Init.DataSize = SPI_DATASIZE_16BIT;
 3000              		.loc 1 820 5 is_stmt 1 view .LVU862
 3001              		.loc 1 820 25 is_stmt 0 view .LVU863
 3002 0012 4FF40062 		mov	r2, #2048
 3003 0016 C260     		str	r2, [r0, #12]
 821:Core/Src/mainLoop.c ****     hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
 3004              		.loc 1 821 5 is_stmt 1 view .LVU864
 3005              		.loc 1 821 28 is_stmt 0 view .LVU865
 3006 0018 0361     		str	r3, [r0, #16]
 822:Core/Src/mainLoop.c ****     hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
 3007              		.loc 1 822 5 is_stmt 1 view .LVU866
 3008              		.loc 1 822 25 is_stmt 0 view .LVU867
 3009 001a 4361     		str	r3, [r0, #20]
 823:Core/Src/mainLoop.c ****     hspi1.Init.NSS = SPI_NSS_SOFT;
 3010              		.loc 1 823 5 is_stmt 1 view .LVU868
 3011              		.loc 1 823 20 is_stmt 0 view .LVU869
 3012 001c 4FF40072 		mov	r2, #512
 3013 0020 8261     		str	r2, [r0, #24]
 824:Core/Src/mainLoop.c ****     hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_128;
 3014              		.loc 1 824 5 is_stmt 1 view .LVU870
 3015              		.loc 1 824 34 is_stmt 0 view .LVU871
 3016 0022 3022     		movs	r2, #48
 3017 0024 C261     		str	r2, [r0, #28]
ARM GAS  /tmp/ccnB5ISM.s 			page 71


 825:Core/Src/mainLoop.c ****     hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
 3018              		.loc 1 825 5 is_stmt 1 view .LVU872
 3019              		.loc 1 825 25 is_stmt 0 view .LVU873
 3020 0026 0362     		str	r3, [r0, #32]
 826:Core/Src/mainLoop.c ****     hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
 3021              		.loc 1 826 5 is_stmt 1 view .LVU874
 3022              		.loc 1 826 23 is_stmt 0 view .LVU875
 3023 0028 4362     		str	r3, [r0, #36]
 827:Core/Src/mainLoop.c ****     hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 3024              		.loc 1 827 5 is_stmt 1 view .LVU876
 3025              		.loc 1 827 31 is_stmt 0 view .LVU877
 3026 002a 8362     		str	r3, [r0, #40]
 828:Core/Src/mainLoop.c ****     hspi1.Init.CRCPolynomial = 10;
 3027              		.loc 1 828 5 is_stmt 1 view .LVU878
 3028              		.loc 1 828 30 is_stmt 0 view .LVU879
 3029 002c 0A23     		movs	r3, #10
 3030 002e C362     		str	r3, [r0, #44]
 829:Core/Src/mainLoop.c ****     if (HAL_SPI_Init(&hspi1) != HAL_OK) {
 3031              		.loc 1 829 5 is_stmt 1 view .LVU880
 3032              		.loc 1 829 9 is_stmt 0 view .LVU881
 3033 0030 FFF7FEFF 		bl	HAL_SPI_Init
 3034              	.LVL333:
 3035              		.loc 1 829 8 view .LVU882
 3036 0034 10B9     		cbnz	r0, .L159
 3037              	.L157:
 830:Core/Src/mainLoop.c ****       Error_Handler();
 831:Core/Src/mainLoop.c ****     }
 832:Core/Src/mainLoop.c ****   } while (0);
 3038              		.loc 1 832 11 is_stmt 1 view .LVU883
 833:Core/Src/mainLoop.c ****   init_ad9520();
 3039              		.loc 1 833 3 view .LVU884
 3040 0036 FFF7FEFF 		bl	init_ad9520
 3041              	.LVL334:
 834:Core/Src/mainLoop.c **** }
 3042              		.loc 1 834 1 is_stmt 0 view .LVU885
 3043 003a 08BD     		pop	{r3, pc}
 3044              	.L159:
 830:Core/Src/mainLoop.c ****       Error_Handler();
 3045              		.loc 1 830 7 is_stmt 1 view .LVU886
 3046 003c FFF7FEFF 		bl	Error_Handler
 3047              	.LVL335:
 3048 0040 F9E7     		b	.L157
 3049              	.L161:
 3050 0042 00BF     		.align	2
 3051              	.L160:
 3052 0044 00000000 		.word	hspi1
 3053 0048 00300140 		.word	1073819648
 3054              		.cfi_endproc
 3055              	.LFE152:
 3057              		.section	.text.mainLoop1,"ax",%progbits
 3058              		.align	1
 3059              		.global	mainLoop1
 3060              		.syntax unified
 3061              		.thumb
 3062              		.thumb_func
 3063              		.fpu fpv4-sp-d16
 3065              	mainLoop1:
ARM GAS  /tmp/ccnB5ISM.s 			page 72


 3066              	.LFB153:
 835:Core/Src/mainLoop.c **** 
 836:Core/Src/mainLoop.c **** uint16_t ad9520_reg = 0;
 837:Core/Src/mainLoop.c **** uint32_t locked = 0;
 838:Core/Src/mainLoop.c **** uint32_t adcVal, lastAdcVal;
 839:Core/Src/mainLoop.c **** void mainLoop1(void) {
 3067              		.loc 1 839 22 view -0
 3068              		.cfi_startproc
 3069              		@ args = 0, pretend = 0, frame = 32
 3070              		@ frame_needed = 0, uses_anonymous_args = 0
 3071 0000 70B5     		push	{r4, r5, r6, lr}
 3072              	.LCFI23:
 3073              		.cfi_def_cfa_offset 16
 3074              		.cfi_offset 4, -16
 3075              		.cfi_offset 5, -12
 3076              		.cfi_offset 6, -8
 3077              		.cfi_offset 14, -4
 3078 0002 88B0     		sub	sp, sp, #32
 3079              	.LCFI24:
 3080              		.cfi_def_cfa_offset 48
 840:Core/Src/mainLoop.c **** #define CONST_DELTDA (0X000)
 841:Core/Src/mainLoop.c ****   uint32_t dac_default_val[8] = {0, 0, 0, 0, 0, 0, 0, 0};
 3081              		.loc 1 841 3 view .LVU888
 3082              		.loc 1 841 12 is_stmt 0 view .LVU889
 3083 0004 2022     		movs	r2, #32
 3084 0006 0021     		movs	r1, #0
 3085 0008 6846     		mov	r0, sp
 3086 000a FFF7FEFF 		bl	memset
 3087              	.LVL336:
 842:Core/Src/mainLoop.c ****   int32_t runTimes =
 3088              		.loc 1 842 3 is_stmt 1 view .LVU890
 843:Core/Src/mainLoop.c ****       0;  // log 30s, for example 0.5ms*2000=1s, runtimes=2000*60=1min
 844:Core/Src/mainLoop.c ****   int32_t xyz = 0;
 3089              		.loc 1 844 3 view .LVU891
 845:Core/Src/mainLoop.c ****   adc1_t1.adc_cap_ok = CALOK;
 3090              		.loc 1 845 3 view .LVU892
 3091              		.loc 1 845 22 is_stmt 0 view .LVU893
 3092 000e 4FF6FF73 		movw	r3, #65535
 3093 0012 354D     		ldr	r5, .L168
 3094 0014 45F8043B 		str	r3, [r5], #4
 846:Core/Src/mainLoop.c ****   adc1_t2.adc_cap_ok = CALOK;
 3095              		.loc 1 846 3 is_stmt 1 view .LVU894
 3096              		.loc 1 846 22 is_stmt 0 view .LVU895
 3097 0018 344A     		ldr	r2, .L168+4
 3098 001a 1360     		str	r3, [r2]
 847:Core/Src/mainLoop.c ****   /* USER CODE BEGIN 2 */
 848:Core/Src/mainLoop.c ****   // SystemClock_Config();//from main.c
 849:Core/Src/mainLoop.c ****   // MX_USART2_UART_Init();
 850:Core/Src/mainLoop.c ****   init_max5307();
 3099              		.loc 1 850 3 is_stmt 1 view .LVU896
 3100 001c FFF7FEFF 		bl	init_max5307
 3101              	.LVL337:
 851:Core/Src/mainLoop.c ****   set_dac_initVal(dac_default_val);
 3102              		.loc 1 851 3 view .LVU897
 3103 0020 6846     		mov	r0, sp
 3104 0022 FFF7FEFF 		bl	set_dac_initVal
 3105              	.LVL338:
ARM GAS  /tmp/ccnB5ISM.s 			page 73


 852:Core/Src/mainLoop.c ****   max5307_w_chanel(max_ch8, 2048, max_outenable);
 3106              		.loc 1 852 3 view .LVU898
 3107 0026 0122     		movs	r2, #1
 3108 0028 4FF40061 		mov	r1, #2048
 3109 002c 0920     		movs	r0, #9
 3110 002e FFF7FEFF 		bl	max5307_w_chanel
 3111              	.LVL339:
 853:Core/Src/mainLoop.c ****   do {  // set 1.5v
 3112              		.loc 1 853 3 view .LVU899
 854:Core/Src/mainLoop.c ****     value_dacP -= CONST_DELTDA;
 3113              		.loc 1 854 5 view .LVU900
 3114              		.loc 1 854 16 is_stmt 0 view .LVU901
 3115 0032 2F4C     		ldr	r4, .L168+8
 3116 0034 2168     		ldr	r1, [r4]
 855:Core/Src/mainLoop.c ****     value_dacN += CONST_DELTDA;
 3117              		.loc 1 855 5 is_stmt 1 view .LVU902
 856:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1, (value_dacP >> 12), max_outenable);
 3118              		.loc 1 856 5 view .LVU903
 3119 0036 0122     		movs	r2, #1
 3120 0038 090B     		lsrs	r1, r1, #12
 3121 003a 0620     		movs	r0, #6
 3122 003c FFF7FEFF 		bl	max5307_w_chanel
 3123              	.LVL340:
 857:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1K, (value_dacP & 0XFFF), max_outenable);
 3124              		.loc 1 857 5 view .LVU904
 3125 0040 2168     		ldr	r1, [r4]
 3126 0042 0122     		movs	r2, #1
 3127 0044 C1F30B01 		ubfx	r1, r1, #0, #12
 3128 0048 0720     		movs	r0, #7
 3129 004a FFF7FEFF 		bl	max5307_w_chanel
 3130              	.LVL341:
 858:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1, (value_dacN >> 12), max_outenable);
 3131              		.loc 1 858 5 view .LVU905
 3132 004e 294C     		ldr	r4, .L168+12
 3133 0050 2168     		ldr	r1, [r4]
 3134 0052 0122     		movs	r2, #1
 3135 0054 090B     		lsrs	r1, r1, #12
 3136 0056 0520     		movs	r0, #5
 3137 0058 FFF7FEFF 		bl	max5307_w_chanel
 3138              	.LVL342:
 859:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1K, (value_dacN & 0xFFF), max_outenable);
 3139              		.loc 1 859 5 view .LVU906
 3140 005c 2168     		ldr	r1, [r4]
 3141 005e 0122     		movs	r2, #1
 3142 0060 C1F30B01 		ubfx	r1, r1, #0, #12
 3143 0064 0420     		movs	r0, #4
 3144 0066 FFF7FEFF 		bl	max5307_w_chanel
 3145              	.LVL343:
 860:Core/Src/mainLoop.c ****   } while (0);
 3146              		.loc 1 860 11 view .LVU907
 861:Core/Src/mainLoop.c **** 
 862:Core/Src/mainLoop.c ****   init_ad9520();
 3147              		.loc 1 862 3 view .LVU908
 3148 006a FFF7FEFF 		bl	init_ad9520
 3149              	.LVL344:
 863:Core/Src/mainLoop.c ****   // SystemClock_Config();
 864:Core/Src/mainLoop.c ****   // MX_USART2_UART_Init();
ARM GAS  /tmp/ccnB5ISM.s 			page 74


 865:Core/Src/mainLoop.c ****   // fprintf(logBufDma,"helloworld");
 866:Core/Src/mainLoop.c ****   //  for(int i=0;i<10;i++){
 867:Core/Src/mainLoop.c ****   //  	logBufDma[i] = 65 + i;
 868:Core/Src/mainLoop.c ****   //  }
 869:Core/Src/mainLoop.c ****   logBufDma.sbs = 35;  //'#'
 3150              		.loc 1 869 3 view .LVU909
 3151              		.loc 1 869 17 is_stmt 0 view .LVU910
 3152 006e 224E     		ldr	r6, .L168+16
 3153 0070 2323     		movs	r3, #35
 3154 0072 3370     		strb	r3, [r6]
 870:Core/Src/mainLoop.c **** 
 871:Core/Src/mainLoop.c ****   HAL_UART_IRQHandler(&huart2);  // must add this, ornot uart2 dma not work
 3155              		.loc 1 871 3 is_stmt 1 view .LVU911
 3156 0074 214C     		ldr	r4, .L168+20
 3157 0076 2046     		mov	r0, r4
 3158 0078 FFF7FEFF 		bl	HAL_UART_IRQHandler
 3159              	.LVL345:
 872:Core/Src/mainLoop.c ****   HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
 3160              		.loc 1 872 3 view .LVU912
 3161 007c 0F22     		movs	r2, #15
 3162 007e 3146     		mov	r1, r6
 3163 0080 2046     		mov	r0, r4
 3164 0082 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 3165              	.LVL346:
 873:Core/Src/mainLoop.c ****                         sizeof(struct log_para_t));
 874:Core/Src/mainLoop.c **** 
 875:Core/Src/mainLoop.c ****   HAL_Delay(1);
 3166              		.loc 1 875 3 view .LVU913
 3167 0086 0120     		movs	r0, #1
 3168 0088 FFF7FEFF 		bl	HAL_Delay
 3169              	.LVL347:
 876:Core/Src/mainLoop.c ****   adc1_ok = 0;
 3170              		.loc 1 876 3 view .LVU914
 3171              		.loc 1 876 11 is_stmt 0 view .LVU915
 3172 008c 0024     		movs	r4, #0
 3173 008e 1C4B     		ldr	r3, .L168+24
 3174 0090 1C60     		str	r4, [r3]
 877:Core/Src/mainLoop.c ****   adc2_ok = 0;
 3175              		.loc 1 877 3 is_stmt 1 view .LVU916
 3176              		.loc 1 877 11 is_stmt 0 view .LVU917
 3177 0092 1C4B     		ldr	r3, .L168+28
 3178 0094 1C60     		str	r4, [r3]
 878:Core/Src/mainLoop.c ****   // Âú®‰∏ãÈù¢ÁöÑ‰ª£Á†Å‰∏≠‰ΩøÁî®while(1)Âæ™ÁéØÊµãËØïadcÈááÊ†∑ÔºådacËæìÂá∫ÔºåËøôÊòØ‰∏ÄÊÆµ‰∏¥Êó∂ÊµãËØ
 879:Core/Src/mainLoop.c ****   //    HAL_ADC_Start(&hadc2);
 880:Core/Src/mainLoop.c ****   //    uint32_t adcVal = 0;
 881:Core/Src/mainLoop.c ****   //    int32_t adcCalVal = 0;
 882:Core/Src/mainLoop.c ****   //    int32_t nowVal=0,lastVal=0;
 883:Core/Src/mainLoop.c ****   //    double adcValF = 0;
 884:Core/Src/mainLoop.c ****   //    uint32_t dacP=value_dacP, dacN=value_dacN;
 885:Core/Src/mainLoop.c ****   //    HAL_ADC_Start_DMA(&hadc2, (uint32_t *)(&adcVal), 1);
 886:Core/Src/mainLoop.c ****   //    while(1){
 887:Core/Src/mainLoop.c **** 
 888:Core/Src/mainLoop.c ****   //     if(adc1_t1.adc_cap_ok == ADCCAPOK){
 889:Core/Src/mainLoop.c ****   //       adc1_t1.adc_cap_ok = ADCCAPWAIT;
 890:Core/Src/mainLoop.c ****   //       lastVal = nowVal;
 891:Core/Src/mainLoop.c ****   //       nowVal = (adcVal&0xfff);
 892:Core/Src/mainLoop.c ****   //       adcCalVal = (int32_t)nowVal - (int32_t)lastVal;
ARM GAS  /tmp/ccnB5ISM.s 			page 75


 893:Core/Src/mainLoop.c ****   //       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)(&adcVal), 1);
 894:Core/Src/mainLoop.c ****   //     #define kP_3 (-5000.0)
 895:Core/Src/mainLoop.c ****   //     #define DELV (100)
 896:Core/Src/mainLoop.c ****   //       if( (abs(adcCalVal) < 100) && (abs(adcCalVal) > 20)){
 897:Core/Src/mainLoop.c ****   //         dletDac = ((float_t)adcCalVal) * kP_3;
 898:Core/Src/mainLoop.c ****   //         if(dletDac>0){
 899:Core/Src/mainLoop.c ****   //           (dacP) += DELV;
 900:Core/Src/mainLoop.c ****   //           (dacN) -= DELV;
 901:Core/Src/mainLoop.c ****   //         }else{
 902:Core/Src/mainLoop.c ****   //           (dacP) -= DELV;
 903:Core/Src/mainLoop.c ****   //           (dacN) += DELV;
 904:Core/Src/mainLoop.c ****   //         }
 905:Core/Src/mainLoop.c ****   //         max5307_w_chanel(DACP_1, (((dacP) >> 20) & 0xffc), max_outdisable);
 906:Core/Src/mainLoop.c ****   //         max5307_w_chanel(DACP_1K, (((dacP) >> 10) & 0xffc),
 907:Core/Src/mainLoop.c ****   //         max_outdisable); max5307_w_chanel(DACP_1M, ((dacP) & 0xfff) &
 908:Core/Src/mainLoop.c ****   //         0xfff, max_outdisable); max5307_w_chanel(DACN_1, (((dacN) >> 20) &
 909:Core/Src/mainLoop.c ****   //         0xffc), max_outdisable); max5307_w_chanel(DACN_1K, (((dacN) >> 10)
 910:Core/Src/mainLoop.c ****   //         & 0xffc), max_outdisable); max5307_w_chanel(DACN_1M, ((dacN) &
 911:Core/Src/mainLoop.c ****   //         0xfff) & 0xfff, max_outdisable);
 912:Core/Src/mainLoop.c **** 
 913:Core/Src/mainLoop.c ****   //         do {
 914:Core/Src/mainLoop.c ****   //           uint16_t chanelNo = 0;
 915:Core/Src/mainLoop.c ****   //           chanelNo = 0x01 << (DACP_1 + 2) | 0x01 << (DACP_1K + 2) |
 916:Core/Src/mainLoop.c ****   //                    0x01 << (DACP_1M + 2) | 0x01 << (DACN_1 + 2) |
 917:Core/Src/mainLoop.c ****   //                    0x01 << (DACN_1K + 2) | 0x01 << (DACN_1M + 2);
 918:Core/Src/mainLoop.c ****   //           max5307_enable_ori_chanel(chanelNo);
 919:Core/Src/mainLoop.c ****   //         } while (0);
 920:Core/Src/mainLoop.c ****   //       }
 921:Core/Src/mainLoop.c **** 
 922:Core/Src/mainLoop.c ****   //       // max5307_w_chanel(DACP_1,  (((adcCalVal) >> 0)&0xfff),
 923:Core/Src/mainLoop.c ****   //       max_outenable); HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 924:Core/Src/mainLoop.c ****   //     }
 925:Core/Src/mainLoop.c ****   //  }
 926:Core/Src/mainLoop.c **** 
 927:Core/Src/mainLoop.c ****   HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t1.buf, ADC_BUF_T_SIZE * 2);
 3179              		.loc 1 927 3 is_stmt 1 view .LVU918
 3180 0096 C822     		movs	r2, #200
 3181 0098 2946     		mov	r1, r5
 3182 009a 1B48     		ldr	r0, .L168+32
 3183 009c FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3184              	.LVL348:
 928:Core/Src/mainLoop.c ****   int32_t deltaDAC = 0;
 3185              		.loc 1 928 3 view .LVU919
 929:Core/Src/mainLoop.c ****   while (0) {
 3186              		.loc 1 929 3 view .LVU920
 3187              		.loc 1 929 9 is_stmt 0 view .LVU921
 3188 00a0 0AE0     		b	.L163
 3189              	.LVL349:
 3190              	.L167:
 930:Core/Src/mainLoop.c ****     value_dacP += deltaDAC;
 931:Core/Src/mainLoop.c ****     value_dacN -= deltaDAC;
 932:Core/Src/mainLoop.c ****     deltaDAC += 1;
 933:Core/Src/mainLoop.c **** 
 934:Core/Src/mainLoop.c ****     // max5307_w_chanel(DACP_1, (value_dacP  >> 12)&0xffc, max_outdisable);
 935:Core/Src/mainLoop.c ****     // max5307_w_chanel(DACP_1K, ((value_dacP>>0) & 0xfff), max_outdisable);
 936:Core/Src/mainLoop.c ****     // max5307_w_chanel(DACN_1, (value_dacN  >> 12)&0xffc, max_outdisable);
 937:Core/Src/mainLoop.c ****     // max5307_w_chanel(DACN_1K, ((value_dacN>>0) & 0xfff), max_outdisable);
ARM GAS  /tmp/ccnB5ISM.s 			page 76


 938:Core/Src/mainLoop.c **** 
 939:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1, (((value_dacP) >> 20) & 0xffc), max_outdisable);
 940:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1K, (((value_dacP) >> 10) & 0xffc), max_outdisable);
 941:Core/Src/mainLoop.c ****     max5307_w_chanel(DACP_1M, ((value_dacP) & 0xfff) & 0xfff, max_outdisable);
 942:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1, (((value_dacN) >> 20) & 0xffc), max_outdisable);
 943:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1K, (((value_dacN) >> 10) & 0xffc), max_outdisable);
 944:Core/Src/mainLoop.c ****     max5307_w_chanel(DACN_1M, ((value_dacN) & 0xfff) & 0xfff, max_outdisable);
 945:Core/Src/mainLoop.c **** 
 946:Core/Src/mainLoop.c ****     do {
 947:Core/Src/mainLoop.c ****       uint16_t chanelNo = 0;
 948:Core/Src/mainLoop.c ****       chanelNo = 0x01 << (DACP_1 + 2) | 0x01 << (DACP_1K + 2) |
 949:Core/Src/mainLoop.c ****                  0x01 << (DACP_1M + 2) | 0x01 << (DACN_1 + 2) |
 950:Core/Src/mainLoop.c ****                  0x01 << (DACN_1K + 2) | 0x01 << (DACN_1M + 2);
 951:Core/Src/mainLoop.c ****       max5307_enable_ori_chanel(chanelNo);
 952:Core/Src/mainLoop.c ****     } while (0);
 953:Core/Src/mainLoop.c ****     // HAL_Delay(1);
 954:Core/Src/mainLoop.c ****   }
 955:Core/Src/mainLoop.c **** 
 956:Core/Src/mainLoop.c ****   /* USER CODE END 2 */
 957:Core/Src/mainLoop.c **** 
 958:Core/Src/mainLoop.c ****   while (1) {
 959:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == ADCCAPOK) {
 960:Core/Src/mainLoop.c ****       // cal t1
 961:Core/Src/mainLoop.c ****       // HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t2.buf ,ADC_BUF_T_SIZE*2);
 962:Core/Src/mainLoop.c ****       // cal_cp_output_dac(&adc1_t1, &value_dacP, &value_dacN);
 963:Core/Src/mainLoop.c ****       cal_cp_output_dac_ext_1(&adc1_t1, &value_dacP, &value_dacN, runTimes);
 3191              		.loc 1 963 7 is_stmt 1 view .LVU922
 3192 00a2 114D     		ldr	r5, .L168
 3193 00a4 2346     		mov	r3, r4
 3194 00a6 134A     		ldr	r2, .L168+12
 3195 00a8 1149     		ldr	r1, .L168+8
 3196 00aa 2846     		mov	r0, r5
 3197 00ac FFF7FEFF 		bl	cal_cp_output_dac_ext_1
 3198              	.LVL350:
 964:Core/Src/mainLoop.c ****       adc1_t1.adc_cap_ok = CALOK;
 3199              		.loc 1 964 7 view .LVU923
 3200              		.loc 1 964 26 is_stmt 0 view .LVU924
 3201 00b0 4FF6FF73 		movw	r3, #65535
 3202 00b4 2B60     		str	r3, [r5]
 965:Core/Src/mainLoop.c ****       runTimes++;  // log run time runTimes+1 = 500us,
 3203              		.loc 1 965 7 is_stmt 1 view .LVU925
 3204              		.loc 1 965 15 is_stmt 0 view .LVU926
 3205 00b6 0134     		adds	r4, r4, #1
 3206              	.LVL351:
 3207              	.L163:
 952:Core/Src/mainLoop.c ****     // HAL_Delay(1);
 3208              		.loc 1 952 13 is_stmt 1 view .LVU927
 929:Core/Src/mainLoop.c ****     value_dacP += deltaDAC;
 3209              		.loc 1 929 9 view .LVU928
 958:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == ADCCAPOK) {
 3210              		.loc 1 958 3 view .LVU929
 959:Core/Src/mainLoop.c ****       // cal t1
 3211              		.loc 1 959 5 view .LVU930
 959:Core/Src/mainLoop.c ****       // cal t1
 3212              		.loc 1 959 16 is_stmt 0 view .LVU931
 3213 00b8 0B4B     		ldr	r3, .L168
 3214 00ba 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccnB5ISM.s 			page 77


 959:Core/Src/mainLoop.c ****       // cal t1
 3215              		.loc 1 959 8 view .LVU932
 3216 00bc 45F25553 		movw	r3, #21845
 3217 00c0 9A42     		cmp	r2, r3
 3218 00c2 EED0     		beq	.L167
 966:Core/Src/mainLoop.c **** 
 967:Core/Src/mainLoop.c ****     } else if (adc1_t2.adc_cap_ok == ADCCAPOK) {
 3219              		.loc 1 967 12 is_stmt 1 view .LVU933
 3220              		.loc 1 967 23 is_stmt 0 view .LVU934
 3221 00c4 094B     		ldr	r3, .L168+4
 3222 00c6 1A68     		ldr	r2, [r3]
 3223              		.loc 1 967 15 view .LVU935
 3224 00c8 45F25553 		movw	r3, #21845
 3225 00cc 9A42     		cmp	r2, r3
 3226 00ce F3D1     		bne	.L163
 968:Core/Src/mainLoop.c ****       // cal t2
 969:Core/Src/mainLoop.c ****       // HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t1.buf ,ADC_BUF_T_SIZE*2);
 970:Core/Src/mainLoop.c ****       // cal_cp_output_dac(&adc1_t2, &value_dacP, &value_dacN);
 971:Core/Src/mainLoop.c ****       cal_cp_output_dac_ext_1(&adc1_t2, &value_dacP, &value_dacN, runTimes);
 3227              		.loc 1 971 7 is_stmt 1 view .LVU936
 3228 00d0 064D     		ldr	r5, .L168+4
 3229 00d2 2346     		mov	r3, r4
 3230 00d4 074A     		ldr	r2, .L168+12
 3231 00d6 0649     		ldr	r1, .L168+8
 3232 00d8 2846     		mov	r0, r5
 3233 00da FFF7FEFF 		bl	cal_cp_output_dac_ext_1
 3234              	.LVL352:
 972:Core/Src/mainLoop.c ****       adc1_t2.adc_cap_ok = CALOK;
 3235              		.loc 1 972 7 view .LVU937
 3236              		.loc 1 972 26 is_stmt 0 view .LVU938
 3237 00de 4FF6FF73 		movw	r3, #65535
 3238 00e2 2B60     		str	r3, [r5]
 973:Core/Src/mainLoop.c ****       runTimes++;  // log run time runTimes+1 = 500us,
 3239              		.loc 1 973 7 is_stmt 1 view .LVU939
 3240              		.loc 1 973 15 is_stmt 0 view .LVU940
 3241 00e4 0134     		adds	r4, r4, #1
 3242              	.LVL353:
 3243              		.loc 1 973 15 view .LVU941
 3244 00e6 E7E7     		b	.L163
 3245              	.L169:
 3246              		.align	2
 3247              	.L168:
 3248 00e8 00000000 		.word	adc1_t1
 3249 00ec 00000000 		.word	adc1_t2
 3250 00f0 00000000 		.word	.LANCHOR14
 3251 00f4 00000000 		.word	.LANCHOR15
 3252 00f8 00000000 		.word	logBufDma
 3253 00fc 00000000 		.word	huart2
 3254 0100 00000000 		.word	.LANCHOR16
 3255 0104 00000000 		.word	.LANCHOR17
 3256 0108 00000000 		.word	hadc2
 3257              		.cfi_endproc
 3258              	.LFE153:
 3260              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
 3261              		.align	1
 3262              		.global	HAL_ADC_ConvCpltCallback
 3263              		.syntax unified
ARM GAS  /tmp/ccnB5ISM.s 			page 78


 3264              		.thumb
 3265              		.thumb_func
 3266              		.fpu fpv4-sp-d16
 3268              	HAL_ADC_ConvCpltCallback:
 3269              	.LVL354:
 3270              	.LFB154:
 974:Core/Src/mainLoop.c ****     }
 975:Core/Src/mainLoop.c ****     // printf("hello stm32 detect vel\n");
 976:Core/Src/mainLoop.c ****     // HAL_Delay(100);
 977:Core/Src/mainLoop.c ****   }
 978:Core/Src/mainLoop.c **** }
 979:Core/Src/mainLoop.c **** 
 980:Core/Src/mainLoop.c **** // Áî®‰∫éÂø´ÈÄüadcÈááÊ†∑ÔºåÈááÁî®dmaÊñπÂºèÔºåÊØèÊ¨°Âè™ÈááÊ†∑‰∏Ä‰∏™Êï∞ÂÄºÔºådma‰∏≠Êñ≠‰ª£Á†Å‰∏≠ËÆæÁΩÆ
 981:Core/Src/mainLoop.c **** // ‰∏ªÁ®ãÂ∫èÊé•Êî∂Âà∞Ê†áÂøóÂêéÔºåÂèØ‰ª•ËØªÂèñadcÈááÊ†∑ÂÄºÔºåÂπ∂ÂºÄÂêØ‰∏ã‰∏ÄÊ¨°adc dmaÈááÊ†∑
 982:Core/Src/mainLoop.c **** //  void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef *hadc) {
 983:Core/Src/mainLoop.c **** //    if (hadc == &hadc1) {
 984:Core/Src/mainLoop.c **** //      adc1_ok = 1;
 985:Core/Src/mainLoop.c **** //      HAL_ADC_Start_DMA(&hadc1, (uint32_t *)adc1_t1.buf, ADC_BUF_T_SIZE * 2);
 986:Core/Src/mainLoop.c **** //    }
 987:Core/Src/mainLoop.c **** //    if (hadc == &hadc2) {
 988:Core/Src/mainLoop.c **** //      adc1_t1.adc_cap_ok = ADCCAPOK;
 989:Core/Src/mainLoop.c **** 
 990:Core/Src/mainLoop.c **** //   }
 991:Core/Src/mainLoop.c **** // }
 992:Core/Src/mainLoop.c **** 
 993:Core/Src/mainLoop.c **** void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef *hadc) {
 3271              		.loc 1 993 56 is_stmt 1 view -0
 3272              		.cfi_startproc
 3273              		@ args = 0, pretend = 0, frame = 0
 3274              		@ frame_needed = 0, uses_anonymous_args = 0
 3275              		.loc 1 993 56 is_stmt 0 view .LVU943
 3276 0000 10B5     		push	{r4, lr}
 3277              	.LCFI25:
 3278              		.cfi_def_cfa_offset 8
 3279              		.cfi_offset 4, -8
 3280              		.cfi_offset 14, -4
 3281 0002 0446     		mov	r4, r0
 994:Core/Src/mainLoop.c ****   // ËøôÈáåÊòØÂΩìADCËΩ¨Êç¢ÂÆåÊàêÊó∂ÊâßË°åÁöÑ‰ª£Á†Å
 995:Core/Src/mainLoop.c ****   // ÂèØ‰ª•ËÆæÁΩÆÊ†áÂøóÔºåÈÄöÁü•‰∏ªÁ®ãÂ∫èÈááÊ†∑Â∑≤ÁªèÂÆåÊàê
 996:Core/Src/mainLoop.c ****   if (hadc == &hadc1) {
 3282              		.loc 1 996 3 is_stmt 1 view .LVU944
 3283              		.loc 1 996 6 is_stmt 0 view .LVU945
 3284 0004 1C4B     		ldr	r3, .L180
 3285 0006 9842     		cmp	r0, r3
 3286 0008 03D0     		beq	.L176
 3287              	.LVL355:
 3288              	.L171:
 997:Core/Src/mainLoop.c ****     adc2_ok = 1;
 998:Core/Src/mainLoop.c ****     HAL_ADC_Start_DMA(&hadc1, (uint32_t *)value_adc2, ADC_TIMES_N);
 999:Core/Src/mainLoop.c ****   }
1000:Core/Src/mainLoop.c ****   if (hadc == &hadc2) {
 3289              		.loc 1 1000 3 is_stmt 1 view .LVU946
 3290              		.loc 1 1000 6 is_stmt 0 view .LVU947
 3291 000a 1C4B     		ldr	r3, .L180+4
 3292 000c 9C42     		cmp	r4, r3
 3293 000e 0AD0     		beq	.L177
 3294              	.LVL356:
ARM GAS  /tmp/ccnB5ISM.s 			page 79


 3295              	.L170:
1001:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == CALOK) {
1002:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t1.buf, ADC_BUF_T_SIZE * 2);
1003:Core/Src/mainLoop.c ****       adc1_t1.adc_cap_ok = ADCCAPOK;
1004:Core/Src/mainLoop.c ****     } else if (adc1_t2.adc_cap_ok == CALOK) {
1005:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t2.buf, ADC_BUF_T_SIZE * 2);
1006:Core/Src/mainLoop.c ****       adc1_t2.adc_cap_ok = ADCCAPOK;
1007:Core/Src/mainLoop.c ****     } else {
1008:Core/Src/mainLoop.c ****     }
1009:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
1010:Core/Src/mainLoop.c ****   }
1011:Core/Src/mainLoop.c **** }
 3296              		.loc 1 1011 1 view .LVU948
 3297 0010 10BD     		pop	{r4, pc}
 3298              	.LVL357:
 3299              	.L176:
 997:Core/Src/mainLoop.c ****     adc2_ok = 1;
 3300              		.loc 1 997 5 is_stmt 1 view .LVU949
 997:Core/Src/mainLoop.c ****     adc2_ok = 1;
 3301              		.loc 1 997 13 is_stmt 0 view .LVU950
 3302 0012 1B4B     		ldr	r3, .L180+8
 3303 0014 0122     		movs	r2, #1
 3304 0016 1A60     		str	r2, [r3]
 998:Core/Src/mainLoop.c ****   }
 3305              		.loc 1 998 5 is_stmt 1 view .LVU951
 3306 0018 4FF4FA52 		mov	r2, #8000
 3307 001c 1949     		ldr	r1, .L180+12
 3308 001e 1648     		ldr	r0, .L180
 3309              	.LVL358:
 998:Core/Src/mainLoop.c ****   }
 3310              		.loc 1 998 5 is_stmt 0 view .LVU952
 3311 0020 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3312              	.LVL359:
 3313 0024 F1E7     		b	.L171
 3314              	.L177:
1001:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == CALOK) {
 3315              		.loc 1 1001 5 is_stmt 1 view .LVU953
1001:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == CALOK) {
 3316              		.loc 1 1001 16 is_stmt 0 view .LVU954
 3317 0026 184B     		ldr	r3, .L180+16
 3318 0028 1A68     		ldr	r2, [r3]
1001:Core/Src/mainLoop.c ****     if (adc1_t1.adc_cap_ok == CALOK) {
 3319              		.loc 1 1001 8 view .LVU955
 3320 002a 4FF6FF73 		movw	r3, #65535
 3321 002e 9A42     		cmp	r2, r3
 3322 0030 0BD0     		beq	.L178
1004:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t2.buf, ADC_BUF_T_SIZE * 2);
 3323              		.loc 1 1004 12 is_stmt 1 view .LVU956
1004:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t2.buf, ADC_BUF_T_SIZE * 2);
 3324              		.loc 1 1004 23 is_stmt 0 view .LVU957
 3325 0032 164B     		ldr	r3, .L180+20
 3326 0034 1A68     		ldr	r2, [r3]
1004:Core/Src/mainLoop.c ****       HAL_ADC_Start_DMA(&hadc2, (uint32_t *)adc1_t2.buf, ADC_BUF_T_SIZE * 2);
 3327              		.loc 1 1004 15 view .LVU958
 3328 0036 4FF6FF73 		movw	r3, #65535
 3329 003a 9A42     		cmp	r2, r3
 3330 003c 10D0     		beq	.L179
ARM GAS  /tmp/ccnB5ISM.s 			page 80


 3331              	.LVL360:
 3332              	.L174:
1008:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 3333              		.loc 1 1008 5 is_stmt 1 view .LVU959
1009:Core/Src/mainLoop.c ****   }
 3334              		.loc 1 1009 5 view .LVU960
 3335 003e 4FF40061 		mov	r1, #2048
 3336 0042 1348     		ldr	r0, .L180+24
 3337 0044 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 3338              	.LVL361:
 3339              		.loc 1 1011 1 is_stmt 0 view .LVU961
 3340 0048 E2E7     		b	.L170
 3341              	.LVL362:
 3342              	.L178:
1002:Core/Src/mainLoop.c ****       adc1_t1.adc_cap_ok = ADCCAPOK;
 3343              		.loc 1 1002 7 is_stmt 1 view .LVU962
 3344 004a 124C     		ldr	r4, .L180+28
 3345              	.LVL363:
1002:Core/Src/mainLoop.c ****       adc1_t1.adc_cap_ok = ADCCAPOK;
 3346              		.loc 1 1002 7 is_stmt 0 view .LVU963
 3347 004c C822     		movs	r2, #200
 3348 004e 2146     		mov	r1, r4
 3349 0050 0A48     		ldr	r0, .L180+4
 3350 0052 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3351              	.LVL364:
1003:Core/Src/mainLoop.c ****     } else if (adc1_t2.adc_cap_ok == CALOK) {
 3352              		.loc 1 1003 7 is_stmt 1 view .LVU964
1003:Core/Src/mainLoop.c ****     } else if (adc1_t2.adc_cap_ok == CALOK) {
 3353              		.loc 1 1003 26 is_stmt 0 view .LVU965
 3354 0056 45F25553 		movw	r3, #21845
 3355 005a 44F8043C 		str	r3, [r4, #-4]
 3356 005e EEE7     		b	.L174
 3357              	.LVL365:
 3358              	.L179:
1005:Core/Src/mainLoop.c ****       adc1_t2.adc_cap_ok = ADCCAPOK;
 3359              		.loc 1 1005 7 is_stmt 1 view .LVU966
 3360 0060 0D4C     		ldr	r4, .L180+32
 3361              	.LVL366:
1005:Core/Src/mainLoop.c ****       adc1_t2.adc_cap_ok = ADCCAPOK;
 3362              		.loc 1 1005 7 is_stmt 0 view .LVU967
 3363 0062 C822     		movs	r2, #200
 3364 0064 2146     		mov	r1, r4
 3365 0066 0548     		ldr	r0, .L180+4
 3366 0068 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 3367              	.LVL367:
1006:Core/Src/mainLoop.c ****     } else {
 3368              		.loc 1 1006 7 is_stmt 1 view .LVU968
1006:Core/Src/mainLoop.c ****     } else {
 3369              		.loc 1 1006 26 is_stmt 0 view .LVU969
 3370 006c 45F25553 		movw	r3, #21845
 3371 0070 44F8043C 		str	r3, [r4, #-4]
 3372 0074 E3E7     		b	.L174
 3373              	.L181:
 3374 0076 00BF     		.align	2
 3375              	.L180:
 3376 0078 00000000 		.word	hadc1
 3377 007c 00000000 		.word	hadc2
ARM GAS  /tmp/ccnB5ISM.s 			page 81


 3378 0080 00000000 		.word	.LANCHOR17
 3379 0084 00000000 		.word	value_adc2
 3380 0088 00000000 		.word	adc1_t1
 3381 008c 00000000 		.word	adc1_t2
 3382 0090 00080240 		.word	1073874944
 3383 0094 04000000 		.word	adc1_t1+4
 3384 0098 04000000 		.word	adc1_t2+4
 3385              		.cfi_endproc
 3386              	.LFE154:
 3388              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 3389              		.align	1
 3390              		.global	HAL_UART_TxCpltCallback
 3391              		.syntax unified
 3392              		.thumb
 3393              		.thumb_func
 3394              		.fpu fpv4-sp-d16
 3396              	HAL_UART_TxCpltCallback:
 3397              	.LVL368:
 3398              	.LFB155:
1012:Core/Src/mainLoop.c **** 
1013:Core/Src/mainLoop.c **** // void HAL_UART_TxHalfCpltCallback(UART_HandleTypeDef *huart){
1014:Core/Src/mainLoop.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
 3399              		.loc 1 1014 57 is_stmt 1 view -0
 3400              		.cfi_startproc
 3401              		@ args = 0, pretend = 0, frame = 0
 3402              		@ frame_needed = 0, uses_anonymous_args = 0
 3403              		@ link register save eliminated.
1015:Core/Src/mainLoop.c ****   if (huart == &huart2) {
 3404              		.loc 1 1015 3 view .LVU971
 3405              		.loc 1 1015 6 is_stmt 0 view .LVU972
 3406 0000 044B     		ldr	r3, .L185
 3407 0002 8342     		cmp	r3, r0
 3408 0004 00D0     		beq	.L184
 3409              	.L182:
1016:Core/Src/mainLoop.c ****     // logBufDma.mean_adc_val = logPara.mean_adc_val;
1017:Core/Src/mainLoop.c ****     // logBufDma.dac_val_p = logPara.dac_val_p;
1018:Core/Src/mainLoop.c ****     // logBufDma.dac_val_n = logPara.dac_val_n;
1019:Core/Src/mainLoop.c ****     // HAL_UART_Transmit_DMA(&huart2, (uint8_t *)&logBufDma,
1020:Core/Src/mainLoop.c ****     //                       sizeof(struct log_para_t));
1021:Core/Src/mainLoop.c **** 
1022:Core/Src/mainLoop.c ****     // 2024.6.11 ‰∏∫‰∫Ü‰øùËØÅÊØèÊ¨°ÂèëÈÄÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÔºåËÆæÁΩÆÊ†áÂøó‰ΩçÔºåÁî®Êù•ÂêØÂä®‰∏ã‰∏ÄÊ¨°Â
1023:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_OK;
1024:Core/Src/mainLoop.c ****   }
1025:Core/Src/mainLoop.c **** }...
 3410              		.loc 1 1025 1 view .LVU973
 3411 0006 7047     		bx	lr
 3412              	.L184:
1023:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_OK;
 3413              		.loc 1 1023 5 is_stmt 1 view .LVU974
1023:Core/Src/mainLoop.c ****     uartDMA_tri_sign = UART_TRI_OK;
 3414              		.loc 1 1023 22 is_stmt 0 view .LVU975
 3415 0008 034B     		ldr	r3, .L185+4
 3416 000a 45F25552 		movw	r2, #21845
 3417 000e 1A60     		str	r2, [r3]
 3418              		.loc 1 1025 1 view .LVU976
 3419 0010 F9E7     		b	.L182
 3420              	.L186:
ARM GAS  /tmp/ccnB5ISM.s 			page 82


 3421 0012 00BF     		.align	2
 3422              	.L185:
 3423 0014 00000000 		.word	huart2
 3424 0018 00000000 		.word	.LANCHOR13
 3425              		.cfi_endproc
 3426              	.LFE155:
 3428              		.comm	lastAdcVal,4,4
 3429              		.comm	adcVal,4,4
 3430              		.global	locked
 3431              		.global	ad9520_reg
 3432              		.global	forSaveAllSum
 3433              		.global	difVal_view
 3434              		.global	meanVal_view
 3435              		.comm	logPara,15,4
 3436              		.comm	valMeanArray,80,4
 3437              		.global	dletDac
 3438              		.global	pidD
 3439              		.global	pidI
 3440              		.global	pidP
 3441              		.comm	adcSumArray,8,4
 3442              		.comm	value_cp,32000,4
 3443              		.comm	value_adc2,16000,4
 3444              		.comm	value_adc1,16000,4
 3445              		.global	Wave_LUT
 3446              		.comm	tmp,8,8
 3447              		.comm	dacV,4,4
 3448              		.comm	v_dianya,4,4
 3449              		.comm	buf,4,4
 3450              		.comm	yy_cnt,4,4
 3451              		.comm	xx_cnt,4,4
 3452              		.comm	complete_sign,4,4
 3453              		.comm	yy,4,4
 3454              		.comm	xx,4,4
 3455              		.global	fre_dif
 3456              		.global	f
 3457              		.global	i
 3458              		.global	chanl2_midx
 3459              		.global	chanl1_midx
 3460              		.global	average_xNum2
 3461              		.global	average_xNum1
 3462              		.global	chanl2_completed
 3463              		.global	chanl1_completed
 3464              		.comm	chanl2_capNum_f,400,4
 3465              		.comm	chanl1_capNum_f,400,4
 3466              		.comm	chanl2_xNum,400,4
 3467              		.comm	chanl1_xNum,400,4
 3468              		.comm	chanl2_capNum,400,4
 3469              		.comm	chanl1_capNum,400,4
 3470              		.comm	logBufDma,15,4
 3471              		.global	uartDMA_tri_sign
 3472              		.comm	adc1_t2,412,4
 3473              		.comm	adc1_t1,412,4
 3474              		.global	mainCpLast
 3475              		.global	mainCp
 3476              		.global	value_dacN
 3477              		.global	value_dacP
 3478              		.global	adc2_ok
ARM GAS  /tmp/ccnB5ISM.s 			page 83


 3479              		.global	adc1_ok
 3480              		.section	.bss.ad9520_reg,"aw",%nobits
 3481              		.align	1
 3484              	ad9520_reg:
 3485 0000 0000     		.space	2
 3486              		.section	.bss.adc1_ok,"aw",%nobits
 3487              		.align	2
 3488              		.set	.LANCHOR16,. + 0
 3491              	adc1_ok:
 3492 0000 00000000 		.space	4
 3493              		.section	.bss.adc2_ok,"aw",%nobits
 3494              		.align	2
 3495              		.set	.LANCHOR17,. + 0
 3498              	adc2_ok:
 3499 0000 00000000 		.space	4
 3500              		.section	.bss.average_xNum1,"aw",%nobits
 3501              		.align	2
 3504              	average_xNum1:
 3505 0000 00000000 		.space	4
 3506              		.section	.bss.average_xNum2,"aw",%nobits
 3507              		.align	2
 3510              	average_xNum2:
 3511 0000 00000000 		.space	4
 3512              		.section	.bss.chanl1_completed,"aw",%nobits
 3513              		.align	2
 3516              	chanl1_completed:
 3517 0000 00000000 		.space	4
 3518              		.section	.bss.chanl1_midx,"aw",%nobits
 3519              		.align	2
 3520              		.set	.LANCHOR2,. + 0
 3523              	chanl1_midx:
 3524 0000 00000000 		.space	4
 3525              		.section	.bss.chanl2_completed,"aw",%nobits
 3526              		.align	2
 3529              	chanl2_completed:
 3530 0000 00000000 		.space	4
 3531              		.section	.bss.chanl2_midx,"aw",%nobits
 3532              		.align	2
 3533              		.set	.LANCHOR3,. + 0
 3536              	chanl2_midx:
 3537 0000 00000000 		.space	4
 3538              		.section	.bss.currentP.10315,"aw",%nobits
 3539              		.align	2
 3540              		.set	.LANCHOR8,. + 0
 3543              	currentP.10315:
 3544 0000 00000000 		.space	4
 3545              		.section	.bss.difVal_view,"aw",%nobits
 3546              		.align	2
 3547              		.set	.LANCHOR10,. + 0
 3550              	difVal_view:
 3551 0000 00000000 		.space	4
 3552              		.section	.bss.dletDac,"aw",%nobits
 3553              		.align	2
 3554              		.set	.LANCHOR7,. + 0
 3557              	dletDac:
 3558 0000 00000000 		.space	4
 3559              		.section	.bss.forSaveAllSum,"aw",%nobits
ARM GAS  /tmp/ccnB5ISM.s 			page 84


 3560              		.align	1
 3561              		.set	.LANCHOR11,. + 0
 3564              	forSaveAllSum:
 3565 0000 0000     		.space	2
 3566              		.section	.bss.fre_dif,"aw",%nobits
 3567              		.align	2
 3568              		.set	.LANCHOR0,. + 0
 3571              	fre_dif:
 3572 0000 00000000 		.space	4
 3573              		.section	.bss.i,"aw",%nobits
 3574              		.align	2
 3575              		.set	.LANCHOR1,. + 0
 3578              	i:
 3579 0000 00000000 		.space	4
 3580              		.section	.bss.lastXn,"aw",%nobits
 3581              		.align	3
 3582              		.set	.LANCHOR12,. + 0
 3585              	lastXn:
 3586 0000 00000000 		.space	8
 3586      00000000 
 3587              		.section	.bss.locked,"aw",%nobits
 3588              		.align	2
 3591              	locked:
 3592 0000 00000000 		.space	4
 3593              		.section	.bss.mainCp,"aw",%nobits
 3594              		.align	2
 3597              	mainCp:
 3598 0000 00000000 		.space	4
 3599              		.section	.bss.mainCpLast,"aw",%nobits
 3600              		.align	2
 3603              	mainCpLast:
 3604 0000 00000000 		.space	4
 3605              		.section	.bss.meanVal_view,"aw",%nobits
 3606              		.align	2
 3607              		.set	.LANCHOR9,. + 0
 3610              	meanVal_view:
 3611 0000 00000000 		.space	4
 3612              		.section	.bss.pidD,"aw",%nobits
 3613              		.align	2
 3614              		.set	.LANCHOR6,. + 0
 3617              	pidD:
 3618 0000 00000000 		.space	4
 3619              		.section	.bss.pidI,"aw",%nobits
 3620              		.align	2
 3621              		.set	.LANCHOR5,. + 0
 3624              	pidI:
 3625 0000 00000000 		.space	4
 3626              		.section	.bss.pidP,"aw",%nobits
 3627              		.align	2
 3628              		.set	.LANCHOR4,. + 0
 3631              	pidP:
 3632 0000 00000000 		.space	4
 3633              		.section	.data.Wave_LUT,"aw"
 3634              		.align	2
 3637              	Wave_LUT:
 3638 0000 00080000 		.word	2048
 3639 0004 65080000 		.word	2149
ARM GAS  /tmp/ccnB5ISM.s 			page 85


 3640 0008 CA080000 		.word	2250
 3641 000c 2E090000 		.word	2350
 3642 0010 92090000 		.word	2450
 3643 0014 F5090000 		.word	2549
 3644 0018 560A0000 		.word	2646
 3645 001c B60A0000 		.word	2742
 3646 0020 150B0000 		.word	2837
 3647 0024 710B0000 		.word	2929
 3648 0028 CC0B0000 		.word	3020
 3649 002c 240C0000 		.word	3108
 3650 0030 790C0000 		.word	3193
 3651 0034 CB0C0000 		.word	3275
 3652 0038 1B0D0000 		.word	3355
 3653 003c 670D0000 		.word	3431
 3654 0040 B00D0000 		.word	3504
 3655 0044 F60D0000 		.word	3574
 3656 0048 370E0000 		.word	3639
 3657 004c 750E0000 		.word	3701
 3658 0050 AF0E0000 		.word	3759
 3659 0054 E40E0000 		.word	3812
 3660 0058 150F0000 		.word	3861
 3661 005c 420F0000 		.word	3906
 3662 0060 6A0F0000 		.word	3946
 3663 0064 8E0F0000 		.word	3982
 3664 0068 AD0F0000 		.word	4013
 3665 006c C70F0000 		.word	4039
 3666 0070 DC0F0000 		.word	4060
 3667 0074 EC0F0000 		.word	4076
 3668 0078 F70F0000 		.word	4087
 3669 007c FE0F0000 		.word	4094
 3670 0080 FF0F0000 		.word	4095
 3671 0084 FB0F0000 		.word	4091
 3672 0088 F20F0000 		.word	4082
 3673 008c E50F0000 		.word	4069
 3674 0090 D20F0000 		.word	4050
 3675 0094 BA0F0000 		.word	4026
 3676 0098 9E0F0000 		.word	3998
 3677 009c 7D0F0000 		.word	3965
 3678 00a0 570F0000 		.word	3927
 3679 00a4 2C0F0000 		.word	3884
 3680 00a8 FD0E0000 		.word	3837
 3681 00ac CA0E0000 		.word	3786
 3682 00b0 920E0000 		.word	3730
 3683 00b4 570E0000 		.word	3671
 3684 00b8 170E0000 		.word	3607
 3685 00bc D30D0000 		.word	3539
 3686 00c0 8C0D0000 		.word	3468
 3687 00c4 420D0000 		.word	3394
 3688 00c8 F40C0000 		.word	3316
 3689 00cc A30C0000 		.word	3235
 3690 00d0 4F0C0000 		.word	3151
 3691 00d4 F80B0000 		.word	3064
 3692 00d8 9F0B0000 		.word	2975
 3693 00dc 430B0000 		.word	2883
 3694 00e0 E60A0000 		.word	2790
 3695 00e4 870A0000 		.word	2695
 3696 00e8 260A0000 		.word	2598
ARM GAS  /tmp/ccnB5ISM.s 			page 86


 3697 00ec C4090000 		.word	2500
 3698 00f0 60090000 		.word	2400
 3699 00f4 FC080000 		.word	2300
 3700 00f8 97080000 		.word	2199
 3701 00fc 32080000 		.word	2098
 3702 0100 CD070000 		.word	1997
 3703 0104 68070000 		.word	1896
 3704 0108 03070000 		.word	1795
 3705 010c 9F060000 		.word	1695
 3706 0110 3B060000 		.word	1595
 3707 0114 D9050000 		.word	1497
 3708 0118 78050000 		.word	1400
 3709 011c 19050000 		.word	1305
 3710 0120 BC040000 		.word	1212
 3711 0124 60040000 		.word	1120
 3712 0128 07040000 		.word	1031
 3713 012c B0030000 		.word	944
 3714 0130 5C030000 		.word	860
 3715 0134 0B030000 		.word	779
 3716 0138 BD020000 		.word	701
 3717 013c 73020000 		.word	627
 3718 0140 2C020000 		.word	556
 3719 0144 E8010000 		.word	488
 3720 0148 A8010000 		.word	424
 3721 014c 6D010000 		.word	365
 3722 0150 35010000 		.word	309
 3723 0154 02010000 		.word	258
 3724 0158 D3000000 		.word	211
 3725 015c A8000000 		.word	168
 3726 0160 82000000 		.word	130
 3727 0164 61000000 		.word	97
 3728 0168 45000000 		.word	69
 3729 016c 2D000000 		.word	45
 3730 0170 1A000000 		.word	26
 3731 0174 0D000000 		.word	13
 3732 0178 04000000 		.word	4
 3733 017c 00000000 		.word	0
 3734 0180 01000000 		.word	1
 3735 0184 08000000 		.word	8
 3736 0188 13000000 		.word	19
 3737 018c 23000000 		.word	35
 3738 0190 38000000 		.word	56
 3739 0194 52000000 		.word	82
 3740 0198 71000000 		.word	113
 3741 019c 95000000 		.word	149
 3742 01a0 BD000000 		.word	189
 3743 01a4 EA000000 		.word	234
 3744 01a8 1B010000 		.word	283
 3745 01ac 50010000 		.word	336
 3746 01b0 8A010000 		.word	394
 3747 01b4 C8010000 		.word	456
 3748 01b8 09020000 		.word	521
 3749 01bc 4F020000 		.word	591
 3750 01c0 98020000 		.word	664
 3751 01c4 E4020000 		.word	740
 3752 01c8 34030000 		.word	820
 3753 01cc 86030000 		.word	902
ARM GAS  /tmp/ccnB5ISM.s 			page 87


 3754 01d0 DB030000 		.word	987
 3755 01d4 33040000 		.word	1075
 3756 01d8 8E040000 		.word	1166
 3757 01dc EA040000 		.word	1258
 3758 01e0 49050000 		.word	1353
 3759 01e4 A9050000 		.word	1449
 3760 01e8 0A060000 		.word	1546
 3761 01ec 6D060000 		.word	1645
 3762 01f0 D1060000 		.word	1745
 3763 01f4 35070000 		.word	1845
 3764 01f8 9A070000 		.word	1946
 3765 01fc FF070000 		.word	2047
 3766              		.section	.data.f,"aw"
 3767              		.align	2
 3770              	f:
 3771 0000 C3F54840 		.word	1078523331
 3772              		.section	.data.uartDMA_tri_sign,"aw"
 3773              		.align	2
 3774              		.set	.LANCHOR13,. + 0
 3777              	uartDMA_tri_sign:
 3778 0000 33330000 		.word	13107
 3779              		.section	.data.value_dacN,"aw"
 3780              		.align	2
 3781              		.set	.LANCHOR15,. + 0
 3784              	value_dacN:
 3785 0000 00082080 		.word	-2145384448
 3786              		.section	.data.value_dacP,"aw"
 3787              		.align	2
 3788              		.set	.LANCHOR14,. + 0
 3791              	value_dacP:
 3792 0000 00082080 		.word	-2145384448
 3793              		.text
 3794              	.Letext0:
 3795              		.file 2 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/inc
 3796              		.file 3 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/inc
 3797              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 3798              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 3799              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 3800              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 3801              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 3802              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 3803              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 3804              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 3805              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dac.h"
 3806              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 3807              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 3808              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 3809              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 3810              		.file 17 "Core/Inc/mainLoop.h"
 3811              		.file 18 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/lib/gcc/arm-none
 3812              		.file 19 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3813              		.file 20 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3814              		.file 21 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3815              		.file 22 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3816              		.file 23 "Core/Inc/max5307.h"
 3817              		.file 24 "<built-in>"
 3818              		.file 25 "Core/Inc/ad9520_function.h"
ARM GAS  /tmp/ccnB5ISM.s 			page 88


 3819              		.file 26 "Core/Inc/main.h"
ARM GAS  /tmp/ccnB5ISM.s 			page 89


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mainLoop.c
     /tmp/ccnB5ISM.s:18     .text._write:0000000000000000 $t
     /tmp/ccnB5ISM.s:26     .text._write:0000000000000000 _write
     /tmp/ccnB5ISM.s:60     .text._write:0000000000000014 $d
     /tmp/ccnB5ISM.s:65     .text.transform_capNum_to_xNum:0000000000000000 $t
     /tmp/ccnB5ISM.s:72     .text.transform_capNum_to_xNum:0000000000000000 transform_capNum_to_xNum
     /tmp/ccnB5ISM.s:133    .text.cal_average_xNum:0000000000000000 $t
     /tmp/ccnB5ISM.s:140    .text.cal_average_xNum:0000000000000000 cal_average_xNum
     /tmp/ccnB5ISM.s:209    .text.enable_tim4_capture_Iterrupt:0000000000000000 $t
     /tmp/ccnB5ISM.s:216    .text.enable_tim4_capture_Iterrupt:0000000000000000 enable_tim4_capture_Iterrupt
     /tmp/ccnB5ISM.s:244    .text.enable_tim4_capture_Iterrupt:0000000000000018 $d
     /tmp/ccnB5ISM.s:254    .text.generateSinWave:0000000000000000 $t
     /tmp/ccnB5ISM.s:261    .text.generateSinWave:0000000000000000 generateSinWave
     /tmp/ccnB5ISM.s:307    .text.generateSinWave:0000000000000038 $d
                            *COM*:0000000000000008 tmp
     /tmp/ccnB5ISM.s:318    .text.mainLoop:0000000000000000 $t
     /tmp/ccnB5ISM.s:325    .text.mainLoop:0000000000000000 mainLoop
     /tmp/ccnB5ISM.s:561    .text.mainLoop:0000000000000150 $d
                            *COM*:0000000000000004 complete_sign
                            *COM*:0000000000000004 xx
                            *COM*:0000000000000004 yy
                            *COM*:0000000000000004 xx_cnt
                            *COM*:0000000000000004 yy_cnt
                            *COM*:0000000000000004 v_dianya
                            *COM*:0000000000000004 buf
                            *COM*:0000000000000190 chanl1_capNum
                            *COM*:0000000000000190 chanl2_capNum
     /tmp/ccnB5ISM.s:585    .text.HAL_TIM_IC_CaptureCallback:0000000000000000 $t
     /tmp/ccnB5ISM.s:592    .text.HAL_TIM_IC_CaptureCallback:0000000000000000 HAL_TIM_IC_CaptureCallback
     /tmp/ccnB5ISM.s:663    .text.HAL_TIM_IC_CaptureCallback:0000000000000044 $d
     /tmp/ccnB5ISM.s:673    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 $t
     /tmp/ccnB5ISM.s:680    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 HAL_TIM_PeriodElapsedCallback
     /tmp/ccnB5ISM.s:741    .text.HAL_TIM_PeriodElapsedCallback:0000000000000034 $d
     /tmp/ccnB5ISM.s:755    .text.HAL_UART_RxCpltCallback:0000000000000000 $t
     /tmp/ccnB5ISM.s:762    .text.HAL_UART_RxCpltCallback:0000000000000000 HAL_UART_RxCpltCallback
     /tmp/ccnB5ISM.s:974    .text.HAL_UART_RxCpltCallback:0000000000000130 $d
     /tmp/ccnB5ISM.s:989    .text.set_dac_initVal:0000000000000000 $t
     /tmp/ccnB5ISM.s:996    .text.set_dac_initVal:0000000000000000 set_dac_initVal
     /tmp/ccnB5ISM.s:1070   .text.cal_k_value_cp:0000000000000000 $t
     /tmp/ccnB5ISM.s:1077   .text.cal_k_value_cp:0000000000000000 cal_k_value_cp
     /tmp/ccnB5ISM.s:1193   .text.cal_k_value_cp:000000000000005c $d
                            *COM*:0000000000007d00 value_cp
     /tmp/ccnB5ISM.s:1198   .text.cal_value_cp:0000000000000000 $t
     /tmp/ccnB5ISM.s:1205   .text.cal_value_cp:0000000000000000 cal_value_cp
     /tmp/ccnB5ISM.s:1260   .text.cal_value_cp:000000000000002c $d
                            *COM*:0000000000003e80 value_adc1
     /tmp/ccnB5ISM.s:1266   .text.cal_cp_output_dac:0000000000000000 $t
     /tmp/ccnB5ISM.s:1273   .text.cal_cp_output_dac:0000000000000000 cal_cp_output_dac
     /tmp/ccnB5ISM.s:1574   .text.cal_cp_output_dac:0000000000000170 $d
                            *COM*:0000000000000008 adcSumArray
     /tmp/ccnB5ISM.s:1590   .text.insertMeanVal:0000000000000000 $t
     /tmp/ccnB5ISM.s:1597   .text.insertMeanVal:0000000000000000 insertMeanVal
     /tmp/ccnB5ISM.s:1716   .text.insertMeanVal:000000000000006c $d
                            *COM*:0000000000000050 valMeanArray
     /tmp/ccnB5ISM.s:1723   .text.cal_cp_output_dac_ext:0000000000000000 $t
     /tmp/ccnB5ISM.s:1730   .text.cal_cp_output_dac_ext:0000000000000000 cal_cp_output_dac_ext
ARM GAS  /tmp/ccnB5ISM.s 			page 90


     /tmp/ccnB5ISM.s:2076   .text.cal_cp_output_dac_ext:00000000000001a8 $d
                            *COM*:000000000000000f logPara
     /tmp/ccnB5ISM.s:2096   .text.cal_cp_output_dac_ext_1:0000000000000000 $t
     /tmp/ccnB5ISM.s:2103   .text.cal_cp_output_dac_ext_1:0000000000000000 cal_cp_output_dac_ext_1
     /tmp/ccnB5ISM.s:2561   .text.cal_cp_output_dac_ext_1:0000000000000240 $d
                            *COM*:000000000000000f logBufDma
     /tmp/ccnB5ISM.s:2589   .text.cal_cp_output_dac_ext_2:0000000000000000 $t
     /tmp/ccnB5ISM.s:2596   .text.cal_cp_output_dac_ext_2:0000000000000000 cal_cp_output_dac_ext_2
     /tmp/ccnB5ISM.s:2879   .text.cal_cp_output_dac_ext_2:0000000000000134 $d
     /tmp/ccnB5ISM.s:2888   .text.cal_cp_output_dac_ext_3:0000000000000000 $t
     /tmp/ccnB5ISM.s:2895   .text.cal_cp_output_dac_ext_3:0000000000000000 cal_cp_output_dac_ext_3
     /tmp/ccnB5ISM.s:2909   .text.fakeDelay:0000000000000000 $t
     /tmp/ccnB5ISM.s:2916   .text.fakeDelay:0000000000000000 fakeDelay
     /tmp/ccnB5ISM.s:2968   .text.preMainLoop1:0000000000000000 $t
     /tmp/ccnB5ISM.s:2975   .text.preMainLoop1:0000000000000000 preMainLoop1
     /tmp/ccnB5ISM.s:3052   .text.preMainLoop1:0000000000000044 $d
     /tmp/ccnB5ISM.s:3058   .text.mainLoop1:0000000000000000 $t
     /tmp/ccnB5ISM.s:3065   .text.mainLoop1:0000000000000000 mainLoop1
     /tmp/ccnB5ISM.s:3248   .text.mainLoop1:00000000000000e8 $d
                            *COM*:000000000000019c adc1_t1
                            *COM*:000000000000019c adc1_t2
     /tmp/ccnB5ISM.s:3261   .text.HAL_ADC_ConvCpltCallback:0000000000000000 $t
     /tmp/ccnB5ISM.s:3268   .text.HAL_ADC_ConvCpltCallback:0000000000000000 HAL_ADC_ConvCpltCallback
     /tmp/ccnB5ISM.s:3376   .text.HAL_ADC_ConvCpltCallback:0000000000000078 $d
                            *COM*:0000000000003e80 value_adc2
     /tmp/ccnB5ISM.s:3389   .text.HAL_UART_TxCpltCallback:0000000000000000 $t
     /tmp/ccnB5ISM.s:3396   .text.HAL_UART_TxCpltCallback:0000000000000000 HAL_UART_TxCpltCallback
     /tmp/ccnB5ISM.s:3423   .text.HAL_UART_TxCpltCallback:0000000000000014 $d
                            *COM*:0000000000000004 lastAdcVal
                            *COM*:0000000000000004 adcVal
     /tmp/ccnB5ISM.s:3591   .bss.locked:0000000000000000 locked
     /tmp/ccnB5ISM.s:3484   .bss.ad9520_reg:0000000000000000 ad9520_reg
     /tmp/ccnB5ISM.s:3564   .bss.forSaveAllSum:0000000000000000 forSaveAllSum
     /tmp/ccnB5ISM.s:3550   .bss.difVal_view:0000000000000000 difVal_view
     /tmp/ccnB5ISM.s:3610   .bss.meanVal_view:0000000000000000 meanVal_view
     /tmp/ccnB5ISM.s:3557   .bss.dletDac:0000000000000000 dletDac
     /tmp/ccnB5ISM.s:3617   .bss.pidD:0000000000000000 pidD
     /tmp/ccnB5ISM.s:3624   .bss.pidI:0000000000000000 pidI
     /tmp/ccnB5ISM.s:3631   .bss.pidP:0000000000000000 pidP
     /tmp/ccnB5ISM.s:3637   .data.Wave_LUT:0000000000000000 Wave_LUT
                            *COM*:0000000000000004 dacV
     /tmp/ccnB5ISM.s:3571   .bss.fre_dif:0000000000000000 fre_dif
     /tmp/ccnB5ISM.s:3770   .data.f:0000000000000000 f
     /tmp/ccnB5ISM.s:3578   .bss.i:0000000000000000 i
     /tmp/ccnB5ISM.s:3536   .bss.chanl2_midx:0000000000000000 chanl2_midx
     /tmp/ccnB5ISM.s:3523   .bss.chanl1_midx:0000000000000000 chanl1_midx
     /tmp/ccnB5ISM.s:3510   .bss.average_xNum2:0000000000000000 average_xNum2
     /tmp/ccnB5ISM.s:3504   .bss.average_xNum1:0000000000000000 average_xNum1
     /tmp/ccnB5ISM.s:3529   .bss.chanl2_completed:0000000000000000 chanl2_completed
     /tmp/ccnB5ISM.s:3516   .bss.chanl1_completed:0000000000000000 chanl1_completed
                            *COM*:0000000000000190 chanl2_capNum_f
                            *COM*:0000000000000190 chanl1_capNum_f
                            *COM*:0000000000000190 chanl2_xNum
                            *COM*:0000000000000190 chanl1_xNum
     /tmp/ccnB5ISM.s:3777   .data.uartDMA_tri_sign:0000000000000000 uartDMA_tri_sign
     /tmp/ccnB5ISM.s:3603   .bss.mainCpLast:0000000000000000 mainCpLast
     /tmp/ccnB5ISM.s:3597   .bss.mainCp:0000000000000000 mainCp
ARM GAS  /tmp/ccnB5ISM.s 			page 91


     /tmp/ccnB5ISM.s:3784   .data.value_dacN:0000000000000000 value_dacN
     /tmp/ccnB5ISM.s:3791   .data.value_dacP:0000000000000000 value_dacP
     /tmp/ccnB5ISM.s:3498   .bss.adc2_ok:0000000000000000 adc2_ok
     /tmp/ccnB5ISM.s:3491   .bss.adc1_ok:0000000000000000 adc1_ok
     /tmp/ccnB5ISM.s:3481   .bss.ad9520_reg:0000000000000000 $d
     /tmp/ccnB5ISM.s:3487   .bss.adc1_ok:0000000000000000 $d
     /tmp/ccnB5ISM.s:3494   .bss.adc2_ok:0000000000000000 $d
     /tmp/ccnB5ISM.s:3501   .bss.average_xNum1:0000000000000000 $d
     /tmp/ccnB5ISM.s:3507   .bss.average_xNum2:0000000000000000 $d
     /tmp/ccnB5ISM.s:3513   .bss.chanl1_completed:0000000000000000 $d
     /tmp/ccnB5ISM.s:3519   .bss.chanl1_midx:0000000000000000 $d
     /tmp/ccnB5ISM.s:3526   .bss.chanl2_completed:0000000000000000 $d
     /tmp/ccnB5ISM.s:3532   .bss.chanl2_midx:0000000000000000 $d
     /tmp/ccnB5ISM.s:3539   .bss.currentP.10315:0000000000000000 $d
     /tmp/ccnB5ISM.s:3543   .bss.currentP.10315:0000000000000000 currentP.10315
     /tmp/ccnB5ISM.s:3546   .bss.difVal_view:0000000000000000 $d
     /tmp/ccnB5ISM.s:3553   .bss.dletDac:0000000000000000 $d
     /tmp/ccnB5ISM.s:3560   .bss.forSaveAllSum:0000000000000000 $d
     /tmp/ccnB5ISM.s:3567   .bss.fre_dif:0000000000000000 $d
     /tmp/ccnB5ISM.s:3574   .bss.i:0000000000000000 $d
     /tmp/ccnB5ISM.s:3581   .bss.lastXn:0000000000000000 $d
     /tmp/ccnB5ISM.s:3585   .bss.lastXn:0000000000000000 lastXn
     /tmp/ccnB5ISM.s:3588   .bss.locked:0000000000000000 $d
     /tmp/ccnB5ISM.s:3594   .bss.mainCp:0000000000000000 $d
     /tmp/ccnB5ISM.s:3600   .bss.mainCpLast:0000000000000000 $d
     /tmp/ccnB5ISM.s:3606   .bss.meanVal_view:0000000000000000 $d
     /tmp/ccnB5ISM.s:3613   .bss.pidD:0000000000000000 $d
     /tmp/ccnB5ISM.s:3620   .bss.pidI:0000000000000000 $d
     /tmp/ccnB5ISM.s:3627   .bss.pidP:0000000000000000 $d
     /tmp/ccnB5ISM.s:3634   .data.Wave_LUT:0000000000000000 $d
     /tmp/ccnB5ISM.s:3767   .data.f:0000000000000000 $d
     /tmp/ccnB5ISM.s:3773   .data.uartDMA_tri_sign:0000000000000000 $d
     /tmp/ccnB5ISM.s:3780   .data.value_dacN:0000000000000000 $d
     /tmp/ccnB5ISM.s:3787   .data.value_dacP:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart2
HAL_TIM_Base_Start_IT
htim5
htim4
htim1
__aeabi_i2d
__aeabi_dmul
__aeabi_dadd
sin
__aeabi_f2d
__aeabi_ddiv
__aeabi_d2uiz
init_max5307
max5307_w_chanel
HAL_DAC_Start
HAL_DAC_SetValue
HAL_UART_Receive_IT
init_ad9520
HAL_GPIO_TogglePin
HAL_Delay
ARM GAS  /tmp/ccnB5ISM.s 			page 92


check_ad9520_status
round
hdac
__aeabi_d2f
__aeabi_dsub
max5307_loadpin
HAL_GPIO_WritePin
__aeabi_d2iz
max5307_enable_ori_chanel
HAL_UART_Transmit_DMA
memset
HAL_SPI_Init
Error_Handler
hspi1
HAL_UART_IRQHandler
HAL_ADC_Start_DMA
hadc2
hadc1
