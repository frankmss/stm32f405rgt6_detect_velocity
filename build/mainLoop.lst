ARM GAS  /tmp/cctYddPe.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mainLoop.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._write,"ax",%progbits
  18              		.align	1
  19              		.global	_write
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	_write:
  27              	.LVL0:
  28              	.LFB133:
  29              		.file 1 "Core/Src/mainLoop.c"
   1:Core/Src/mainLoop.c **** #include "mainLoop.h"
   2:Core/Src/mainLoop.c **** #include "main.h"
   3:Core/Src/mainLoop.c **** #include "ad9520_function.h"
   4:Core/Src/mainLoop.c **** #include "max5307.h"
   5:Core/Src/mainLoop.c **** 
   6:Core/Src/mainLoop.c **** 
   7:Core/Src/mainLoop.c **** #include <stdio.h>
   8:Core/Src/mainLoop.c **** #include "math.h"
   9:Core/Src/mainLoop.c **** extern UART_HandleTypeDef huart2;
  10:Core/Src/mainLoop.c **** extern DAC_HandleTypeDef hdac;
  11:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim4;
  12:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim1;
  13:Core/Src/mainLoop.c **** extern TIM_HandleTypeDef htim5; //Áî®Êù•ÂÅö1sÁöÑÂÆöÊó∂Âô®
  14:Core/Src/mainLoop.c **** extern ADC_HandleTypeDef hadc1;
  15:Core/Src/mainLoop.c **** extern ADC_HandleTypeDef hadc2;
  16:Core/Src/mainLoop.c **** // floating point support in printf isn't enabled by default. To enable, add -u _printf_float to yo
  17:Core/Src/mainLoop.c **** //for ubuntu arm-none-eabi-gcc compile
  18:Core/Src/mainLoop.c **** int _write(int fd, char* ptr, int len) {
  30              		.loc 1 18 40 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 18 40 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 1446     		mov	r4, r2
ARM GAS  /tmp/cctYddPe.s 			page 2


  19:Core/Src/mainLoop.c ****    HAL_UART_Transmit(&huart2, (uint8_t *) ptr, len, HAL_MAX_DELAY);
  41              		.loc 1 19 4 is_stmt 1 view .LVU2
  42 0004 4FF0FF33 		mov	r3, #-1
  43 0008 92B2     		uxth	r2, r2
  44              	.LVL1:
  45              		.loc 1 19 4 is_stmt 0 view .LVU3
  46 000a 0248     		ldr	r0, .L3
  47              	.LVL2:
  48              		.loc 1 19 4 view .LVU4
  49 000c FFF7FEFF 		bl	HAL_UART_Transmit
  50              	.LVL3:
  20:Core/Src/mainLoop.c ****    return len;
  51              		.loc 1 20 4 is_stmt 1 view .LVU5
  21:Core/Src/mainLoop.c **** }
  52              		.loc 1 21 1 is_stmt 0 view .LVU6
  53 0010 2046     		mov	r0, r4
  54 0012 10BD     		pop	{r4, pc}
  55              	.LVL4:
  56              	.L4:
  57              		.loc 1 21 1 view .LVU7
  58              		.align	2
  59              	.L3:
  60 0014 00000000 		.word	huart2
  61              		.cfi_endproc
  62              	.LFE133:
  64              		.section	.text.transform_capNum_to_xNum,"ax",%progbits
  65              		.align	1
  66              		.global	transform_capNum_to_xNum
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  70              		.fpu fpv4-sp-d16
  72              	transform_capNum_to_xNum:
  73              	.LVL5:
  74              	.LFB134:
  22:Core/Src/mainLoop.c **** 
  23:Core/Src/mainLoop.c **** //for windows keil compile
  24:Core/Src/mainLoop.c **** // int fputc(int ch, FILE *f)
  25:Core/Src/mainLoop.c **** // {
  26:Core/Src/mainLoop.c **** //   /* Your implementation of fputc(). */
  27:Core/Src/mainLoop.c **** // 	HAL_UART_Transmit(&huart2, (uint8_t *)&ch, 1, HAL_MAX_DELAY);
  28:Core/Src/mainLoop.c **** //   return ch;
  29:Core/Src/mainLoop.c **** // }
  30:Core/Src/mainLoop.c **** 
  31:Core/Src/mainLoop.c **** 
  32:Core/Src/mainLoop.c **** 
  33:Core/Src/mainLoop.c **** 
  34:Core/Src/mainLoop.c **** #define CAPNUM 100
  35:Core/Src/mainLoop.c **** uint32_t chanl1_capNum[CAPNUM] ;
  36:Core/Src/mainLoop.c **** uint32_t chanl2_capNum[CAPNUM] ;
  37:Core/Src/mainLoop.c **** int32_t chanl1_xNum[CAPNUM];
  38:Core/Src/mainLoop.c **** int32_t chanl2_xNum[CAPNUM];
  39:Core/Src/mainLoop.c **** float chanl1_capNum_f[CAPNUM] ;
  40:Core/Src/mainLoop.c **** float chanl2_capNum_f[CAPNUM] ;
  41:Core/Src/mainLoop.c **** int32_t chanl1_completed=0;
  42:Core/Src/mainLoop.c **** int32_t chanl2_completed=0;
  43:Core/Src/mainLoop.c **** float average_xNum1=0,average_xNum2=0;
ARM GAS  /tmp/cctYddPe.s 			page 3


  44:Core/Src/mainLoop.c **** int32_t chanl1_midx = 0, chanl2_midx = 0; //‰øùÂ≠òÂæ™ÁéØDMAÈòüÂàóÁöÑ‰∏≠Èó¥ÂèòÈáè
  45:Core/Src/mainLoop.c **** //tim4 dma ÊñπÂºèÔºåËé∑ÂæóÊï∞ÊçÆÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºåÂàÜ‰∏∫ÂâçÂêé‰∏§‰∏™halfwordÔºåÊØè‰∏™halfwordÈÉΩ‰ª£
  46:Core/Src/mainLoop.c **** // ËøôÊÆµ‰ª£Á†ÅÊòØÁî®Êù•Â§ÑÁêÜËøô‰∏§‰∏™halfwordÁöÑ
  47:Core/Src/mainLoop.c **** //ËæìÂÖ•ÂèÇÊï∞ canNum‰∏∫‰∏§‰∏™halfwordÁöÑÁªÑÂêàÊï∞ÔºåÊúâ‰∏ä‰∏™‰∏äÂçáÊ≤øÊó∂Èó¥, Áî±‰∫éÁ¨¨‰∏Ä‰∏™Êï∞ÈÄ
  48:Core/Src/mainLoop.c **** void transform_capNum_to_xNum(uint32_t* capNum, int32_t* xNum, int32_t capNum_len){
  75              		.loc 1 48 83 is_stmt 1 view -0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              		@ link register save eliminated.
  80              		.loc 1 48 83 is_stmt 0 view .LVU9
  81 0000 30B4     		push	{r4, r5}
  82              	.LCFI1:
  83              		.cfi_def_cfa_offset 8
  84              		.cfi_offset 4, -8
  85              		.cfi_offset 5, -4
  49:Core/Src/mainLoop.c ****   int32_t i;
  86              		.loc 1 49 3 is_stmt 1 view .LVU10
  50:Core/Src/mainLoop.c ****   for(i=0;i<capNum_len/2;i++){
  87              		.loc 1 50 3 view .LVU11
  88              	.LVL6:
  89              		.loc 1 50 8 is_stmt 0 view .LVU12
  90 0002 0023     		movs	r3, #0
  91              	.LVL7:
  92              	.L6:
  93              		.loc 1 50 11 is_stmt 1 discriminator 1 view .LVU13
  94              		.loc 1 50 23 is_stmt 0 discriminator 1 view .LVU14
  95 0004 02EBD274 		add	r4, r2, r2, lsr #31
  96              		.loc 1 50 3 discriminator 1 view .LVU15
  97 0008 B3EB640F 		cmp	r3, r4, asr #1
  98 000c 0BDA     		bge	.L9
  51:Core/Src/mainLoop.c ****     xNum[i*2] = capNum[i]&0xffff;
  99              		.loc 1 51 5 is_stmt 1 discriminator 3 view .LVU16
 100              		.loc 1 51 9 is_stmt 0 discriminator 3 view .LVU17
 101 000e DC00     		lsls	r4, r3, #3
 102              		.loc 1 51 26 discriminator 3 view .LVU18
 103 0010 30F82350 		ldrh	r5, [r0, r3, lsl #2]
 104              		.loc 1 51 15 discriminator 3 view .LVU19
 105 0014 41F83350 		str	r5, [r1, r3, lsl #3]
  52:Core/Src/mainLoop.c ****     xNum[i*2+1] = capNum[i]>>16;
 106              		.loc 1 52 5 is_stmt 1 discriminator 3 view .LVU20
 107              		.loc 1 52 25 is_stmt 0 discriminator 3 view .LVU21
 108 0018 50F82350 		ldr	r5, [r0, r3, lsl #2]
 109              		.loc 1 52 9 discriminator 3 view .LVU22
 110 001c 0434     		adds	r4, r4, #4
 111              		.loc 1 52 28 discriminator 3 view .LVU23
 112 001e 2D0C     		lsrs	r5, r5, #16
 113              		.loc 1 52 17 discriminator 3 view .LVU24
 114 0020 0D51     		str	r5, [r1, r4]
  50:Core/Src/mainLoop.c ****   for(i=0;i<capNum_len/2;i++){
 115              		.loc 1 50 26 is_stmt 1 discriminator 3 view .LVU25
  50:Core/Src/mainLoop.c ****   for(i=0;i<capNum_len/2;i++){
 116              		.loc 1 50 27 is_stmt 0 discriminator 3 view .LVU26
 117 0022 0133     		adds	r3, r3, #1
 118              	.LVL8:
  50:Core/Src/mainLoop.c ****   for(i=0;i<capNum_len/2;i++){
 119              		.loc 1 50 27 discriminator 3 view .LVU27
ARM GAS  /tmp/cctYddPe.s 			page 4


 120 0024 EEE7     		b	.L6
 121              	.L9:
  53:Core/Src/mainLoop.c ****   }
  54:Core/Src/mainLoop.c **** }
 122              		.loc 1 54 1 view .LVU28
 123 0026 30BC     		pop	{r4, r5}
 124              	.LCFI2:
 125              		.cfi_restore 5
 126              		.cfi_restore 4
 127              		.cfi_def_cfa_offset 0
 128 0028 7047     		bx	lr
 129              		.cfi_endproc
 130              	.LFE134:
 132              		.section	.text.cal_average_xNum,"ax",%progbits
 133              		.align	1
 134              		.global	cal_average_xNum
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 138              		.fpu fpv4-sp-d16
 140              	cal_average_xNum:
 141              	.LVL9:
 142              	.LFB135:
  55:Core/Src/mainLoop.c **** 
  56:Core/Src/mainLoop.c **** //ËÆ°ÁÆóÂπ≥ÂùáxNumÔºå
  57:Core/Src/mainLoop.c **** //cal_average_xNum(chanl1_xNum, CAPNUM);
  58:Core/Src/mainLoop.c **** int32_t cal_average_xNum(int32_t* xNum, int32_t capNum_len){
 143              		.loc 1 58 60 is_stmt 1 view -0
 144              		.cfi_startproc
 145              		@ args = 0, pretend = 0, frame = 0
 146              		@ frame_needed = 0, uses_anonymous_args = 0
 147              		@ link register save eliminated.
 148              		.loc 1 58 60 is_stmt 0 view .LVU30
 149 0000 70B4     		push	{r4, r5, r6}
 150              	.LCFI3:
 151              		.cfi_def_cfa_offset 12
 152              		.cfi_offset 4, -12
 153              		.cfi_offset 5, -8
 154              		.cfi_offset 6, -4
  59:Core/Src/mainLoop.c ****   int32_t i,sum=0;
 155              		.loc 1 59 3 is_stmt 1 view .LVU31
 156              	.LVL10:
  60:Core/Src/mainLoop.c ****   for(i=0; i<capNum_len-1; i++){
 157              		.loc 1 60 3 view .LVU32
  59:Core/Src/mainLoop.c ****   int32_t i,sum=0;
 158              		.loc 1 59 13 is_stmt 0 view .LVU33
 159 0002 0025     		movs	r5, #0
 160              		.loc 1 60 8 view .LVU34
 161 0004 2B46     		mov	r3, r5
 162              	.LVL11:
 163              	.L11:
 164              		.loc 1 60 12 is_stmt 1 discriminator 1 view .LVU35
 165              		.loc 1 60 24 is_stmt 0 discriminator 1 view .LVU36
 166 0006 4A1E     		subs	r2, r1, #1
 167              		.loc 1 60 3 discriminator 1 view .LVU37
 168 0008 9A42     		cmp	r2, r3
 169 000a 0ADD     		ble	.L14
ARM GAS  /tmp/cctYddPe.s 			page 5


  61:Core/Src/mainLoop.c ****     xNum[i] = xNum[i+1]-xNum[i];
 170              		.loc 1 61 5 is_stmt 1 discriminator 3 view .LVU38
 171              		.loc 1 61 19 is_stmt 0 discriminator 3 view .LVU39
 172 000c 5C1C     		adds	r4, r3, #1
 173 000e 50F82420 		ldr	r2, [r0, r4, lsl #2]
 174              		.loc 1 61 29 discriminator 3 view .LVU40
 175 0012 50F82360 		ldr	r6, [r0, r3, lsl #2]
 176              		.loc 1 61 24 discriminator 3 view .LVU41
 177 0016 921B     		subs	r2, r2, r6
 178              		.loc 1 61 13 discriminator 3 view .LVU42
 179 0018 40F82320 		str	r2, [r0, r3, lsl #2]
  62:Core/Src/mainLoop.c ****     sum+=xNum[i];
 180              		.loc 1 62 5 is_stmt 1 discriminator 3 view .LVU43
 181              		.loc 1 62 8 is_stmt 0 discriminator 3 view .LVU44
 182 001c 1544     		add	r5, r5, r2
 183              	.LVL12:
  60:Core/Src/mainLoop.c ****   for(i=0; i<capNum_len-1; i++){
 184              		.loc 1 60 28 is_stmt 1 discriminator 3 view .LVU45
  60:Core/Src/mainLoop.c ****   for(i=0; i<capNum_len-1; i++){
 185              		.loc 1 60 29 is_stmt 0 discriminator 3 view .LVU46
 186 001e 2346     		mov	r3, r4
 187              	.LVL13:
  60:Core/Src/mainLoop.c ****   for(i=0; i<capNum_len-1; i++){
 188              		.loc 1 60 29 discriminator 3 view .LVU47
 189 0020 F1E7     		b	.L11
 190              	.L14:
  63:Core/Src/mainLoop.c ****   }
  64:Core/Src/mainLoop.c ****   return sum/(capNum_len-1);
 191              		.loc 1 64 3 is_stmt 1 view .LVU48
  65:Core/Src/mainLoop.c **** }
 192              		.loc 1 65 1 is_stmt 0 view .LVU49
 193 0022 95FBF2F0 		sdiv	r0, r5, r2
 194              	.LVL14:
 195              		.loc 1 65 1 view .LVU50
 196 0026 70BC     		pop	{r4, r5, r6}
 197              	.LCFI4:
 198              		.cfi_restore 6
 199              		.cfi_restore 5
 200              		.cfi_restore 4
 201              		.cfi_def_cfa_offset 0
 202              	.LVL15:
 203              		.loc 1 65 1 view .LVU51
 204 0028 7047     		bx	lr
 205              		.cfi_endproc
 206              	.LFE135:
 208              		.section	.text.enable_tim4_capture_Iterrupt,"ax",%progbits
 209              		.align	1
 210              		.global	enable_tim4_capture_Iterrupt
 211              		.syntax unified
 212              		.thumb
 213              		.thumb_func
 214              		.fpu fpv4-sp-d16
 216              	enable_tim4_capture_Iterrupt:
 217              	.LFB136:
  66:Core/Src/mainLoop.c **** 
  67:Core/Src/mainLoop.c **** void enable_tim4_capture_Iterrupt(void){
 218              		.loc 1 67 40 is_stmt 1 view -0
ARM GAS  /tmp/cctYddPe.s 			page 6


 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
 222 0000 08B5     		push	{r3, lr}
 223              	.LCFI5:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 3, -8
 226              		.cfi_offset 14, -4
  68:Core/Src/mainLoop.c ****  // HAL_TIM_Base_Start_IT(&htim4);
  69:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_IT(&htim4, TIM_CHANNEL_1);
  70:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_IT(&htim4, TIM_CHANNEL_2);
  71:Core/Src/mainLoop.c ****   //HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_1, (uint32_t*)chanl1_capNum, CAPNUM+4);
  72:Core/Src/mainLoop.c ****   
  73:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_2, (uint32_t*)chanl2_capNum, CAPNUM);
  74:Core/Src/mainLoop.c ****   // HAL_TIM_IC_Start_DMA(&htim1, TIM_CHANNEL_4, (uint32_t*)chanl1_capNum, CAPNUM);
  75:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim5);
 227              		.loc 1 75 3 view .LVU53
 228 0002 0548     		ldr	r0, .L17
 229 0004 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 230              	.LVL16:
  76:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim4);
 231              		.loc 1 76 3 view .LVU54
 232 0008 0448     		ldr	r0, .L17+4
 233 000a FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 234              	.LVL17:
  77:Core/Src/mainLoop.c ****   HAL_TIM_Base_Start_IT(&htim1);
 235              		.loc 1 77 3 view .LVU55
 236 000e 0448     		ldr	r0, .L17+8
 237 0010 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 238              	.LVL18:
  78:Core/Src/mainLoop.c **** }
 239              		.loc 1 78 1 is_stmt 0 view .LVU56
 240 0014 08BD     		pop	{r3, pc}
 241              	.L18:
 242 0016 00BF     		.align	2
 243              	.L17:
 244 0018 00000000 		.word	htim5
 245 001c 00000000 		.word	htim4
 246 0020 00000000 		.word	htim1
 247              		.cfi_endproc
 248              	.LFE136:
 250              		.global	__aeabi_i2d
 251              		.global	__aeabi_dmul
 252              		.global	__aeabi_dadd
 253              		.section	.text.generateSinWave,"ax",%progbits
 254              		.align	1
 255              		.global	generateSinWave
 256              		.syntax unified
 257              		.thumb
 258              		.thumb_func
 259              		.fpu fpv4-sp-d16
 261              	generateSinWave:
 262              	.LVL19:
 263              	.LFB137:
  79:Core/Src/mainLoop.c **** 
  80:Core/Src/mainLoop.c **** 
  81:Core/Src/mainLoop.c **** uint32_t i=0;
ARM GAS  /tmp/cctYddPe.s 			page 7


  82:Core/Src/mainLoop.c **** float f=3.14;
  83:Core/Src/mainLoop.c **** // int32_t chanl1_capNum = 0;
  84:Core/Src/mainLoop.c **** // int32_t chanl2_capNum = 0;
  85:Core/Src/mainLoop.c **** int32_t fre_dif = 0;
  86:Core/Src/mainLoop.c **** int32_t xx,yy,complete_sign;
  87:Core/Src/mainLoop.c **** int32_t xx_cnt,yy_cnt;
  88:Core/Src/mainLoop.c **** uint8_t buf[4];
  89:Core/Src/mainLoop.c **** float v_dianya;
  90:Core/Src/mainLoop.c **** uint32_t dacV;
  91:Core/Src/mainLoop.c **** double tmp;
  92:Core/Src/mainLoop.c **** #define NS 128
  93:Core/Src/mainLoop.c **** uint32_t Wave_LUT[NS] = {
  94:Core/Src/mainLoop.c ****     2048, 2149, 2250, 2350, 2450, 2549, 2646, 2742, 2837, 2929, 3020, 3108, 3193, 3275, 3355,
  95:Core/Src/mainLoop.c ****     3431, 3504, 3574, 3639, 3701, 3759, 3812, 3861, 3906, 3946, 3982, 4013, 4039, 4060, 4076,
  96:Core/Src/mainLoop.c ****     4087, 4094, 4095, 4091, 4082, 4069, 4050, 4026, 3998, 3965, 3927, 3884, 3837, 3786, 3730,
  97:Core/Src/mainLoop.c ****     3671, 3607, 3539, 3468, 3394, 3316, 3235, 3151, 3064, 2975, 2883, 2790, 2695, 2598, 2500,
  98:Core/Src/mainLoop.c ****     2400, 2300, 2199, 2098, 1997, 1896, 1795, 1695, 1595, 1497, 1400, 1305, 1212, 1120, 1031,
  99:Core/Src/mainLoop.c ****     944, 860, 779, 701, 627, 556, 488, 424, 365, 309, 258, 211, 168, 130, 97,
 100:Core/Src/mainLoop.c ****     69, 45, 26, 13, 4, 0, 1, 8, 19, 35, 56, 82, 113, 149, 189,
 101:Core/Src/mainLoop.c ****     234, 283, 336, 394, 456, 521, 591, 664, 740, 820, 902, 987, 1075, 1166, 1258,
 102:Core/Src/mainLoop.c ****     1353, 1449, 1546, 1645, 1745, 1845, 1946, 2047
 103:Core/Src/mainLoop.c **** };
 104:Core/Src/mainLoop.c **** #define PI 3.14159265
 105:Core/Src/mainLoop.c **** #define AMPLITUDE 2048.0  // Ê≠£Âº¶Ê≥¢ÂπÖÂ∫¶
 106:Core/Src/mainLoop.c **** #define FREQUENCY 100.0    // Ê≠£Âº¶Ê≥¢È¢ëÁéáÔºàHzÔºâ
 107:Core/Src/mainLoop.c **** #define SAMPLE_RATE 4096 // ÈááÊ†∑ÁéáÔºàÊØèÁßíÈááÊ†∑Ê¨°Êï∞Ôºâ
 108:Core/Src/mainLoop.c **** 
 109:Core/Src/mainLoop.c **** void generateSinWave(int32_t i){
 264              		.loc 1 109 32 is_stmt 1 view -0
 265              		.cfi_startproc
 266              		@ args = 0, pretend = 0, frame = 0
 267              		@ frame_needed = 0, uses_anonymous_args = 0
 268              		.loc 1 109 32 is_stmt 0 view .LVU58
 269 0000 08B5     		push	{r3, lr}
 270              	.LCFI6:
 271              		.cfi_def_cfa_offset 8
 272              		.cfi_offset 3, -8
 273              		.cfi_offset 14, -4
 110:Core/Src/mainLoop.c **** 	double omega = 2.0*PI*FREQUENCY / SAMPLE_RATE;
 274              		.loc 1 110 2 is_stmt 1 view .LVU59
 275              	.LVL20:
 111:Core/Src/mainLoop.c **** 	tmp = AMPLITUDE*sin(omega*i)+ AMPLITUDE;
 276              		.loc 1 111 2 view .LVU60
 277              		.loc 1 111 18 is_stmt 0 view .LVU61
 278 0002 FFF7FEFF 		bl	__aeabi_i2d
 279              	.LVL21:
 280              		.loc 1 111 18 view .LVU62
 281 0006 0EA3     		adr	r3, .L21+8
 282 0008 D3E90023 		ldrd	r2, [r3]
 283 000c FFF7FEFF 		bl	__aeabi_dmul
 284              	.LVL22:
 285 0010 41EC100B 		vmov	d0, r0, r1
 286 0014 FFF7FEFF 		bl	sin
 287              	.LVL23:
 288 0018 51EC100B 		vmov	r0, r1, d0
 289              		.loc 1 111 17 view .LVU63
 290 001c 0022     		movs	r2, #0
ARM GAS  /tmp/cctYddPe.s 			page 8


 291 001e 064B     		ldr	r3, .L21
 292 0020 FFF7FEFF 		bl	__aeabi_dmul
 293              	.LVL24:
 294              		.loc 1 111 30 view .LVU64
 295 0024 0022     		movs	r2, #0
 296 0026 044B     		ldr	r3, .L21
 297 0028 FFF7FEFF 		bl	__aeabi_dadd
 298              	.LVL25:
 299              		.loc 1 111 6 view .LVU65
 300 002c 034B     		ldr	r3, .L21+4
 301 002e C3E90001 		strd	r0, [r3]
 112:Core/Src/mainLoop.c **** }
 302              		.loc 1 112 1 view .LVU66
 303 0032 08BD     		pop	{r3, pc}
 304              	.L22:
 305 0034 AFF30080 		.align	3
 306              	.L21:
 307 0038 0000A040 		.word	1084227584
 308 003c 00000000 		.word	tmp
 309 0040 5CE67459 		.word	1500833372
 310 0044 8CA2C33F 		.word	1069785740
 311              		.cfi_endproc
 312              	.LFE137:
 314              		.global	__aeabi_f2d
 315              		.global	__aeabi_ddiv
 316              		.global	__aeabi_d2uiz
 317              		.section	.text.mainLoop,"ax",%progbits
 318              		.align	1
 319              		.global	mainLoop
 320              		.syntax unified
 321              		.thumb
 322              		.thumb_func
 323              		.fpu fpv4-sp-d16
 325              	mainLoop:
 326              	.LFB138:
 113:Core/Src/mainLoop.c **** void mainLoop(void){
 327              		.loc 1 113 20 is_stmt 1 view -0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 332              	.LCFI7:
 333              		.cfi_def_cfa_offset 24
 334              		.cfi_offset 3, -24
 335              		.cfi_offset 4, -20
 336              		.cfi_offset 5, -16
 337              		.cfi_offset 6, -12
 338              		.cfi_offset 7, -8
 339              		.cfi_offset 14, -4
 114:Core/Src/mainLoop.c **** 	uint32_t dacN=0;//,dacV=0;
 340              		.loc 1 114 2 view .LVU68
 341              	.LVL26:
 115:Core/Src/mainLoop.c **** 	
 116:Core/Src/mainLoop.c **** 	int32_t dacSign = 1;
 342              		.loc 1 116 2 view .LVU69
 117:Core/Src/mainLoop.c **** 	init_max5307();
 343              		.loc 1 117 2 view .LVU70
ARM GAS  /tmp/cctYddPe.s 			page 9


 344 0002 FFF7FEFF 		bl	init_max5307
 345              	.LVL27:
 118:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch8,2048,max_outenable);
 346              		.loc 1 118 2 view .LVU71
 347 0006 0122     		movs	r2, #1
 348 0008 4FF40061 		mov	r1, #2048
 349 000c 0920     		movs	r0, #9
 350 000e FFF7FEFF 		bl	max5307_w_chanel
 351              	.LVL28:
 119:Core/Src/mainLoop.c **** //	while(1){
 120:Core/Src/mainLoop.c **** //	    HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 121:Core/Src/mainLoop.c **** //   //HAL_Delay(3);
 122:Core/Src/mainLoop.c **** //    HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 123:Core/Src/mainLoop.c **** //   // HAL_Delay(300);	
 124:Core/Src/mainLoop.c **** //	HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 125:Core/Src/mainLoop.c **** //	//HAL_Delay(300);	
 126:Core/Src/mainLoop.c **** //		//void max5307_w_chanel(uint32_t chanel, uint32_t val);
 127:Core/Src/mainLoop.c **** //		
 128:Core/Src/mainLoop.c **** //		//max5307_w_chanel(0x02,dacN);
 129:Core/Src/mainLoop.c **** //		generateSinWave(dacN%SAMPLE_RATE);
 130:Core/Src/mainLoop.c **** //		max5307_w_chanel(max_ch1,round(tmp),max_outenable);
 131:Core/Src/mainLoop.c **** //		max5307_w_chanel(DACP_1K,round(tmp),max_outenable);
 132:Core/Src/mainLoop.c **** //		//max5307_loadpin();
 133:Core/Src/mainLoop.c **** //		//max5307_w_chanel(0x0e,0x2f);
 134:Core/Src/mainLoop.c **** ////		if(dacN>=0xfff){
 135:Core/Src/mainLoop.c **** ////			dacSign = -1;
 136:Core/Src/mainLoop.c **** ////		}else if(dacN==0){
 137:Core/Src/mainLoop.c **** ////			dacSign = 1;
 138:Core/Src/mainLoop.c **** ////		}
 139:Core/Src/mainLoop.c **** //		dacN = dacN + dacSign;
 140:Core/Src/mainLoop.c **** 
 141:Core/Src/mainLoop.c **** ////		tmp = (dacN%4096) * 3.14 /4096;
 142:Core/Src/mainLoop.c **** ////		tmp = sin(tmp);
 143:Core/Src/mainLoop.c **** ////		dacV = 4096*tmp;
 144:Core/Src/mainLoop.c **** //	}
 145:Core/Src/mainLoop.c ****   int32_t xx_bak=0;
 352              		.loc 1 145 3 view .LVU72
 146:Core/Src/mainLoop.c ****   int32_t yy_bak=0;
 353              		.loc 1 146 3 view .LVU73
 147:Core/Src/mainLoop.c ****   //init_ad9520_spiport();
 148:Core/Src/mainLoop.c ****   complete_sign=0;
 354              		.loc 1 148 3 view .LVU74
 355              		.loc 1 148 16 is_stmt 0 view .LVU75
 356 0012 0024     		movs	r4, #0
 357 0014 504B     		ldr	r3, .L31+8
 358 0016 1C60     		str	r4, [r3]
 149:Core/Src/mainLoop.c ****   xx=0;yy=0;fre_dif=0;
 359              		.loc 1 149 3 is_stmt 1 view .LVU76
 360              		.loc 1 149 5 is_stmt 0 view .LVU77
 361 0018 504B     		ldr	r3, .L31+12
 362 001a 1C60     		str	r4, [r3]
 363              		.loc 1 149 8 is_stmt 1 view .LVU78
 364              		.loc 1 149 10 is_stmt 0 view .LVU79
 365 001c 504B     		ldr	r3, .L31+16
 366 001e 1C60     		str	r4, [r3]
 367              		.loc 1 149 13 is_stmt 1 view .LVU80
 368              		.loc 1 149 20 is_stmt 0 view .LVU81
ARM GAS  /tmp/cctYddPe.s 			page 10


 369 0020 504D     		ldr	r5, .L31+20
 370 0022 2C60     		str	r4, [r5]
 150:Core/Src/mainLoop.c ****   xx_cnt=0;yy_cnt=0;
 371              		.loc 1 150 3 is_stmt 1 view .LVU82
 372              		.loc 1 150 9 is_stmt 0 view .LVU83
 373 0024 504B     		ldr	r3, .L31+24
 374 0026 1C60     		str	r4, [r3]
 375              		.loc 1 150 12 is_stmt 1 view .LVU84
 376              		.loc 1 150 18 is_stmt 0 view .LVU85
 377 0028 504B     		ldr	r3, .L31+28
 378 002a 1C60     		str	r4, [r3]
 151:Core/Src/mainLoop.c ****   v_dianya = 1.65;
 379              		.loc 1 151 3 is_stmt 1 view .LVU86
 380              		.loc 1 151 12 is_stmt 0 view .LVU87
 381 002c 504F     		ldr	r7, .L31+32
 382 002e 514B     		ldr	r3, .L31+36
 383 0030 3B60     		str	r3, [r7]	@ float
 152:Core/Src/mainLoop.c ****   HAL_DAC_Start(&hdac,DAC_CHANNEL_1); 
 384              		.loc 1 152 3 is_stmt 1 view .LVU88
 385 0032 514E     		ldr	r6, .L31+40
 386 0034 2146     		mov	r1, r4
 387 0036 3046     		mov	r0, r6
 388 0038 FFF7FEFF 		bl	HAL_DAC_Start
 389              	.LVL29:
 153:Core/Src/mainLoop.c ****  // HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 154:Core/Src/mainLoop.c ****   HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 390              		.loc 1 154 3 view .LVU89
 391              		.loc 1 154 79 is_stmt 0 view .LVU90
 392 003c 3868     		ldr	r0, [r7]	@ float
 393 003e FFF7FEFF 		bl	__aeabi_f2d
 394              	.LVL30:
 395 0042 43A3     		adr	r3, .L31
 396 0044 D3E90023 		ldrd	r2, [r3]
 397 0048 FFF7FEFF 		bl	__aeabi_ddiv
 398              	.LVL31:
 399              		.loc 1 154 84 view .LVU91
 400 004c 0022     		movs	r2, #0
 401 004e 4B4B     		ldr	r3, .L31+44
 402 0050 FFF7FEFF 		bl	__aeabi_dmul
 403              	.LVL32:
 404              		.loc 1 154 3 view .LVU92
 405 0054 FFF7FEFF 		bl	__aeabi_d2uiz
 406              	.LVL33:
 407 0058 0346     		mov	r3, r0
 408 005a 2246     		mov	r2, r4
 409 005c 2146     		mov	r1, r4
 410 005e 3046     		mov	r0, r6
 411 0060 FFF7FEFF 		bl	HAL_DAC_SetValue
 412              	.LVL34:
 155:Core/Src/mainLoop.c ****   //HAL_UART_Receive_IT(UART_HandleTypeDef *huart, uint8_t *pData, uint16_t Size)
 156:Core/Src/mainLoop.c ****   HAL_UART_Receive_IT(&huart2, (uint8_t *)(buf), 1);
 413              		.loc 1 156 3 is_stmt 1 view .LVU93
 414 0064 0122     		movs	r2, #1
 415 0066 4649     		ldr	r1, .L31+48
 416 0068 4648     		ldr	r0, .L31+52
 417 006a FFF7FEFF 		bl	HAL_UART_Receive_IT
 418              	.LVL35:
ARM GAS  /tmp/cctYddPe.s 			page 11


 157:Core/Src/mainLoop.c ****   init_ad9520();
 419              		.loc 1 157 3 view .LVU94
 420 006e FFF7FEFF 		bl	init_ad9520
 421              	.LVL36:
 158:Core/Src/mainLoop.c ****   enable_tim4_capture_Iterrupt();
 422              		.loc 1 158 3 view .LVU95
 423 0072 FFF7FEFF 		bl	enable_tim4_capture_Iterrupt
 424              	.LVL37:
 159:Core/Src/mainLoop.c ****   while(1){
 425              		.loc 1 159 3 view .LVU96
 160:Core/Src/mainLoop.c ****     // do{
 161:Core/Src/mainLoop.c **** 
 162:Core/Src/mainLoop.c ****     // }while(0);
 163:Core/Src/mainLoop.c **** 
 164:Core/Src/mainLoop.c ****     i++;
 426              		.loc 1 164 5 view .LVU97
 427              		.loc 1 164 6 is_stmt 0 view .LVU98
 428 0076 444A     		ldr	r2, .L31+56
 429 0078 1368     		ldr	r3, [r2]
 430 007a 0133     		adds	r3, r3, #1
 431 007c 1360     		str	r3, [r2]
 165:Core/Src/mainLoop.c ****     
 166:Core/Src/mainLoop.c ****     // HAL_DAC_SetValue(DAC_HandleTypeDef* hdac, uint32_t Channel, uint32_t Alignment, uint32_t Dat
 167:Core/Src/mainLoop.c ****     
 168:Core/Src/mainLoop.c ****    // HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, i++);
 169:Core/Src/mainLoop.c ****     //init_ad9520();
 170:Core/Src/mainLoop.c ****    // set_ad9520_device();
 171:Core/Src/mainLoop.c ****     // HAL_GPIO_TogglePin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin)
 172:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 432              		.loc 1 172 5 is_stmt 1 view .LVU99
 433 007e 434E     		ldr	r6, .L31+60
 434 0080 4FF40061 		mov	r1, #2048
 435 0084 3046     		mov	r0, r6
 436 0086 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 437              	.LVL38:
 173:Core/Src/mainLoop.c ****    HAL_Delay(3);
 438              		.loc 1 173 4 view .LVU100
 439 008a 0320     		movs	r0, #3
 440 008c FFF7FEFF 		bl	HAL_Delay
 441              	.LVL39:
 174:Core/Src/mainLoop.c ****     HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 442              		.loc 1 174 5 view .LVU101
 443 0090 4FF48051 		mov	r1, #4096
 444 0094 3046     		mov	r0, r6
 445 0096 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 446              	.LVL40:
 175:Core/Src/mainLoop.c ****     HAL_Delay(300);
 447              		.loc 1 175 5 view .LVU102
 448 009a 4FF49670 		mov	r0, #300
 449 009e FFF7FEFF 		bl	HAL_Delay
 450              	.LVL41:
 176:Core/Src/mainLoop.c ****     check_ad9520_status();
 451              		.loc 1 176 5 view .LVU103
 452 00a2 FFF7FEFF 		bl	check_ad9520_status
 453              	.LVL42:
 177:Core/Src/mainLoop.c ****     //printf("hello world %ld:float %f\n",i,f*i);
 178:Core/Src/mainLoop.c ****     fre_dif = chanl1_capNum - chanl2_capNum;
ARM GAS  /tmp/cctYddPe.s 			page 12


 454              		.loc 1 178 5 view .LVU104
 455              		.loc 1 178 29 is_stmt 0 view .LVU105
 456 00a6 3A4B     		ldr	r3, .L31+64
 457 00a8 3A4A     		ldr	r2, .L31+68
 458 00aa 9B1A     		subs	r3, r3, r2
 459 00ac 9B10     		asrs	r3, r3, #2
 460              		.loc 1 178 13 view .LVU106
 461 00ae 2B60     		str	r3, [r5]
 462 00b0 1FE0     		b	.L27
 463              	.LVL43:
 464              	.L29:
 179:Core/Src/mainLoop.c **** 
 180:Core/Src/mainLoop.c ****     while(1){
 181:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 182:Core/Src/mainLoop.c ****       //   chanl1_completed=0;
 183:Core/Src/mainLoop.c ****       //   transform_capNum_to_xNum((uint32_t *)(&chanl1_capNum[2]), chanl1_xNum, CAPNUM);
 184:Core/Src/mainLoop.c ****       //   average_xNum1 = (float)cal_average_xNum(chanl1_xNum, CAPNUM);
 185:Core/Src/mainLoop.c ****       //   //HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_1, (uint32_t*)chanl1_capNum, CAPNUM);
 186:Core/Src/mainLoop.c ****         
 187:Core/Src/mainLoop.c ****       //   break;
 188:Core/Src/mainLoop.c ****       // }else if(chanl2_completed==1){
 189:Core/Src/mainLoop.c ****       //   chanl2_completed=0;
 190:Core/Src/mainLoop.c ****       //   //HAL_TIM_IC_Start_DMA(&htim4, TIM_CHANNEL_2, (uint32_t*)chanl2_capNum, CAPNUM);
 191:Core/Src/mainLoop.c ****       //   break;
 192:Core/Src/mainLoop.c ****       // }
 193:Core/Src/mainLoop.c ****     	generateSinWave(dacN%SAMPLE_RATE);
 194:Core/Src/mainLoop.c **** 			max5307_w_chanel(max_ch1,round(tmp),max_outenable);
 195:Core/Src/mainLoop.c **** 			max5307_w_chanel(DACP_1,round(tmp),max_outenable);
 196:Core/Src/mainLoop.c **** 			dacN = dacN + dacSign;
 197:Core/Src/mainLoop.c ****       if(v_dianya>1){
 198:Core/Src/mainLoop.c ****         v_dianya = 0;
 199:Core/Src/mainLoop.c ****       }else{
 200:Core/Src/mainLoop.c ****         v_dianya = 3.3;
 465              		.loc 1 200 9 is_stmt 1 view .LVU107
 466              		.loc 1 200 18 is_stmt 0 view .LVU108
 467 00b2 2F4B     		ldr	r3, .L31+32
 468 00b4 384A     		ldr	r2, .L31+72
 469 00b6 1A60     		str	r2, [r3]	@ float
 470              	.L26:
 201:Core/Src/mainLoop.c ****       }
 202:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 471              		.loc 1 202 7 is_stmt 1 view .LVU109
 472              		.loc 1 202 83 is_stmt 0 view .LVU110
 473 00b8 2D4B     		ldr	r3, .L31+32
 474 00ba 1868     		ldr	r0, [r3]	@ float
 475 00bc FFF7FEFF 		bl	__aeabi_f2d
 476              	.LVL44:
 477 00c0 23A3     		adr	r3, .L31
 478 00c2 D3E90023 		ldrd	r2, [r3]
 479 00c6 FFF7FEFF 		bl	__aeabi_ddiv
 480              	.LVL45:
 481              		.loc 1 202 88 view .LVU111
 482 00ca 0022     		movs	r2, #0
 483 00cc 2B4B     		ldr	r3, .L31+44
 484 00ce FFF7FEFF 		bl	__aeabi_dmul
 485              	.LVL46:
 486              		.loc 1 202 7 view .LVU112
ARM GAS  /tmp/cctYddPe.s 			page 13


 487 00d2 FFF7FEFF 		bl	__aeabi_d2uiz
 488              	.LVL47:
 489 00d6 0346     		mov	r3, r0
 490 00d8 0022     		movs	r2, #0
 491 00da 1146     		mov	r1, r2
 492 00dc 2648     		ldr	r0, .L31+40
 493 00de FFF7FEFF 		bl	HAL_DAC_SetValue
 494              	.LVL48:
 203:Core/Src/mainLoop.c ****       HAL_Delay(100);
 495              		.loc 1 203 7 is_stmt 1 view .LVU113
 496 00e2 6420     		movs	r0, #100
 497 00e4 FFF7FEFF 		bl	HAL_Delay
 498              	.LVL49:
 204:Core/Src/mainLoop.c ****       HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 499              		.loc 1 204 7 view .LVU114
 500 00e8 4FF48051 		mov	r1, #4096
 501 00ec 2748     		ldr	r0, .L31+60
 502 00ee FFF7FEFF 		bl	HAL_GPIO_TogglePin
 503              	.LVL50:
 180:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 504              		.loc 1 180 10 view .LVU115
 505              	.L27:
 180:Core/Src/mainLoop.c ****       // if(chanl1_completed==1 ){
 506              		.loc 1 180 5 view .LVU116
 193:Core/Src/mainLoop.c **** 			max5307_w_chanel(max_ch1,round(tmp),max_outenable);
 507              		.loc 1 193 6 view .LVU117
 508 00f2 C4F30B00 		ubfx	r0, r4, #0, #12
 509 00f6 FFF7FEFF 		bl	generateSinWave
 510              	.LVL51:
 194:Core/Src/mainLoop.c **** 			max5307_w_chanel(DACP_1,round(tmp),max_outenable);
 511              		.loc 1 194 4 view .LVU118
 194:Core/Src/mainLoop.c **** 			max5307_w_chanel(DACP_1,round(tmp),max_outenable);
 512              		.loc 1 194 29 is_stmt 0 view .LVU119
 513 00fa 284D     		ldr	r5, .L31+76
 514 00fc 95ED000B 		vldr.64	d0, [r5]
 515 0100 FFF7FEFF 		bl	round
 516              	.LVL52:
 517 0104 51EC100B 		vmov	r0, r1, d0
 194:Core/Src/mainLoop.c **** 			max5307_w_chanel(DACP_1,round(tmp),max_outenable);
 518              		.loc 1 194 4 view .LVU120
 519 0108 FFF7FEFF 		bl	__aeabi_d2uiz
 520              	.LVL53:
 521 010c 0146     		mov	r1, r0
 522 010e 0122     		movs	r2, #1
 523 0110 0220     		movs	r0, #2
 524 0112 FFF7FEFF 		bl	max5307_w_chanel
 525              	.LVL54:
 195:Core/Src/mainLoop.c **** 			dacN = dacN + dacSign;
 526              		.loc 1 195 4 is_stmt 1 view .LVU121
 195:Core/Src/mainLoop.c **** 			dacN = dacN + dacSign;
 527              		.loc 1 195 28 is_stmt 0 view .LVU122
 528 0116 95ED000B 		vldr.64	d0, [r5]
 529 011a FFF7FEFF 		bl	round
 530              	.LVL55:
 531 011e 51EC100B 		vmov	r0, r1, d0
 195:Core/Src/mainLoop.c **** 			dacN = dacN + dacSign;
 532              		.loc 1 195 4 view .LVU123
ARM GAS  /tmp/cctYddPe.s 			page 14


 533 0122 FFF7FEFF 		bl	__aeabi_d2uiz
 534              	.LVL56:
 535 0126 0146     		mov	r1, r0
 536 0128 0122     		movs	r2, #1
 537 012a 0620     		movs	r0, #6
 538 012c FFF7FEFF 		bl	max5307_w_chanel
 539              	.LVL57:
 196:Core/Src/mainLoop.c ****       if(v_dianya>1){
 540              		.loc 1 196 4 is_stmt 1 view .LVU124
 196:Core/Src/mainLoop.c ****       if(v_dianya>1){
 541              		.loc 1 196 9 is_stmt 0 view .LVU125
 542 0130 0134     		adds	r4, r4, #1
 543              	.LVL58:
 197:Core/Src/mainLoop.c ****         v_dianya = 0;
 544              		.loc 1 197 7 is_stmt 1 view .LVU126
 197:Core/Src/mainLoop.c ****         v_dianya = 0;
 545              		.loc 1 197 18 is_stmt 0 view .LVU127
 546 0132 0F4B     		ldr	r3, .L31+32
 547 0134 93ED007A 		vldr.32	s14, [r3]
 197:Core/Src/mainLoop.c ****         v_dianya = 0;
 548              		.loc 1 197 9 view .LVU128
 549 0138 F7EE007A 		vmov.f32	s15, #1.0e+0
 550 013c B4EEE77A 		vcmpe.f32	s14, s15
 551 0140 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 552 0144 B5DD     		ble	.L29
 198:Core/Src/mainLoop.c ****       }else{
 553              		.loc 1 198 9 is_stmt 1 view .LVU129
 198:Core/Src/mainLoop.c ****       }else{
 554              		.loc 1 198 18 is_stmt 0 view .LVU130
 555 0146 0022     		movs	r2, #0
 556 0148 1A60     		str	r2, [r3]	@ float
 557 014a B5E7     		b	.L26
 558              	.L32:
 559 014c AFF30080 		.align	3
 560              	.L31:
 561 0150 66666666 		.word	1717986918
 562 0154 66660A40 		.word	1074423398
 563 0158 00000000 		.word	complete_sign
 564 015c 00000000 		.word	xx
 565 0160 00000000 		.word	yy
 566 0164 00000000 		.word	.LANCHOR0
 567 0168 00000000 		.word	xx_cnt
 568 016c 00000000 		.word	yy_cnt
 569 0170 00000000 		.word	v_dianya
 570 0174 3333D33F 		.word	1070805811
 571 0178 00000000 		.word	hdac
 572 017c 0000B040 		.word	1085276160
 573 0180 00000000 		.word	buf
 574 0184 00000000 		.word	huart2
 575 0188 00000000 		.word	.LANCHOR1
 576 018c 00080240 		.word	1073874944
 577 0190 00000000 		.word	chanl1_capNum
 578 0194 00000000 		.word	chanl2_capNum
 579 0198 33335340 		.word	1079194419
 580 019c 00000000 		.word	tmp
 581              		.cfi_endproc
 582              	.LFE138:
ARM GAS  /tmp/cctYddPe.s 			page 15


 584              		.section	.text.HAL_TIM_IC_CaptureCallback,"ax",%progbits
 585              		.align	1
 586              		.global	HAL_TIM_IC_CaptureCallback
 587              		.syntax unified
 588              		.thumb
 589              		.thumb_func
 590              		.fpu fpv4-sp-d16
 592              	HAL_TIM_IC_CaptureCallback:
 593              	.LVL59:
 594              	.LFB139:
 205:Core/Src/mainLoop.c ****       //check_ad9520_status();
 206:Core/Src/mainLoop.c ****     }
 207:Core/Src/mainLoop.c **** 
 208:Core/Src/mainLoop.c ****     while(complete_sign == 0){
 209:Core/Src/mainLoop.c ****       HAL_Delay(3);
 210:Core/Src/mainLoop.c ****     };
 211:Core/Src/mainLoop.c ****     complete_sign = 0;
 212:Core/Src/mainLoop.c ****     //fre_dif=chanl1_midx - chanl2_midx;
 213:Core/Src/mainLoop.c ****     //printf("%ld = %ld - %ld \n",fre_dif,xx,yy);
 214:Core/Src/mainLoop.c ****     //printf("cha1=%ld,cha2=%ld\n",xx-xx_bak,yy-yy_bak);
 215:Core/Src/mainLoop.c ****     xx_bak=xx;
 216:Core/Src/mainLoop.c ****     yy_bak=yy;
 217:Core/Src/mainLoop.c **** 
 218:Core/Src/mainLoop.c ****     HAL_Delay(2);
 219:Core/Src/mainLoop.c ****   }
 220:Core/Src/mainLoop.c **** }
 221:Core/Src/mainLoop.c **** 
 222:Core/Src/mainLoop.c **** 
 223:Core/Src/mainLoop.c **** void HAL_TIM_IC_CaptureCallback(TIM_HandleTypeDef* htim){
 595              		.loc 1 223 57 is_stmt 1 view -0
 596              		.cfi_startproc
 597              		@ args = 0, pretend = 0, frame = 0
 598              		@ frame_needed = 0, uses_anonymous_args = 0
 599              		@ link register save eliminated.
 224:Core/Src/mainLoop.c ****   if(htim->Instance == TIM4){
 600              		.loc 1 224 3 view .LVU132
 601              		.loc 1 224 10 is_stmt 0 view .LVU133
 602 0000 0368     		ldr	r3, [r0]
 603              		.loc 1 224 5 view .LVU134
 604 0002 104A     		ldr	r2, .L40
 605 0004 9342     		cmp	r3, r2
 606 0006 03D0     		beq	.L37
 225:Core/Src/mainLoop.c ****     if(htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1){
 226:Core/Src/mainLoop.c ****       // chanl1_capNum++;
 227:Core/Src/mainLoop.c ****       // chanl2_capNum = TIM4->CCR1;
 228:Core/Src/mainLoop.c ****       //xx = TIM4->CCR1;
 229:Core/Src/mainLoop.c ****       // for(i=1;i<CAPNUM;i++){
 230:Core/Src/mainLoop.c ****       //   chanl1_capNum[i-1]=chanl1_capNum[i]-chanl1_capNum[i-1];
 231:Core/Src/mainLoop.c ****       // }
 232:Core/Src/mainLoop.c ****       //yy = TIM4->CCR2;
 233:Core/Src/mainLoop.c ****       //chanl1_completed=1;
 234:Core/Src/mainLoop.c ****       chanl1_midx = chanl1_capNum[CAPNUM/2-2]&0xffff;
 235:Core/Src/mainLoop.c ****       //chanl2_midx = TIM4->CCR2;
 236:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_1;
 237:Core/Src/mainLoop.c ****     }
 238:Core/Src/mainLoop.c ****     if(htim->Channel == HAL_TIM_ACTIVE_CHANNEL_2){
 239:Core/Src/mainLoop.c ****       //chanl2_capNum++;
ARM GAS  /tmp/cctYddPe.s 			page 16


 240:Core/Src/mainLoop.c ****       chanl2_midx = chanl2_capNum[CAPNUM/2-2]&0xffff;
 241:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 242:Core/Src/mainLoop.c ****     }
 243:Core/Src/mainLoop.c ****   }else if(htim->Instance == TIM1){
 607              		.loc 1 243 9 is_stmt 1 view .LVU135
 608              		.loc 1 243 11 is_stmt 0 view .LVU136
 609 0008 0F4A     		ldr	r2, .L40+4
 610 000a 9342     		cmp	r3, r2
 611 000c 11D0     		beq	.L38
 612              	.L33:
 244:Core/Src/mainLoop.c ****     if(htim->Channel == HAL_TIM_ACTIVE_CHANNEL_4){
 245:Core/Src/mainLoop.c ****       //chanl2_capNum++;
 246:Core/Src/mainLoop.c ****       chanl1_midx = chanl1_capNum[CAPNUM/2-2]&0xffff;
 247:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 248:Core/Src/mainLoop.c ****     }
 249:Core/Src/mainLoop.c ****   }
 250:Core/Src/mainLoop.c **** 
 251:Core/Src/mainLoop.c **** }
 613              		.loc 1 251 1 view .LVU137
 614 000e 7047     		bx	lr
 615              	.L37:
 225:Core/Src/mainLoop.c ****     if(htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1){
 616              		.loc 1 225 5 is_stmt 1 view .LVU138
 225:Core/Src/mainLoop.c ****     if(htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1){
 617              		.loc 1 225 12 is_stmt 0 view .LVU139
 618 0010 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 225:Core/Src/mainLoop.c ****     if(htim->Channel == HAL_TIM_ACTIVE_CHANNEL_1){
 619              		.loc 1 225 7 view .LVU140
 620 0012 012B     		cmp	r3, #1
 621 0014 07D0     		beq	.L39
 622              	.L35:
 238:Core/Src/mainLoop.c ****       //chanl2_capNum++;
 623              		.loc 1 238 5 is_stmt 1 view .LVU141
 238:Core/Src/mainLoop.c ****       //chanl2_capNum++;
 624              		.loc 1 238 7 is_stmt 0 view .LVU142
 625 0016 022B     		cmp	r3, #2
 626 0018 F9D1     		bne	.L33
 240:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 627              		.loc 1 240 7 is_stmt 1 view .LVU143
 240:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 628              		.loc 1 240 46 is_stmt 0 view .LVU144
 629 001a 0C4B     		ldr	r3, .L40+8
 630 001c B3F8C020 		ldrh	r2, [r3, #192]
 240:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 631              		.loc 1 240 19 view .LVU145
 632 0020 0B4B     		ldr	r3, .L40+12
 633 0022 1A60     		str	r2, [r3]
 634 0024 7047     		bx	lr
 635              	.L39:
 234:Core/Src/mainLoop.c ****       //chanl2_midx = TIM4->CCR2;
 636              		.loc 1 234 7 is_stmt 1 view .LVU146
 234:Core/Src/mainLoop.c ****       //chanl2_midx = TIM4->CCR2;
 637              		.loc 1 234 46 is_stmt 0 view .LVU147
 638 0026 0B4A     		ldr	r2, .L40+16
 639 0028 B2F8C010 		ldrh	r1, [r2, #192]
 234:Core/Src/mainLoop.c ****       //chanl2_midx = TIM4->CCR2;
 640              		.loc 1 234 19 view .LVU148
ARM GAS  /tmp/cctYddPe.s 			page 17


 641 002c 0A4A     		ldr	r2, .L40+20
 642 002e 1160     		str	r1, [r2]
 643 0030 F1E7     		b	.L35
 644              	.L38:
 244:Core/Src/mainLoop.c ****       //chanl2_capNum++;
 645              		.loc 1 244 5 is_stmt 1 view .LVU149
 244:Core/Src/mainLoop.c ****       //chanl2_capNum++;
 646              		.loc 1 244 12 is_stmt 0 view .LVU150
 647 0032 037F     		ldrb	r3, [r0, #28]	@ zero_extendqisi2
 244:Core/Src/mainLoop.c ****       //chanl2_capNum++;
 648              		.loc 1 244 7 view .LVU151
 649 0034 082B     		cmp	r3, #8
 650 0036 EAD1     		bne	.L33
 246:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 651              		.loc 1 246 7 is_stmt 1 view .LVU152
 246:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 652              		.loc 1 246 46 is_stmt 0 view .LVU153
 653 0038 064B     		ldr	r3, .L40+16
 654 003a B3F8C020 		ldrh	r2, [r3, #192]
 246:Core/Src/mainLoop.c ****       //htim->Channel &= ~HAL_TIM_ACTIVE_CHANNEL_2;
 655              		.loc 1 246 19 view .LVU154
 656 003e 064B     		ldr	r3, .L40+20
 657 0040 1A60     		str	r2, [r3]
 658              		.loc 1 251 1 view .LVU155
 659 0042 E4E7     		b	.L33
 660              	.L41:
 661              		.align	2
 662              	.L40:
 663 0044 00080040 		.word	1073743872
 664 0048 00000140 		.word	1073807360
 665 004c 00000000 		.word	chanl2_capNum
 666 0050 00000000 		.word	.LANCHOR3
 667 0054 00000000 		.word	chanl1_capNum
 668 0058 00000000 		.word	.LANCHOR2
 669              		.cfi_endproc
 670              	.LFE139:
 672              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 673              		.align	1
 674              		.global	HAL_TIM_PeriodElapsedCallback
 675              		.syntax unified
 676              		.thumb
 677              		.thumb_func
 678              		.fpu fpv4-sp-d16
 680              	HAL_TIM_PeriodElapsedCallback:
 681              	.LVL60:
 682              	.LFB140:
 252:Core/Src/mainLoop.c **** 
 253:Core/Src/mainLoop.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef* htim)
 254:Core/Src/mainLoop.c **** {
 683              		.loc 1 254 1 is_stmt 1 view -0
 684              		.cfi_startproc
 685              		@ args = 0, pretend = 0, frame = 0
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 687              		.loc 1 254 1 is_stmt 0 view .LVU157
 688 0000 08B5     		push	{r3, lr}
 689              	.LCFI8:
 690              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cctYddPe.s 			page 18


 691              		.cfi_offset 3, -8
 692              		.cfi_offset 14, -4
 255:Core/Src/mainLoop.c ****     //htim4.Init.Period = 65535; 1ms ÂÆöÊó∂
 256:Core/Src/mainLoop.c ****     // if(htim == &htim4){
 257:Core/Src/mainLoop.c ****     //   HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 258:Core/Src/mainLoop.c ****     //   xx= HAL_TIM_ReadCapturedValue(&htim4, TIM_CHANNEL_1);
 259:Core/Src/mainLoop.c ****       
 260:Core/Src/mainLoop.c ****     //   yy = TIM4->CCR2;
 261:Core/Src/mainLoop.c ****     //   //TIM4->CCR1=0;
 262:Core/Src/mainLoop.c ****     //   //TIM4->CCR2=0;
 263:Core/Src/mainLoop.c ****     //   fre_dif = xx - yy;
 264:Core/Src/mainLoop.c ****     // }
 265:Core/Src/mainLoop.c ****     if(htim == &htim5){
 693              		.loc 1 265 5 is_stmt 1 view .LVU158
 694              		.loc 1 265 7 is_stmt 0 view .LVU159
 695 0002 0C4B     		ldr	r3, .L46
 696 0004 8342     		cmp	r3, r0
 697 0006 00D0     		beq	.L45
 698              	.LVL61:
 699              	.L42:
 266:Core/Src/mainLoop.c ****       
 267:Core/Src/mainLoop.c ****       
 268:Core/Src/mainLoop.c ****       xx = TIM4->CNT;
 269:Core/Src/mainLoop.c ****       //yy = TIM4->CCR2;
 270:Core/Src/mainLoop.c ****       yy = TIM1->CNT;
 271:Core/Src/mainLoop.c ****       fre_dif = xx - yy;
 272:Core/Src/mainLoop.c ****       complete_sign = 1;
 273:Core/Src/mainLoop.c ****       HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 274:Core/Src/mainLoop.c ****     }
 275:Core/Src/mainLoop.c ****     // if(htim == &htim1){
 276:Core/Src/mainLoop.c ****     //   xx_cnt++;
 277:Core/Src/mainLoop.c ****     // }
 278:Core/Src/mainLoop.c ****     // if(htim == &htim4){
 279:Core/Src/mainLoop.c ****     //   yy_cnt++;
 280:Core/Src/mainLoop.c ****     // }
 281:Core/Src/mainLoop.c **** }
 700              		.loc 1 281 1 view .LVU160
 701 0008 08BD     		pop	{r3, pc}
 702              	.LVL62:
 703              	.L45:
 268:Core/Src/mainLoop.c ****       //yy = TIM4->CCR2;
 704              		.loc 1 268 7 is_stmt 1 view .LVU161
 268:Core/Src/mainLoop.c ****       //yy = TIM4->CCR2;
 705              		.loc 1 268 16 is_stmt 0 view .LVU162
 706 000a 0B4B     		ldr	r3, .L46+4
 707 000c 5B6A     		ldr	r3, [r3, #36]
 268:Core/Src/mainLoop.c ****       //yy = TIM4->CCR2;
 708              		.loc 1 268 10 view .LVU163
 709 000e 0B4A     		ldr	r2, .L46+8
 710 0010 1360     		str	r3, [r2]
 270:Core/Src/mainLoop.c ****       fre_dif = xx - yy;
 711              		.loc 1 270 7 is_stmt 1 view .LVU164
 270:Core/Src/mainLoop.c ****       fre_dif = xx - yy;
 712              		.loc 1 270 16 is_stmt 0 view .LVU165
 713 0012 0B4A     		ldr	r2, .L46+12
 714 0014 526A     		ldr	r2, [r2, #36]
 270:Core/Src/mainLoop.c ****       fre_dif = xx - yy;
ARM GAS  /tmp/cctYddPe.s 			page 19


 715              		.loc 1 270 10 view .LVU166
 716 0016 0B49     		ldr	r1, .L46+16
 717 0018 0A60     		str	r2, [r1]
 271:Core/Src/mainLoop.c ****       complete_sign = 1;
 718              		.loc 1 271 7 is_stmt 1 view .LVU167
 271:Core/Src/mainLoop.c ****       complete_sign = 1;
 719              		.loc 1 271 20 is_stmt 0 view .LVU168
 720 001a 9B1A     		subs	r3, r3, r2
 271:Core/Src/mainLoop.c ****       complete_sign = 1;
 721              		.loc 1 271 15 view .LVU169
 722 001c 0A4A     		ldr	r2, .L46+20
 723 001e 1360     		str	r3, [r2]
 272:Core/Src/mainLoop.c ****       HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 724              		.loc 1 272 7 is_stmt 1 view .LVU170
 272:Core/Src/mainLoop.c ****       HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 725              		.loc 1 272 21 is_stmt 0 view .LVU171
 726 0020 0A4B     		ldr	r3, .L46+24
 727 0022 0122     		movs	r2, #1
 728 0024 1A60     		str	r2, [r3]
 273:Core/Src/mainLoop.c ****     }
 729              		.loc 1 273 7 is_stmt 1 view .LVU172
 730 0026 4FF40061 		mov	r1, #2048
 731 002a 0948     		ldr	r0, .L46+28
 732              	.LVL63:
 273:Core/Src/mainLoop.c ****     }
 733              		.loc 1 273 7 is_stmt 0 view .LVU173
 734 002c FFF7FEFF 		bl	HAL_GPIO_TogglePin
 735              	.LVL64:
 736              		.loc 1 281 1 view .LVU174
 737 0030 EAE7     		b	.L42
 738              	.L47:
 739 0032 00BF     		.align	2
 740              	.L46:
 741 0034 00000000 		.word	htim5
 742 0038 00080040 		.word	1073743872
 743 003c 00000000 		.word	xx
 744 0040 00000140 		.word	1073807360
 745 0044 00000000 		.word	yy
 746 0048 00000000 		.word	.LANCHOR0
 747 004c 00000000 		.word	complete_sign
 748 0050 00080240 		.word	1073874944
 749              		.cfi_endproc
 750              	.LFE140:
 752              		.global	__aeabi_d2f
 753              		.global	__aeabi_dsub
 754              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 755              		.align	1
 756              		.global	HAL_UART_RxCpltCallback
 757              		.syntax unified
 758              		.thumb
 759              		.thumb_func
 760              		.fpu fpv4-sp-d16
 762              	HAL_UART_RxCpltCallback:
 763              	.LVL65:
 764              	.LFB141:
 282:Core/Src/mainLoop.c **** 
 283:Core/Src/mainLoop.c **** // void HAL_GPIO_EXTI_Callback( uint16_t GPIO_Pin)
ARM GAS  /tmp/cctYddPe.s 			page 20


 284:Core/Src/mainLoop.c **** // {
 285:Core/Src/mainLoop.c **** // 	if(GPIO_Pin == capture_sig_it_Pin){
 286:Core/Src/mainLoop.c **** // 	   //This block will be triggered after pin activated.
 287:Core/Src/mainLoop.c **** //      chanl2_capNum++;
 288:Core/Src/mainLoop.c **** // 	}
 289:Core/Src/mainLoop.c **** // }
 290:Core/Src/mainLoop.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart){
 765              		.loc 1 290 56 is_stmt 1 view -0
 766              		.cfi_startproc
 767              		@ args = 0, pretend = 0, frame = 0
 768              		@ frame_needed = 0, uses_anonymous_args = 0
 291:Core/Src/mainLoop.c ****   if(huart == &huart2){
 769              		.loc 1 291 3 view .LVU176
 770              		.loc 1 291 5 is_stmt 0 view .LVU177
 771 0000 514B     		ldr	r3, .L63+24
 772 0002 8342     		cmp	r3, r0
 773 0004 00D0     		beq	.L58
 774 0006 7047     		bx	lr
 775              	.L58:
 290:Core/Src/mainLoop.c ****   if(huart == &huart2){
 776              		.loc 1 290 56 view .LVU178
 777 0008 10B5     		push	{r4, lr}
 778              	.LCFI9:
 779              		.cfi_def_cfa_offset 8
 780              		.cfi_offset 4, -8
 781              		.cfi_offset 14, -4
 292:Core/Src/mainLoop.c ****     //xx++;
 293:Core/Src/mainLoop.c ****     //uint8_t tmp = (uint16_t)(huart->Instance->DR & (uint16_t)0x01FF);
 294:Core/Src/mainLoop.c ****     if(buf[0] == 'u'){
 782              		.loc 1 294 5 is_stmt 1 view .LVU179
 783              		.loc 1 294 11 is_stmt 0 view .LVU180
 784 000a 504B     		ldr	r3, .L63+28
 785 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 786              		.loc 1 294 7 view .LVU181
 787 000e 752B     		cmp	r3, #117
 788 0010 0BD0     		beq	.L59
 295:Core/Src/mainLoop.c ****       //HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 296:Core/Src/mainLoop.c ****       v_dianya += 0.1;
 297:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 298:Core/Src/mainLoop.c ****     }else if(buf[0]  == 'd'){
 789              		.loc 1 298 11 is_stmt 1 view .LVU182
 790              		.loc 1 298 13 is_stmt 0 view .LVU183
 791 0012 642B     		cmp	r3, #100
 792 0014 29D0     		beq	.L60
 299:Core/Src/mainLoop.c ****       //HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 300:Core/Src/mainLoop.c ****       v_dianya -= 0.1;
 301:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 302:Core/Src/mainLoop.c ****     }else if(buf[0] == 'r'){
 793              		.loc 1 302 11 is_stmt 1 view .LVU184
 794              		.loc 1 302 13 is_stmt 0 view .LVU185
 795 0016 722B     		cmp	r3, #114
 796 0018 47D0     		beq	.L61
 303:Core/Src/mainLoop.c ****       v_dianya += 0.01;
 304:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 305:Core/Src/mainLoop.c ****     }else if(buf[0] == 'x'){
 797              		.loc 1 305 11 is_stmt 1 view .LVU186
 798              		.loc 1 305 13 is_stmt 0 view .LVU187
ARM GAS  /tmp/cctYddPe.s 			page 21


 799 001a 782B     		cmp	r3, #120
 800 001c 65D0     		beq	.L62
 801              	.LVL66:
 802              	.L51:
 306:Core/Src/mainLoop.c ****        v_dianya -= 0.01;
 307:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 308:Core/Src/mainLoop.c ****     }
 309:Core/Src/mainLoop.c ****     HAL_UART_Receive_IT(&huart2, (uint8_t *)(buf), 1);
 803              		.loc 1 309 5 is_stmt 1 view .LVU188
 804 001e 0122     		movs	r2, #1
 805 0020 4A49     		ldr	r1, .L63+28
 806 0022 4948     		ldr	r0, .L63+24
 807 0024 FFF7FEFF 		bl	HAL_UART_Receive_IT
 808              	.LVL67:
 310:Core/Src/mainLoop.c ****   }
 311:Core/Src/mainLoop.c **** }
 809              		.loc 1 311 1 is_stmt 0 view .LVU189
 810 0028 10BD     		pop	{r4, pc}
 811              	.LVL68:
 812              	.L59:
 296:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 813              		.loc 1 296 7 is_stmt 1 view .LVU190
 296:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 814              		.loc 1 296 16 is_stmt 0 view .LVU191
 815 002a 494C     		ldr	r4, .L63+32
 816 002c 2068     		ldr	r0, [r4]	@ float
 817              	.LVL69:
 296:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 818              		.loc 1 296 16 view .LVU192
 819 002e FFF7FEFF 		bl	__aeabi_f2d
 820              	.LVL70:
 821 0032 3FA3     		adr	r3, .L63
 822 0034 D3E90023 		ldrd	r2, [r3]
 823 0038 FFF7FEFF 		bl	__aeabi_dadd
 824              	.LVL71:
 825 003c FFF7FEFF 		bl	__aeabi_d2f
 826              	.LVL72:
 827 0040 2060     		str	r0, [r4]	@ float
 297:Core/Src/mainLoop.c ****     }else if(buf[0]  == 'd'){
 828              		.loc 1 297 7 is_stmt 1 view .LVU193
 297:Core/Src/mainLoop.c ****     }else if(buf[0]  == 'd'){
 829              		.loc 1 297 83 is_stmt 0 view .LVU194
 830 0042 FFF7FEFF 		bl	__aeabi_f2d
 831              	.LVL73:
 832 0046 3CA3     		adr	r3, .L63+8
 833 0048 D3E90023 		ldrd	r2, [r3]
 834 004c FFF7FEFF 		bl	__aeabi_ddiv
 835              	.LVL74:
 297:Core/Src/mainLoop.c ****     }else if(buf[0]  == 'd'){
 836              		.loc 1 297 88 view .LVU195
 837 0050 0022     		movs	r2, #0
 838 0052 404B     		ldr	r3, .L63+36
 839 0054 FFF7FEFF 		bl	__aeabi_dmul
 840              	.LVL75:
 297:Core/Src/mainLoop.c ****     }else if(buf[0]  == 'd'){
 841              		.loc 1 297 7 view .LVU196
 842 0058 FFF7FEFF 		bl	__aeabi_d2uiz
ARM GAS  /tmp/cctYddPe.s 			page 22


 843              	.LVL76:
 844 005c 0346     		mov	r3, r0
 845 005e 0022     		movs	r2, #0
 846 0060 1146     		mov	r1, r2
 847 0062 3D48     		ldr	r0, .L63+40
 848 0064 FFF7FEFF 		bl	HAL_DAC_SetValue
 849              	.LVL77:
 850 0068 D9E7     		b	.L51
 851              	.LVL78:
 852              	.L60:
 300:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 853              		.loc 1 300 7 is_stmt 1 view .LVU197
 300:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 854              		.loc 1 300 16 is_stmt 0 view .LVU198
 855 006a 394C     		ldr	r4, .L63+32
 856 006c 2068     		ldr	r0, [r4]	@ float
 857              	.LVL79:
 300:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 858              		.loc 1 300 16 view .LVU199
 859 006e FFF7FEFF 		bl	__aeabi_f2d
 860              	.LVL80:
 861 0072 2FA3     		adr	r3, .L63
 862 0074 D3E90023 		ldrd	r2, [r3]
 863 0078 FFF7FEFF 		bl	__aeabi_dsub
 864              	.LVL81:
 865 007c FFF7FEFF 		bl	__aeabi_d2f
 866              	.LVL82:
 867 0080 2060     		str	r0, [r4]	@ float
 301:Core/Src/mainLoop.c ****     }else if(buf[0] == 'r'){
 868              		.loc 1 301 7 is_stmt 1 view .LVU200
 301:Core/Src/mainLoop.c ****     }else if(buf[0] == 'r'){
 869              		.loc 1 301 83 is_stmt 0 view .LVU201
 870 0082 FFF7FEFF 		bl	__aeabi_f2d
 871              	.LVL83:
 872 0086 2CA3     		adr	r3, .L63+8
 873 0088 D3E90023 		ldrd	r2, [r3]
 874 008c FFF7FEFF 		bl	__aeabi_ddiv
 875              	.LVL84:
 301:Core/Src/mainLoop.c ****     }else if(buf[0] == 'r'){
 876              		.loc 1 301 88 view .LVU202
 877 0090 0022     		movs	r2, #0
 878 0092 304B     		ldr	r3, .L63+36
 879 0094 FFF7FEFF 		bl	__aeabi_dmul
 880              	.LVL85:
 301:Core/Src/mainLoop.c ****     }else if(buf[0] == 'r'){
 881              		.loc 1 301 7 view .LVU203
 882 0098 FFF7FEFF 		bl	__aeabi_d2uiz
 883              	.LVL86:
 884 009c 0346     		mov	r3, r0
 885 009e 0022     		movs	r2, #0
 886 00a0 1146     		mov	r1, r2
 887 00a2 2D48     		ldr	r0, .L63+40
 888 00a4 FFF7FEFF 		bl	HAL_DAC_SetValue
 889              	.LVL87:
 890 00a8 B9E7     		b	.L51
 891              	.LVL88:
 892              	.L61:
ARM GAS  /tmp/cctYddPe.s 			page 23


 303:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 893              		.loc 1 303 7 is_stmt 1 view .LVU204
 303:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 894              		.loc 1 303 16 is_stmt 0 view .LVU205
 895 00aa 294C     		ldr	r4, .L63+32
 896 00ac 2068     		ldr	r0, [r4]	@ float
 897              	.LVL89:
 303:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 898              		.loc 1 303 16 view .LVU206
 899 00ae FFF7FEFF 		bl	__aeabi_f2d
 900              	.LVL90:
 901 00b2 23A3     		adr	r3, .L63+16
 902 00b4 D3E90023 		ldrd	r2, [r3]
 903 00b8 FFF7FEFF 		bl	__aeabi_dadd
 904              	.LVL91:
 905 00bc FFF7FEFF 		bl	__aeabi_d2f
 906              	.LVL92:
 907 00c0 2060     		str	r0, [r4]	@ float
 304:Core/Src/mainLoop.c ****     }else if(buf[0] == 'x'){
 908              		.loc 1 304 7 is_stmt 1 view .LVU207
 304:Core/Src/mainLoop.c ****     }else if(buf[0] == 'x'){
 909              		.loc 1 304 83 is_stmt 0 view .LVU208
 910 00c2 FFF7FEFF 		bl	__aeabi_f2d
 911              	.LVL93:
 912 00c6 1CA3     		adr	r3, .L63+8
 913 00c8 D3E90023 		ldrd	r2, [r3]
 914 00cc FFF7FEFF 		bl	__aeabi_ddiv
 915              	.LVL94:
 304:Core/Src/mainLoop.c ****     }else if(buf[0] == 'x'){
 916              		.loc 1 304 88 view .LVU209
 917 00d0 0022     		movs	r2, #0
 918 00d2 204B     		ldr	r3, .L63+36
 919 00d4 FFF7FEFF 		bl	__aeabi_dmul
 920              	.LVL95:
 304:Core/Src/mainLoop.c ****     }else if(buf[0] == 'x'){
 921              		.loc 1 304 7 view .LVU210
 922 00d8 FFF7FEFF 		bl	__aeabi_d2uiz
 923              	.LVL96:
 924 00dc 0346     		mov	r3, r0
 925 00de 0022     		movs	r2, #0
 926 00e0 1146     		mov	r1, r2
 927 00e2 1D48     		ldr	r0, .L63+40
 928 00e4 FFF7FEFF 		bl	HAL_DAC_SetValue
 929              	.LVL97:
 930 00e8 99E7     		b	.L51
 931              	.LVL98:
 932              	.L62:
 306:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 933              		.loc 1 306 8 is_stmt 1 view .LVU211
 306:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 934              		.loc 1 306 17 is_stmt 0 view .LVU212
 935 00ea 194C     		ldr	r4, .L63+32
 936 00ec 2068     		ldr	r0, [r4]	@ float
 937              	.LVL99:
 306:Core/Src/mainLoop.c ****       HAL_DAC_SetValue(&hdac, DAC_CHANNEL_1, DAC_ALIGN_12B_R, (uint32_t)((v_dianya/3.3)*4096));
 938              		.loc 1 306 17 view .LVU213
 939 00ee FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  /tmp/cctYddPe.s 			page 24


 940              	.LVL100:
 941 00f2 13A3     		adr	r3, .L63+16
 942 00f4 D3E90023 		ldrd	r2, [r3]
 943 00f8 FFF7FEFF 		bl	__aeabi_dsub
 944              	.LVL101:
 945 00fc FFF7FEFF 		bl	__aeabi_d2f
 946              	.LVL102:
 947 0100 2060     		str	r0, [r4]	@ float
 307:Core/Src/mainLoop.c ****     }
 948              		.loc 1 307 7 is_stmt 1 view .LVU214
 307:Core/Src/mainLoop.c ****     }
 949              		.loc 1 307 83 is_stmt 0 view .LVU215
 950 0102 FFF7FEFF 		bl	__aeabi_f2d
 951              	.LVL103:
 952 0106 0CA3     		adr	r3, .L63+8
 953 0108 D3E90023 		ldrd	r2, [r3]
 954 010c FFF7FEFF 		bl	__aeabi_ddiv
 955              	.LVL104:
 307:Core/Src/mainLoop.c ****     }
 956              		.loc 1 307 88 view .LVU216
 957 0110 0022     		movs	r2, #0
 958 0112 104B     		ldr	r3, .L63+36
 959 0114 FFF7FEFF 		bl	__aeabi_dmul
 960              	.LVL105:
 307:Core/Src/mainLoop.c ****     }
 961              		.loc 1 307 7 view .LVU217
 962 0118 FFF7FEFF 		bl	__aeabi_d2uiz
 963              	.LVL106:
 964 011c 0346     		mov	r3, r0
 965 011e 0022     		movs	r2, #0
 966 0120 1146     		mov	r1, r2
 967 0122 0D48     		ldr	r0, .L63+40
 968 0124 FFF7FEFF 		bl	HAL_DAC_SetValue
 969              	.LVL107:
 970 0128 79E7     		b	.L51
 971              	.L64:
 972 012a 00BFAFF3 		.align	3
 972      0080
 973              	.L63:
 974 0130 9A999999 		.word	2576980378
 975 0134 9999B93F 		.word	1069128089
 976 0138 66666666 		.word	1717986918
 977 013c 66660A40 		.word	1074423398
 978 0140 7B14AE47 		.word	1202590843
 979 0144 E17A843F 		.word	1065646817
 980 0148 00000000 		.word	huart2
 981 014c 00000000 		.word	buf
 982 0150 00000000 		.word	v_dianya
 983 0154 0000B040 		.word	1085276160
 984 0158 00000000 		.word	hdac
 985              		.cfi_endproc
 986              	.LFE141:
 988              		.section	.text.set_dac_initVal,"ax",%progbits
 989              		.align	1
 990              		.global	set_dac_initVal
 991              		.syntax unified
 992              		.thumb
ARM GAS  /tmp/cctYddPe.s 			page 25


 993              		.thumb_func
 994              		.fpu fpv4-sp-d16
 996              	set_dac_initVal:
 997              	.LVL108:
 998              	.LFB142:
 312:Core/Src/mainLoop.c **** 
 313:Core/Src/mainLoop.c **** 
 314:Core/Src/mainLoop.c **** void set_dac_initVal(uint32_t* val){
 999              		.loc 1 314 36 is_stmt 1 view -0
 1000              		.cfi_startproc
 1001              		@ args = 0, pretend = 0, frame = 0
 1002              		@ frame_needed = 0, uses_anonymous_args = 0
 1003              		.loc 1 314 36 is_stmt 0 view .LVU219
 1004 0000 10B5     		push	{r4, lr}
 1005              	.LCFI10:
 1006              		.cfi_def_cfa_offset 8
 1007              		.cfi_offset 4, -8
 1008              		.cfi_offset 14, -4
 1009 0002 0446     		mov	r4, r0
 315:Core/Src/mainLoop.c **** //set all dac val
 316:Core/Src/mainLoop.c **** 	
 317:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch1,*(val+0),max_outdisable);
 1010              		.loc 1 317 2 is_stmt 1 view .LVU220
 1011 0004 0222     		movs	r2, #2
 1012 0006 0168     		ldr	r1, [r0]
 1013 0008 1046     		mov	r0, r2
 1014              	.LVL109:
 1015              		.loc 1 317 2 is_stmt 0 view .LVU221
 1016 000a FFF7FEFF 		bl	max5307_w_chanel
 1017              	.LVL110:
 318:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch2,*(val+1),max_outdisable);
 1018              		.loc 1 318 2 is_stmt 1 view .LVU222
 1019 000e 0222     		movs	r2, #2
 1020 0010 6168     		ldr	r1, [r4, #4]
 1021 0012 0320     		movs	r0, #3
 1022 0014 FFF7FEFF 		bl	max5307_w_chanel
 1023              	.LVL111:
 319:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch3,*(val+2),max_outdisable);
 1024              		.loc 1 319 2 view .LVU223
 1025 0018 0222     		movs	r2, #2
 1026 001a A168     		ldr	r1, [r4, #8]
 1027 001c 0420     		movs	r0, #4
 1028 001e FFF7FEFF 		bl	max5307_w_chanel
 1029              	.LVL112:
 320:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch4,*(val+3),max_outdisable);
 1030              		.loc 1 320 2 view .LVU224
 1031 0022 0222     		movs	r2, #2
 1032 0024 E168     		ldr	r1, [r4, #12]
 1033 0026 0520     		movs	r0, #5
 1034 0028 FFF7FEFF 		bl	max5307_w_chanel
 1035              	.LVL113:
 321:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch5,*(val+4),max_outdisable);
 1036              		.loc 1 321 2 view .LVU225
 1037 002c 0222     		movs	r2, #2
 1038 002e 2169     		ldr	r1, [r4, #16]
 1039 0030 0620     		movs	r0, #6
 1040 0032 FFF7FEFF 		bl	max5307_w_chanel
ARM GAS  /tmp/cctYddPe.s 			page 26


 1041              	.LVL114:
 322:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch6,*(val+5),max_outdisable);
 1042              		.loc 1 322 2 view .LVU226
 1043 0036 0222     		movs	r2, #2
 1044 0038 6169     		ldr	r1, [r4, #20]
 1045 003a 0720     		movs	r0, #7
 1046 003c FFF7FEFF 		bl	max5307_w_chanel
 1047              	.LVL115:
 323:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch7,*(val+6),max_outdisable);
 1048              		.loc 1 323 2 view .LVU227
 1049 0040 0222     		movs	r2, #2
 1050 0042 A169     		ldr	r1, [r4, #24]
 1051 0044 0820     		movs	r0, #8
 1052 0046 FFF7FEFF 		bl	max5307_w_chanel
 1053              	.LVL116:
 324:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch8,*(val+7),max_outdisable);
 1054              		.loc 1 324 2 view .LVU228
 1055 004a 0222     		movs	r2, #2
 1056 004c E169     		ldr	r1, [r4, #28]
 1057 004e 0920     		movs	r0, #9
 1058 0050 FFF7FEFF 		bl	max5307_w_chanel
 1059              	.LVL117:
 325:Core/Src/mainLoop.c **** 	
 326:Core/Src/mainLoop.c **** 	max5307_loadpin();
 1060              		.loc 1 326 2 view .LVU229
 1061 0054 FFF7FEFF 		bl	max5307_loadpin
 1062              	.LVL118:
 327:Core/Src/mainLoop.c **** }
 1063              		.loc 1 327 1 is_stmt 0 view .LVU230
 1064 0058 10BD     		pop	{r4, pc}
 1065              		.loc 1 327 1 view .LVU231
 1066              		.cfi_endproc
 1067              	.LFE142:
 1069              		.section	.text.cal_k_value_cp,"ax",%progbits
 1070              		.align	1
 1071              		.global	cal_k_value_cp
 1072              		.syntax unified
 1073              		.thumb
 1074              		.thumb_func
 1075              		.fpu fpv4-sp-d16
 1077              	cal_k_value_cp:
 1078              	.LFB143:
 328:Core/Src/mainLoop.c **** #define ADC_BUF_SIZE 4000 //200=1ms
 329:Core/Src/mainLoop.c **** #define ADC_TIMES_N (ADC_BUF_SIZE*2)
 330:Core/Src/mainLoop.c **** uint32_t value_adc1[ADC_BUF_SIZE],value_adc2[ADC_BUF_SIZE];
 331:Core/Src/mainLoop.c **** #define CP_TIMES_N (ADC_TIMES_N)
 332:Core/Src/mainLoop.c **** int32_t value_cp[CP_TIMES_N];
 333:Core/Src/mainLoop.c **** 
 334:Core/Src/mainLoop.c **** int32_t cal_k_value_cp(void){ //cal k
 1079              		.loc 1 334 29 is_stmt 1 view -0
 1080              		.cfi_startproc
 1081              		@ args = 0, pretend = 0, frame = 0
 1082              		@ frame_needed = 0, uses_anonymous_args = 0
 1083              		@ link register save eliminated.
 1084 0000 10B4     		push	{r4}
 1085              	.LCFI11:
 1086              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/cctYddPe.s 			page 27


 1087              		.cfi_offset 4, -4
 335:Core/Src/mainLoop.c **** 	int32_t kUp=0,kDown=0;
 1088              		.loc 1 335 2 view .LVU233
 1089              	.LVL119:
 336:Core/Src/mainLoop.c **** 	int32_t i=0;
 1090              		.loc 1 336 2 view .LVU234
 337:Core/Src/mainLoop.c **** 	for(i=1; i<CP_TIMES_N; i++){
 1091              		.loc 1 337 2 view .LVU235
 1092              		.loc 1 337 7 is_stmt 0 view .LVU236
 1093 0002 0123     		movs	r3, #1
 1094              	.LVL120:
 1095              	.L68:
 1096              		.loc 1 337 11 is_stmt 1 discriminator 1 view .LVU237
 1097              		.loc 1 337 2 is_stmt 0 discriminator 1 view .LVU238
 1098 0004 B3F5FA5F 		cmp	r3, #8000
 1099 0008 0ADA     		bge	.L75
 338:Core/Src/mainLoop.c **** 		value_cp[i-1] = value_cp[i] - value_cp[i-1] ;
 1100              		.loc 1 338 3 is_stmt 1 discriminator 3 view .LVU239
 1101              		.loc 1 338 27 is_stmt 0 discriminator 3 view .LVU240
 1102 000a 144A     		ldr	r2, .L77
 1103 000c 52F82310 		ldr	r1, [r2, r3, lsl #2]
 1104              		.loc 1 338 43 discriminator 3 view .LVU241
 1105 0010 581E     		subs	r0, r3, #1
 1106              		.loc 1 338 41 discriminator 3 view .LVU242
 1107 0012 52F82040 		ldr	r4, [r2, r0, lsl #2]
 1108              		.loc 1 338 31 discriminator 3 view .LVU243
 1109 0016 091B     		subs	r1, r1, r4
 1110              		.loc 1 338 17 discriminator 3 view .LVU244
 1111 0018 42F82010 		str	r1, [r2, r0, lsl #2]
 337:Core/Src/mainLoop.c **** 	for(i=1; i<CP_TIMES_N; i++){
 1112              		.loc 1 337 25 is_stmt 1 discriminator 3 view .LVU245
 337:Core/Src/mainLoop.c **** 	for(i=1; i<CP_TIMES_N; i++){
 1113              		.loc 1 337 26 is_stmt 0 discriminator 3 view .LVU246
 1114 001c 0133     		adds	r3, r3, #1
 1115              	.LVL121:
 337:Core/Src/mainLoop.c **** 	for(i=1; i<CP_TIMES_N; i++){
 1116              		.loc 1 337 26 discriminator 3 view .LVU247
 1117 001e F1E7     		b	.L68
 1118              	.L75:
 339:Core/Src/mainLoop.c **** 	}
 340:Core/Src/mainLoop.c **** 	value_cp[CP_TIMES_N-1] = 0;
 1119              		.loc 1 340 2 is_stmt 1 view .LVU248
 1120              		.loc 1 340 25 is_stmt 0 view .LVU249
 1121 0020 0020     		movs	r0, #0
 1122 0022 0E4A     		ldr	r2, .L77
 1123 0024 47F6FC43 		movw	r3, #31996
 1124              	.LVL122:
 1125              		.loc 1 340 25 view .LVU250
 1126 0028 D050     		str	r0, [r2, r3]
 341:Core/Src/mainLoop.c **** 	
 342:Core/Src/mainLoop.c **** 	for(i=0; i<CP_TIMES_N; i++){
 1127              		.loc 1 342 2 is_stmt 1 view .LVU251
 1128              	.LVL123:
 1129              		.loc 1 342 7 is_stmt 0 view .LVU252
 1130 002a 0346     		mov	r3, r0
 335:Core/Src/mainLoop.c **** 	int32_t i=0;
 1131              		.loc 1 335 16 view .LVU253
ARM GAS  /tmp/cctYddPe.s 			page 28


 1132 002c 0446     		mov	r4, r0
 1133              		.loc 1 342 2 view .LVU254
 1134 002e 01E0     		b	.L70
 1135              	.LVL124:
 1136              	.L72:
 1137              	.LBB2:
 343:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 344:Core/Src/mainLoop.c **** 			if(value_cp[i] > 0){
 345:Core/Src/mainLoop.c **** 				kUp += 1;
 346:Core/Src/mainLoop.c **** 			}else{
 347:Core/Src/mainLoop.c **** 				kDown += 1;
 1138              		.loc 1 347 5 is_stmt 1 view .LVU255
 1139              		.loc 1 347 11 is_stmt 0 view .LVU256
 1140 0030 0134     		adds	r4, r4, #1
 1141              	.LVL125:
 1142              	.L71:
 1143              		.loc 1 347 11 view .LVU257
 1144              	.LBE2:
 342:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 1145              		.loc 1 342 25 is_stmt 1 discriminator 2 view .LVU258
 342:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 1146              		.loc 1 342 26 is_stmt 0 discriminator 2 view .LVU259
 1147 0032 0133     		adds	r3, r3, #1
 1148              	.LVL126:
 1149              	.L70:
 342:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 1150              		.loc 1 342 11 is_stmt 1 discriminator 1 view .LVU260
 342:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 1151              		.loc 1 342 2 is_stmt 0 discriminator 1 view .LVU261
 1152 0034 B3F5FA5F 		cmp	r3, #8000
 1153 0038 0CDA     		bge	.L76
 343:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 1154              		.loc 1 343 3 is_stmt 1 view .LVU262
 1155              	.LBB3:
 343:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 1156              		.loc 1 343 19 is_stmt 0 view .LVU263
 1157 003a 084A     		ldr	r2, .L77
 1158 003c 52F82320 		ldr	r2, [r2, r3, lsl #2]
 343:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 1159              		.loc 1 343 7 view .LVU264
 1160 0040 82EAE271 		eor	r1, r2, r2, asr #31
 1161 0044 A1EBE271 		sub	r1, r1, r2, asr #31
 343:Core/Src/mainLoop.c **** 		if( abs(value_cp[i]) >= 5){
 1162              		.loc 1 343 5 view .LVU265
 1163 0048 0429     		cmp	r1, #4
 1164 004a F2DD     		ble	.L71
 344:Core/Src/mainLoop.c **** 				kUp += 1;
 1165              		.loc 1 344 4 is_stmt 1 view .LVU266
 344:Core/Src/mainLoop.c **** 				kUp += 1;
 1166              		.loc 1 344 6 is_stmt 0 view .LVU267
 1167 004c 002A     		cmp	r2, #0
 1168 004e EFDD     		ble	.L72
 345:Core/Src/mainLoop.c **** 			}else{
 1169              		.loc 1 345 5 is_stmt 1 view .LVU268
 345:Core/Src/mainLoop.c **** 			}else{
 1170              		.loc 1 345 9 is_stmt 0 view .LVU269
 1171 0050 0130     		adds	r0, r0, #1
ARM GAS  /tmp/cctYddPe.s 			page 29


 1172              	.LVL127:
 345:Core/Src/mainLoop.c **** 			}else{
 1173              		.loc 1 345 9 view .LVU270
 1174 0052 EEE7     		b	.L71
 1175              	.L76:
 345:Core/Src/mainLoop.c **** 			}else{
 1176              		.loc 1 345 9 view .LVU271
 1177              	.LBE3:
 348:Core/Src/mainLoop.c **** 			}
 349:Core/Src/mainLoop.c **** 		}
 350:Core/Src/mainLoop.c **** 	}
 351:Core/Src/mainLoop.c **** 	return (kDown-kUp);
 1178              		.loc 1 351 2 is_stmt 1 view .LVU272
 352:Core/Src/mainLoop.c **** }
 1179              		.loc 1 352 1 is_stmt 0 view .LVU273
 1180 0054 201A     		subs	r0, r4, r0
 1181              	.LVL128:
 1182              		.loc 1 352 1 view .LVU274
 1183 0056 5DF8044B 		ldr	r4, [sp], #4
 1184              	.LCFI12:
 1185              		.cfi_restore 4
 1186              		.cfi_def_cfa_offset 0
 1187              	.LVL129:
 1188              		.loc 1 352 1 view .LVU275
 1189 005a 7047     		bx	lr
 1190              	.L78:
 1191              		.align	2
 1192              	.L77:
 1193 005c 00000000 		.word	value_cp
 1194              		.cfi_endproc
 1195              	.LFE143:
 1197              		.section	.text.cal_value_cp,"ax",%progbits
 1198              		.align	1
 1199              		.global	cal_value_cp
 1200              		.syntax unified
 1201              		.thumb
 1202              		.thumb_func
 1203              		.fpu fpv4-sp-d16
 1205              	cal_value_cp:
 1206              	.LFB144:
 353:Core/Src/mainLoop.c **** 
 354:Core/Src/mainLoop.c **** int32_t cal_value_cp(void){
 1207              		.loc 1 354 27 is_stmt 1 view -0
 1208              		.cfi_startproc
 1209              		@ args = 0, pretend = 0, frame = 0
 1210              		@ frame_needed = 0, uses_anonymous_args = 0
 1211 0000 08B5     		push	{r3, lr}
 1212              	.LCFI13:
 1213              		.cfi_def_cfa_offset 8
 1214              		.cfi_offset 3, -8
 1215              		.cfi_offset 14, -4
 355:Core/Src/mainLoop.c **** 	int32_t i=0;
 1216              		.loc 1 355 2 view .LVU277
 1217              	.LVL130:
 356:Core/Src/mainLoop.c **** 	int32_t tmp1,tmp2,tmp3,tmp4,allSum=0;
 1218              		.loc 1 356 2 view .LVU278
 357:Core/Src/mainLoop.c **** 	for(i=0;i<CP_TIMES_N;i++){
ARM GAS  /tmp/cctYddPe.s 			page 30


 1219              		.loc 1 357 2 view .LVU279
 1220              		.loc 1 357 7 is_stmt 0 view .LVU280
 1221 0002 0023     		movs	r3, #0
 1222              	.LVL131:
 1223              	.L80:
 1224              		.loc 1 357 10 is_stmt 1 discriminator 1 view .LVU281
 1225              		.loc 1 357 2 is_stmt 0 discriminator 1 view .LVU282
 1226 0004 B3F5FA5F 		cmp	r3, #8000
 1227 0008 0CDA     		bge	.L83
 358:Core/Src/mainLoop.c **** 		tmp1 = (int32_t)(value_adc1[i/2+0] & 0x0fff);
 1228              		.loc 1 358 3 is_stmt 1 discriminator 3 view .LVU283
 1229              		.loc 1 358 34 is_stmt 0 discriminator 3 view .LVU284
 1230 000a 03EBD372 		add	r2, r3, r3, lsr #31
 1231 000e 5210     		asrs	r2, r2, #1
 1232              		.loc 1 358 30 discriminator 3 view .LVU285
 1233 0010 0649     		ldr	r1, .L84
 1234 0012 51F82220 		ldr	r2, [r1, r2, lsl #2]
 1235              		.loc 1 358 8 discriminator 3 view .LVU286
 1236 0016 C2F30B02 		ubfx	r2, r2, #0, #12
 1237              	.LVL132:
 359:Core/Src/mainLoop.c **** 		//tmp2 = (int32_t)((value_adc1[i/2+0] >> 16)&(0x0fff));
 360:Core/Src/mainLoop.c **** 		//tmp3 = (int32_t)(value_adc1[i*2+1] & 0xfff);
 361:Core/Src/mainLoop.c **** 		//tmp4 = (int32_t)((value_adc1[i*2+1] >> 16)&(0x0fff));
 362:Core/Src/mainLoop.c **** 		//value_cp[i] = (tmp1+tmp2)/2 + (tmp3+tmp4)/2;
 363:Core/Src/mainLoop.c **** 		value_cp[i] = tmp1;
 1238              		.loc 1 363 3 is_stmt 1 discriminator 3 view .LVU287
 1239              		.loc 1 363 15 is_stmt 0 discriminator 3 view .LVU288
 1240 001a 0549     		ldr	r1, .L84+4
 1241 001c 41F82320 		str	r2, [r1, r3, lsl #2]
 364:Core/Src/mainLoop.c **** 		allSum += value_cp[i];
 1242              		.loc 1 364 3 is_stmt 1 discriminator 3 view .LVU289
 357:Core/Src/mainLoop.c **** 		tmp1 = (int32_t)(value_adc1[i/2+0] & 0x0fff);
 1243              		.loc 1 357 23 discriminator 3 view .LVU290
 357:Core/Src/mainLoop.c **** 		tmp1 = (int32_t)(value_adc1[i/2+0] & 0x0fff);
 1244              		.loc 1 357 24 is_stmt 0 discriminator 3 view .LVU291
 1245 0020 0133     		adds	r3, r3, #1
 1246              	.LVL133:
 357:Core/Src/mainLoop.c **** 		tmp1 = (int32_t)(value_adc1[i/2+0] & 0x0fff);
 1247              		.loc 1 357 24 discriminator 3 view .LVU292
 1248 0022 EFE7     		b	.L80
 1249              	.LVL134:
 1250              	.L83:
 365:Core/Src/mainLoop.c **** 	}
 366:Core/Src/mainLoop.c **** 	return  cal_k_value_cp();
 1251              		.loc 1 366 2 is_stmt 1 view .LVU293
 1252              		.loc 1 366 10 is_stmt 0 view .LVU294
 1253 0024 FFF7FEFF 		bl	cal_k_value_cp
 1254              	.LVL135:
 367:Core/Src/mainLoop.c **** 	//return (allSum/CP_TIMES_N)-2048;
 368:Core/Src/mainLoop.c **** }
 1255              		.loc 1 368 1 view .LVU295
 1256 0028 08BD     		pop	{r3, pc}
 1257              	.L85:
 1258 002a 00BF     		.align	2
 1259              	.L84:
 1260 002c 00000000 		.word	value_adc1
 1261 0030 00000000 		.word	value_cp
ARM GAS  /tmp/cctYddPe.s 			page 31


 1262              		.cfi_endproc
 1263              	.LFE144:
 1265              		.section	.text.cal_cp_output_dac,"ax",%progbits
 1266              		.align	1
 1267              		.global	cal_cp_output_dac
 1268              		.syntax unified
 1269              		.thumb
 1270              		.thumb_func
 1271              		.fpu fpv4-sp-d16
 1273              	cal_cp_output_dac:
 1274              	.LVL136:
 1275              	.LFB145:
 369:Core/Src/mainLoop.c **** 
 370:Core/Src/mainLoop.c **** //1Hz 10
 371:Core/Src/mainLoop.c **** #define ADCSUMARRAY_SIZE (10)
 372:Core/Src/mainLoop.c **** //#define ADCSUMARRAY_SIZE (300)
 373:Core/Src/mainLoop.c **** int32_t adcSumArray[ADCSUMARRAY_SIZE];
 374:Core/Src/mainLoop.c **** int32_t pidP=0,pidI=0,pidD=0;
 375:Core/Src/mainLoop.c **** float_t dletDac=0;
 376:Core/Src/mainLoop.c **** 
 377:Core/Src/mainLoop.c **** //1hz
 378:Core/Src/mainLoop.c **** //#define kP (-0.005)
 379:Core/Src/mainLoop.c **** //#define kI (+0.001)
 380:Core/Src/mainLoop.c **** //#define kD (0.005)
 381:Core/Src/mainLoop.c **** //void cal_cp_output_dac(struct adc_buf_t* adc_buf, uint32_t *dacP, uint32_t *dacN){
 382:Core/Src/mainLoop.c **** //	int32_t i=0;
 383:Core/Src/mainLoop.c **** //	int32_t N=ADC_BUF_T_SIZE*2;
 384:Core/Src/mainLoop.c **** //	int32_t allSum=0;
 385:Core/Src/mainLoop.c **** //	uint32_t tmpUint32=0;
 386:Core/Src/mainLoop.c **** //	for(i=0; i<N; i++){
 387:Core/Src/mainLoop.c **** //		allSum += (int32_t) ((adc_buf->buf[i/2]&0x0fff));
 388:Core/Src/mainLoop.c **** //	}
 389:Core/Src/mainLoop.c **** //	allSum = allSum/N - TARGET_CPV;
 390:Core/Src/mainLoop.c **** //	
 391:Core/Src/mainLoop.c **** //	for(i=0; i<ADCSUMARRAY_SIZE-1; i++){
 392:Core/Src/mainLoop.c **** //		adcSumArray[i] = adcSumArray[i+1];
 393:Core/Src/mainLoop.c **** //	}
 394:Core/Src/mainLoop.c **** //	adcSumArray[ADCSUMARRAY_SIZE-1] = allSum;
 395:Core/Src/mainLoop.c **** //	
 396:Core/Src/mainLoop.c **** //	//pid
 397:Core/Src/mainLoop.c **** //	pidP = adcSumArray[ADCSUMARRAY_SIZE-1];
 398:Core/Src/mainLoop.c **** //	pidI = 0;
 399:Core/Src/mainLoop.c **** //	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 400:Core/Src/mainLoop.c **** //		pidI += adcSumArray[i];
 401:Core/Src/mainLoop.c **** //	}
 402:Core/Src/mainLoop.c **** //	pidI = pidI/ADCSUMARRAY_SIZE;
 403:Core/Src/mainLoop.c **** //	pidD = adcSumArray[ADCSUMARRAY_SIZE-1] - adcSumArray[ADCSUMARRAY_SIZE-2];
 404:Core/Src/mainLoop.c **** //	dletDac = kP*((float_t)pidP) + kI*((float_t)pidI) + kD*((float_t)pidD);
 405:Core/Src/mainLoop.c **** //	tmpUint32 = abs((int32_t) (dletDac));
 406:Core/Src/mainLoop.c **** //	(*dacP) += (int32_t) (dletDac);
 407:Core/Src/mainLoop.c **** //	(*dacN) -= (int32_t) (dletDac);
 408:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACP_1,  (*dacP)>>12,      max_outenable);
 409:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACP_1K, ((*dacP)&0xfff),  max_outenable);
 410:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACN_1,  (*dacN)>>12,      max_outenable);
 411:Core/Src/mainLoop.c **** //	max5307_w_chanel(DACN_1K, ((*dacN)&0xfff),  max_outenable);
 412:Core/Src/mainLoop.c **** //	
 413:Core/Src/mainLoop.c **** //	//clear buf
ARM GAS  /tmp/cctYddPe.s 			page 32


 414:Core/Src/mainLoop.c **** //	for(i=0; i<ADC_BUF_T_SIZE; i++){
 415:Core/Src/mainLoop.c **** //		adc_buf->buf[i]=0;
 416:Core/Src/mainLoop.c **** //	}
 417:Core/Src/mainLoop.c **** //}
 418:Core/Src/mainLoop.c **** //for test before 20231206 
 419:Core/Src/mainLoop.c **** //#define kP (-0.0005)
 420:Core/Src/mainLoop.c **** //#define kI (+0.051)
 421:Core/Src/mainLoop.c **** //#define kD ( 0.00005)
 422:Core/Src/mainLoop.c **** 
 423:Core/Src/mainLoop.c **** // get jubuzhengdang, jiezhi
 424:Core/Src/mainLoop.c **** //#define kP (-0.0005)
 425:Core/Src/mainLoop.c **** //#define kI (+0.0051)
 426:Core/Src/mainLoop.c **** //#define kD (1.1275)
 427:Core/Src/mainLoop.c **** 
 428:Core/Src/mainLoop.c **** //for test 20231206 this is almost ok
 429:Core/Src/mainLoop.c **** #define kP (-0.0005)
 430:Core/Src/mainLoop.c **** #define kI (+0.0051)
 431:Core/Src/mainLoop.c **** #define kD (1.1275)
 432:Core/Src/mainLoop.c **** 
 433:Core/Src/mainLoop.c **** //#define kP (-0.0002)
 434:Core/Src/mainLoop.c **** //#define kI (+0.0031)
 435:Core/Src/mainLoop.c **** //#define kD (0.5275)
 436:Core/Src/mainLoop.c **** //#define TARGET_CPV  (2748)
 437:Core/Src/mainLoop.c **** #define TARGET_CPV  (2048)
 438:Core/Src/mainLoop.c **** void cal_cp_output_dac(struct adc_buf_t* adc_buf, uint32_t *dacP, uint32_t *dacN){
 1276              		.loc 1 438 82 is_stmt 1 view -0
 1277              		.cfi_startproc
 1278              		@ args = 0, pretend = 0, frame = 0
 1279              		@ frame_needed = 0, uses_anonymous_args = 0
 1280              		.loc 1 438 82 is_stmt 0 view .LVU297
 1281 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1282              	.LCFI14:
 1283              		.cfi_def_cfa_offset 32
 1284              		.cfi_offset 4, -32
 1285              		.cfi_offset 5, -28
 1286              		.cfi_offset 6, -24
 1287              		.cfi_offset 7, -20
 1288              		.cfi_offset 8, -16
 1289              		.cfi_offset 9, -12
 1290              		.cfi_offset 10, -8
 1291              		.cfi_offset 14, -4
 1292 0004 0546     		mov	r5, r0
 1293 0006 0F46     		mov	r7, r1
 1294 0008 1646     		mov	r6, r2
 439:Core/Src/mainLoop.c **** 	int32_t i=0;
 1295              		.loc 1 439 2 is_stmt 1 view .LVU298
 1296              	.LVL137:
 440:Core/Src/mainLoop.c **** 	int32_t N=ADC_BUF_T_SIZE*2;
 1297              		.loc 1 440 2 view .LVU299
 441:Core/Src/mainLoop.c **** 	int32_t allSum=0;
 1298              		.loc 1 441 2 view .LVU300
 442:Core/Src/mainLoop.c **** 	uint32_t tmpUint32=0;
 1299              		.loc 1 442 2 view .LVU301
 443:Core/Src/mainLoop.c **** 	for(i=0; i<N; i++){
 1300              		.loc 1 443 2 view .LVU302
 441:Core/Src/mainLoop.c **** 	int32_t allSum=0;
 1301              		.loc 1 441 10 is_stmt 0 view .LVU303
ARM GAS  /tmp/cctYddPe.s 			page 33


 1302 000a 0022     		movs	r2, #0
 1303              	.LVL138:
 1304              		.loc 1 443 7 view .LVU304
 1305 000c 1446     		mov	r4, r2
 1306              	.LVL139:
 1307              	.L87:
 1308              		.loc 1 443 11 is_stmt 1 discriminator 1 view .LVU305
 1309              		.loc 1 443 2 is_stmt 0 discriminator 1 view .LVU306
 1310 000e C72C     		cmp	r4, #199
 1311 0010 0ADC     		bgt	.L96
 444:Core/Src/mainLoop.c **** 		allSum += (int32_t) ((adc_buf->buf[i/2]&0x0fff));
 1312              		.loc 1 444 3 is_stmt 1 discriminator 3 view .LVU307
 1313              		.loc 1 444 39 is_stmt 0 discriminator 3 view .LVU308
 1314 0012 04EBD473 		add	r3, r4, r4, lsr #31
 1315 0016 5B10     		asrs	r3, r3, #1
 1316              		.loc 1 444 37 discriminator 3 view .LVU309
 1317 0018 05EB8303 		add	r3, r5, r3, lsl #2
 1318 001c 5B68     		ldr	r3, [r3, #4]
 1319              		.loc 1 444 13 discriminator 3 view .LVU310
 1320 001e C3F30B03 		ubfx	r3, r3, #0, #12
 1321              		.loc 1 444 10 discriminator 3 view .LVU311
 1322 0022 1A44     		add	r2, r2, r3
 1323              	.LVL140:
 443:Core/Src/mainLoop.c **** 	for(i=0; i<N; i++){
 1324              		.loc 1 443 16 is_stmt 1 discriminator 3 view .LVU312
 443:Core/Src/mainLoop.c **** 	for(i=0; i<N; i++){
 1325              		.loc 1 443 17 is_stmt 0 discriminator 3 view .LVU313
 1326 0024 0134     		adds	r4, r4, #1
 1327              	.LVL141:
 443:Core/Src/mainLoop.c **** 	for(i=0; i<N; i++){
 1328              		.loc 1 443 17 discriminator 3 view .LVU314
 1329 0026 F2E7     		b	.L87
 1330              	.L96:
 445:Core/Src/mainLoop.c **** 	}
 446:Core/Src/mainLoop.c **** 	allSum = allSum/N - TARGET_CPV;
 1331              		.loc 1 446 2 is_stmt 1 view .LVU315
 1332              		.loc 1 446 17 is_stmt 0 view .LVU316
 1333 0028 594B     		ldr	r3, .L97+24
 1334 002a 83FB0213 		smull	r1, r3, r3, r2
 1335              	.LVL142:
 1336              		.loc 1 446 17 view .LVU317
 1337 002e D017     		asrs	r0, r2, #31
 1338              	.LVL143:
 1339              		.loc 1 446 17 view .LVU318
 1340 0030 C0EBA310 		rsb	r0, r0, r3, asr #6
 1341              		.loc 1 446 9 view .LVU319
 1342 0034 A0F50060 		sub	r0, r0, #2048
 1343              	.LVL144:
 447:Core/Src/mainLoop.c **** 	
 448:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE-1; i++){
 1344              		.loc 1 448 2 is_stmt 1 view .LVU320
 1345              		.loc 1 448 7 is_stmt 0 view .LVU321
 1346 0038 0023     		movs	r3, #0
 1347              		.loc 1 448 2 view .LVU322
 1348 003a 06E0     		b	.L89
 1349              	.LVL145:
 1350              	.L90:
ARM GAS  /tmp/cctYddPe.s 			page 34


 449:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1351              		.loc 1 449 3 is_stmt 1 discriminator 3 view .LVU323
 1352              		.loc 1 449 33 is_stmt 0 discriminator 3 view .LVU324
 1353 003c 5A1C     		adds	r2, r3, #1
 1354              		.loc 1 449 31 discriminator 3 view .LVU325
 1355 003e 5549     		ldr	r1, .L97+28
 1356 0040 51F82240 		ldr	r4, [r1, r2, lsl #2]
 1357              		.loc 1 449 18 discriminator 3 view .LVU326
 1358 0044 41F82340 		str	r4, [r1, r3, lsl #2]
 448:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1359              		.loc 1 448 33 is_stmt 1 discriminator 3 view .LVU327
 1360              	.LVL146:
 448:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1361              		.loc 1 448 34 is_stmt 0 discriminator 3 view .LVU328
 1362 0048 1346     		mov	r3, r2
 1363              	.LVL147:
 1364              	.L89:
 448:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1365              		.loc 1 448 11 is_stmt 1 discriminator 1 view .LVU329
 448:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1366              		.loc 1 448 2 is_stmt 0 discriminator 1 view .LVU330
 1367 004a 082B     		cmp	r3, #8
 1368 004c F6DD     		ble	.L90
 450:Core/Src/mainLoop.c **** 	}
 451:Core/Src/mainLoop.c **** 	adcSumArray[ADCSUMARRAY_SIZE-1] = allSum;
 1369              		.loc 1 451 2 is_stmt 1 view .LVU331
 1370              		.loc 1 451 34 is_stmt 0 view .LVU332
 1371 004e 514B     		ldr	r3, .L97+28
 1372              	.LVL148:
 1373              		.loc 1 451 34 view .LVU333
 1374 0050 5862     		str	r0, [r3, #36]
 452:Core/Src/mainLoop.c **** 	
 453:Core/Src/mainLoop.c **** 	//pid
 454:Core/Src/mainLoop.c **** 	pidP = adcSumArray[ADCSUMARRAY_SIZE-1];
 1375              		.loc 1 454 2 is_stmt 1 view .LVU334
 1376              		.loc 1 454 7 is_stmt 0 view .LVU335
 1377 0052 514B     		ldr	r3, .L97+32
 1378 0054 1860     		str	r0, [r3]
 455:Core/Src/mainLoop.c **** 	pidI = 0;
 1379              		.loc 1 455 2 is_stmt 1 view .LVU336
 1380              		.loc 1 455 7 is_stmt 0 view .LVU337
 1381 0056 0023     		movs	r3, #0
 1382 0058 504A     		ldr	r2, .L97+36
 1383 005a 1360     		str	r3, [r2]
 456:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1384              		.loc 1 456 2 is_stmt 1 view .LVU338
 1385              	.LVL149:
 1386              		.loc 1 456 2 is_stmt 0 view .LVU339
 1387 005c 07E0     		b	.L91
 1388              	.LVL150:
 1389              	.L92:
 457:Core/Src/mainLoop.c **** 		pidI += adcSumArray[i];
 1390              		.loc 1 457 3 is_stmt 1 discriminator 3 view .LVU340
 1391              		.loc 1 457 22 is_stmt 0 discriminator 3 view .LVU341
 1392 005e 4D4A     		ldr	r2, .L97+28
 1393 0060 52F82340 		ldr	r4, [r2, r3, lsl #2]
 1394              		.loc 1 457 8 discriminator 3 view .LVU342
ARM GAS  /tmp/cctYddPe.s 			page 35


 1395 0064 4D49     		ldr	r1, .L97+36
 1396 0066 0A68     		ldr	r2, [r1]
 1397 0068 2244     		add	r2, r2, r4
 1398 006a 0A60     		str	r2, [r1]
 456:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1399              		.loc 1 456 31 is_stmt 1 discriminator 3 view .LVU343
 456:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1400              		.loc 1 456 32 is_stmt 0 discriminator 3 view .LVU344
 1401 006c 0133     		adds	r3, r3, #1
 1402              	.LVL151:
 1403              	.L91:
 456:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1404              		.loc 1 456 11 is_stmt 1 discriminator 1 view .LVU345
 456:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1405              		.loc 1 456 2 is_stmt 0 discriminator 1 view .LVU346
 1406 006e 092B     		cmp	r3, #9
 1407 0070 F5DD     		ble	.L92
 458:Core/Src/mainLoop.c **** 	}
 459:Core/Src/mainLoop.c **** 	pidI = pidI/ADCSUMARRAY_SIZE;
 1408              		.loc 1 459 2 is_stmt 1 view .LVU347
 1409              		.loc 1 459 13 is_stmt 0 view .LVU348
 1410 0072 4A4A     		ldr	r2, .L97+36
 1411 0074 1368     		ldr	r3, [r2]
 1412              	.LVL152:
 1413              		.loc 1 459 13 view .LVU349
 1414 0076 4A4C     		ldr	r4, .L97+40
 1415 0078 84FB0314 		smull	r1, r4, r4, r3
 1416 007c DB17     		asrs	r3, r3, #31
 1417 007e C3EBA404 		rsb	r4, r3, r4, asr #2
 1418              		.loc 1 459 7 view .LVU350
 1419 0082 1460     		str	r4, [r2]
 460:Core/Src/mainLoop.c **** 	pidD = adcSumArray[ADCSUMARRAY_SIZE-1] - adcSumArray[ADCSUMARRAY_SIZE-2];
 1420              		.loc 1 460 2 is_stmt 1 view .LVU351
 1421              		.loc 1 460 54 is_stmt 0 view .LVU352
 1422 0084 434B     		ldr	r3, .L97+28
 1423 0086 1B6A     		ldr	r3, [r3, #32]
 1424              		.loc 1 460 41 view .LVU353
 1425 0088 A0EB030A 		sub	r10, r0, r3
 1426              		.loc 1 460 7 view .LVU354
 1427 008c 454B     		ldr	r3, .L97+44
 1428 008e C3F800A0 		str	r10, [r3]
 461:Core/Src/mainLoop.c **** 	dletDac = kP*((float_t)pidP) + kI*((float_t)pidI) + kD*((float_t)pidD);
 1429              		.loc 1 461 2 is_stmt 1 view .LVU355
 1430              		.loc 1 461 16 is_stmt 0 view .LVU356
 1431 0092 07EE900A 		vmov	s15, r0	@ int
 1432 0096 F8EEE77A 		vcvt.f32.s32	s15, s15
 1433 009a 17EE900A 		vmov	r0, s15
 1434              	.LVL153:
 1435              		.loc 1 461 16 view .LVU357
 1436 009e FFF7FEFF 		bl	__aeabi_f2d
 1437              	.LVL154:
 1438              		.loc 1 461 14 view .LVU358
 1439 00a2 35A3     		adr	r3, .L97
 1440 00a4 D3E90023 		ldrd	r2, [r3]
 1441 00a8 FFF7FEFF 		bl	__aeabi_dmul
 1442              	.LVL155:
 1443 00ac 8046     		mov	r8, r0
ARM GAS  /tmp/cctYddPe.s 			page 36


 1444 00ae 8946     		mov	r9, r1
 1445              		.loc 1 461 37 view .LVU359
 1446 00b0 07EE904A 		vmov	s15, r4	@ int
 1447 00b4 F8EEE77A 		vcvt.f32.s32	s15, s15
 1448 00b8 17EE900A 		vmov	r0, s15
 1449 00bc FFF7FEFF 		bl	__aeabi_f2d
 1450              	.LVL156:
 1451              		.loc 1 461 35 view .LVU360
 1452 00c0 2FA3     		adr	r3, .L97+8
 1453 00c2 D3E90023 		ldrd	r2, [r3]
 1454 00c6 FFF7FEFF 		bl	__aeabi_dmul
 1455              	.LVL157:
 1456 00ca 0246     		mov	r2, r0
 1457 00cc 0B46     		mov	r3, r1
 1458              		.loc 1 461 31 view .LVU361
 1459 00ce 4046     		mov	r0, r8
 1460 00d0 4946     		mov	r1, r9
 1461 00d2 FFF7FEFF 		bl	__aeabi_dadd
 1462              	.LVL158:
 1463 00d6 8046     		mov	r8, r0
 1464 00d8 8946     		mov	r9, r1
 1465              		.loc 1 461 58 view .LVU362
 1466 00da 07EE90AA 		vmov	s15, r10	@ int
 1467 00de F8EEE77A 		vcvt.f32.s32	s15, s15
 1468 00e2 17EE900A 		vmov	r0, s15
 1469 00e6 FFF7FEFF 		bl	__aeabi_f2d
 1470              	.LVL159:
 1471              		.loc 1 461 56 view .LVU363
 1472 00ea 27A3     		adr	r3, .L97+16
 1473 00ec D3E90023 		ldrd	r2, [r3]
 1474 00f0 FFF7FEFF 		bl	__aeabi_dmul
 1475              	.LVL160:
 1476 00f4 0246     		mov	r2, r0
 1477 00f6 0B46     		mov	r3, r1
 1478              		.loc 1 461 52 view .LVU364
 1479 00f8 4046     		mov	r0, r8
 1480 00fa 4946     		mov	r1, r9
 1481 00fc FFF7FEFF 		bl	__aeabi_dadd
 1482              	.LVL161:
 1483 0100 FFF7FEFF 		bl	__aeabi_d2f
 1484              	.LVL162:
 1485 0104 07EE900A 		vmov	s15, r0
 1486              		.loc 1 461 10 view .LVU365
 1487 0108 274A     		ldr	r2, .L97+48
 1488 010a 1060     		str	r0, [r2]	@ float
 462:Core/Src/mainLoop.c **** 	tmpUint32 = abs((int32_t) (dletDac));
 1489              		.loc 1 462 2 is_stmt 1 view .LVU366
 1490              		.loc 1 462 18 is_stmt 0 view .LVU367
 1491 010c FDEEE77A 		vcvt.s32.f32	s15, s15
 1492              	.LVL163:
 463:Core/Src/mainLoop.c **** 	(*dacP) += (int32_t) (dletDac);
 1493              		.loc 1 463 2 is_stmt 1 view .LVU368
 1494              		.loc 1 463 10 is_stmt 0 view .LVU369
 1495 0110 3B68     		ldr	r3, [r7]
 1496 0112 17EE901A 		vmov	r1, s15	@ int
 1497 0116 0B44     		add	r3, r3, r1
 1498 0118 3B60     		str	r3, [r7]
ARM GAS  /tmp/cctYddPe.s 			page 37


 464:Core/Src/mainLoop.c **** 	(*dacN) -= (int32_t) (dletDac);
 1499              		.loc 1 464 2 is_stmt 1 view .LVU370
 1500              		.loc 1 464 13 is_stmt 0 view .LVU371
 1501 011a D2ED007A 		vldr.32	s15, [r2]
 1502              	.LVL164:
 1503              		.loc 1 464 13 view .LVU372
 1504 011e FDEEE77A 		vcvt.s32.f32	s15, s15
 1505              		.loc 1 464 10 view .LVU373
 1506 0122 3368     		ldr	r3, [r6]
 1507 0124 17EE902A 		vmov	r2, s15	@ int
 1508 0128 9B1A     		subs	r3, r3, r2
 1509 012a 3360     		str	r3, [r6]
 465:Core/Src/mainLoop.c **** 	max5307_w_chanel(DACP_1,  (*dacP)>>12,      max_outenable);
 1510              		.loc 1 465 2 is_stmt 1 view .LVU374
 1511              		.loc 1 465 29 is_stmt 0 view .LVU375
 1512 012c 3968     		ldr	r1, [r7]
 1513              	.LVL165:
 1514              		.loc 1 465 2 view .LVU376
 1515 012e 0122     		movs	r2, #1
 1516 0130 090B     		lsrs	r1, r1, #12
 1517 0132 0620     		movs	r0, #6
 1518              	.LVL166:
 1519              		.loc 1 465 2 view .LVU377
 1520 0134 FFF7FEFF 		bl	max5307_w_chanel
 1521              	.LVL167:
 466:Core/Src/mainLoop.c **** 	max5307_w_chanel(DACP_1K, ((*dacP)&0xfff),  max_outenable);
 1522              		.loc 1 466 2 is_stmt 1 view .LVU378
 1523              		.loc 1 466 30 is_stmt 0 view .LVU379
 1524 0138 3968     		ldr	r1, [r7]
 1525              		.loc 1 466 2 view .LVU380
 1526 013a 0122     		movs	r2, #1
 1527 013c C1F30B01 		ubfx	r1, r1, #0, #12
 1528 0140 0720     		movs	r0, #7
 1529 0142 FFF7FEFF 		bl	max5307_w_chanel
 1530              	.LVL168:
 467:Core/Src/mainLoop.c **** 	max5307_w_chanel(DACN_1,  (*dacN)>>12,      max_outenable);
 1531              		.loc 1 467 2 is_stmt 1 view .LVU381
 1532              		.loc 1 467 29 is_stmt 0 view .LVU382
 1533 0146 3168     		ldr	r1, [r6]
 1534              		.loc 1 467 2 view .LVU383
 1535 0148 0122     		movs	r2, #1
 1536 014a 090B     		lsrs	r1, r1, #12
 1537 014c 0520     		movs	r0, #5
 1538 014e FFF7FEFF 		bl	max5307_w_chanel
 1539              	.LVL169:
 468:Core/Src/mainLoop.c **** 	max5307_w_chanel(DACN_1K, ((*dacN)&0xfff),  max_outenable);
 1540              		.loc 1 468 2 is_stmt 1 view .LVU384
 1541              		.loc 1 468 30 is_stmt 0 view .LVU385
 1542 0152 3168     		ldr	r1, [r6]
 1543              		.loc 1 468 2 view .LVU386
 1544 0154 0122     		movs	r2, #1
 1545 0156 C1F30B01 		ubfx	r1, r1, #0, #12
 1546 015a 0420     		movs	r0, #4
 1547 015c FFF7FEFF 		bl	max5307_w_chanel
 1548              	.LVL170:
 469:Core/Src/mainLoop.c **** 	
 470:Core/Src/mainLoop.c **** 	//clear buf
ARM GAS  /tmp/cctYddPe.s 			page 38


 471:Core/Src/mainLoop.c **** 	for(i=0; i<ADC_BUF_T_SIZE; i++){
 1549              		.loc 1 471 2 is_stmt 1 view .LVU387
 1550              		.loc 1 471 7 is_stmt 0 view .LVU388
 1551 0160 0023     		movs	r3, #0
 1552              		.loc 1 471 2 view .LVU389
 1553 0162 04E0     		b	.L93
 1554              	.LVL171:
 1555              	.L94:
 472:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 1556              		.loc 1 472 3 is_stmt 1 discriminator 3 view .LVU390
 1557              		.loc 1 472 18 is_stmt 0 discriminator 3 view .LVU391
 1558 0164 05EB8302 		add	r2, r5, r3, lsl #2
 1559 0168 0021     		movs	r1, #0
 1560 016a 5160     		str	r1, [r2, #4]
 471:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 1561              		.loc 1 471 29 is_stmt 1 discriminator 3 view .LVU392
 471:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 1562              		.loc 1 471 30 is_stmt 0 discriminator 3 view .LVU393
 1563 016c 0133     		adds	r3, r3, #1
 1564              	.LVL172:
 1565              	.L93:
 471:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 1566              		.loc 1 471 11 is_stmt 1 discriminator 1 view .LVU394
 471:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 1567              		.loc 1 471 2 is_stmt 0 discriminator 1 view .LVU395
 1568 016e 632B     		cmp	r3, #99
 1569 0170 F8DD     		ble	.L94
 473:Core/Src/mainLoop.c **** 	}
 474:Core/Src/mainLoop.c **** }
 1570              		.loc 1 474 1 view .LVU396
 1571 0172 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1572              	.LVL173:
 1573              	.L98:
 1574              		.loc 1 474 1 view .LVU397
 1575 0176 00BF     		.align	3
 1576              	.L97:
 1577 0178 FCA9F1D2 		.word	3539053052
 1578 017c 4D6240BF 		.word	-1086299571
 1579 0180 88855AD3 		.word	3545925000
 1580 0184 BCE3743F 		.word	1064625084
 1581 0188 0AD7A370 		.word	1889785610
 1582 018c 3D0AF23F 		.word	1072826941
 1583 0190 1F85EB51 		.word	1374389535
 1584 0194 00000000 		.word	adcSumArray
 1585 0198 00000000 		.word	.LANCHOR4
 1586 019c 00000000 		.word	.LANCHOR5
 1587 01a0 67666666 		.word	1717986919
 1588 01a4 00000000 		.word	.LANCHOR6
 1589 01a8 00000000 		.word	.LANCHOR7
 1590              		.cfi_endproc
 1591              	.LFE145:
 1593              		.section	.text.insertMeanVal,"ax",%progbits
 1594              		.align	1
 1595              		.global	insertMeanVal
 1596              		.syntax unified
 1597              		.thumb
 1598              		.thumb_func
ARM GAS  /tmp/cctYddPe.s 			page 39


 1599              		.fpu fpv4-sp-d16
 1601              	insertMeanVal:
 1602              	.LVL174:
 1603              	.LFB146:
 475:Core/Src/mainLoop.c **** 
 476:Core/Src/mainLoop.c **** #define VALMEANARRAY_N 200
 477:Core/Src/mainLoop.c **** int32_t valMeanArray[VALMEANARRAY_N];
 478:Core/Src/mainLoop.c **** 
 479:Core/Src/mainLoop.c **** void insertMeanVal(int32_t val, struct adc_buf_t* adc_buf){
 1604              		.loc 1 479 59 is_stmt 1 view -0
 1605              		.cfi_startproc
 1606              		@ args = 0, pretend = 0, frame = 0
 1607              		@ frame_needed = 0, uses_anonymous_args = 0
 1608              		@ link register save eliminated.
 1609              		.loc 1 479 59 is_stmt 0 view .LVU399
 1610 0000 30B4     		push	{r4, r5}
 1611              	.LCFI15:
 1612              		.cfi_def_cfa_offset 8
 1613              		.cfi_offset 4, -8
 1614              		.cfi_offset 5, -4
 480:Core/Src/mainLoop.c **** 	static int32_t currentP = 0;
 1615              		.loc 1 480 2 is_stmt 1 view .LVU400
 481:Core/Src/mainLoop.c **** 	int32_t i=0,sumval=0,difval=0;
 1616              		.loc 1 481 2 view .LVU401
 1617              	.LVL175:
 482:Core/Src/mainLoop.c **** 	valMeanArray[currentP++] = val;
 1618              		.loc 1 482 2 view .LVU402
 1619              		.loc 1 482 23 is_stmt 0 view .LVU403
 1620 0002 194C     		ldr	r4, .L104
 1621 0004 2368     		ldr	r3, [r4]
 1622 0006 5A1C     		adds	r2, r3, #1
 1623              		.loc 1 482 27 view .LVU404
 1624 0008 184D     		ldr	r5, .L104+4
 1625 000a 45F82300 		str	r0, [r5, r3, lsl #2]
 483:Core/Src/mainLoop.c **** 	currentP = currentP%VALMEANARRAY_N;
 1626              		.loc 1 483 2 is_stmt 1 view .LVU405
 1627              		.loc 1 483 21 is_stmt 0 view .LVU406
 1628 000e 1848     		ldr	r0, .L104+8
 1629              	.LVL176:
 1630              		.loc 1 483 21 view .LVU407
 1631 0010 80FB0230 		smull	r3, r0, r0, r2
 1632              	.LVL177:
 1633              		.loc 1 483 21 view .LVU408
 1634 0014 D317     		asrs	r3, r2, #31
 1635 0016 C3EBA013 		rsb	r3, r3, r0, asr #6
 1636 001a C820     		movs	r0, #200
 1637 001c 00FB1323 		mls	r3, r0, r3, r2
 1638              		.loc 1 483 11 view .LVU409
 1639 0020 2360     		str	r3, [r4]
 1640              	.LVL178:
 484:Core/Src/mainLoop.c **** 	for(i=0; i<VALMEANARRAY_N-1; i++){
 1641              		.loc 1 484 2 is_stmt 1 view .LVU410
 481:Core/Src/mainLoop.c **** 	valMeanArray[currentP++] = val;
 1642              		.loc 1 481 23 is_stmt 0 view .LVU411
 1643 0022 0020     		movs	r0, #0
 481:Core/Src/mainLoop.c **** 	valMeanArray[currentP++] = val;
 1644              		.loc 1 481 14 view .LVU412
ARM GAS  /tmp/cctYddPe.s 			page 40


 1645 0024 0446     		mov	r4, r0
 1646              		.loc 1 484 7 view .LVU413
 1647 0026 0246     		mov	r2, r0
 1648              	.LVL179:
 1649              	.L100:
 1650              		.loc 1 484 11 is_stmt 1 discriminator 1 view .LVU414
 1651              		.loc 1 484 2 is_stmt 0 discriminator 1 view .LVU415
 1652 0028 C62A     		cmp	r2, #198
 1653 002a 0CDC     		bgt	.L103
 1654              	.LBB4:
 485:Core/Src/mainLoop.c **** 		sumval += valMeanArray[i];
 1655              		.loc 1 485 3 is_stmt 1 discriminator 3 view .LVU416
 1656              		.loc 1 485 25 is_stmt 0 discriminator 3 view .LVU417
 1657 002c 0F4B     		ldr	r3, .L104+4
 1658 002e 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1659              		.loc 1 485 10 discriminator 3 view .LVU418
 1660 0032 1C44     		add	r4, r4, r3
 1661              	.LVL180:
 486:Core/Src/mainLoop.c **** 		difval += abs(valMeanArray[i] - adc_buf->adcMeanVal);
 1662              		.loc 1 486 3 is_stmt 1 discriminator 3 view .LVU419
 1663              		.loc 1 486 42 is_stmt 0 discriminator 3 view .LVU420
 1664 0034 D1F89451 		ldr	r5, [r1, #404]
 1665              		.loc 1 486 33 discriminator 3 view .LVU421
 1666 0038 5B1B     		subs	r3, r3, r5
 1667              		.loc 1 486 13 discriminator 3 view .LVU422
 1668 003a 002B     		cmp	r3, #0
 1669 003c B8BF     		it	lt
 1670 003e 5B42     		rsblt	r3, r3, #0
 1671              		.loc 1 486 10 discriminator 3 view .LVU423
 1672 0040 1844     		add	r0, r0, r3
 1673              	.LVL181:
 1674              		.loc 1 486 10 discriminator 3 view .LVU424
 1675              	.LBE4:
 484:Core/Src/mainLoop.c **** 		sumval += valMeanArray[i];
 1676              		.loc 1 484 31 is_stmt 1 discriminator 3 view .LVU425
 484:Core/Src/mainLoop.c **** 		sumval += valMeanArray[i];
 1677              		.loc 1 484 32 is_stmt 0 discriminator 3 view .LVU426
 1678 0042 0132     		adds	r2, r2, #1
 1679              	.LVL182:
 484:Core/Src/mainLoop.c **** 		sumval += valMeanArray[i];
 1680              		.loc 1 484 32 discriminator 3 view .LVU427
 1681 0044 F0E7     		b	.L100
 1682              	.L103:
 487:Core/Src/mainLoop.c **** 	}
 488:Core/Src/mainLoop.c **** 	sumval = sumval/VALMEANARRAY_N;
 1683              		.loc 1 488 2 is_stmt 1 view .LVU428
 1684              		.loc 1 488 9 is_stmt 0 view .LVU429
 1685 0046 0A4B     		ldr	r3, .L104+8
 1686 0048 83FB0425 		smull	r2, r5, r3, r4
 1687              	.LVL183:
 1688              		.loc 1 488 9 view .LVU430
 1689 004c E217     		asrs	r2, r4, #31
 1690 004e C2EBA512 		rsb	r2, r2, r5, asr #6
 1691              	.LVL184:
 489:Core/Src/mainLoop.c **** 	difval = difval/VALMEANARRAY_N;
 1692              		.loc 1 489 2 is_stmt 1 view .LVU431
 1693              		.loc 1 489 9 is_stmt 0 view .LVU432
ARM GAS  /tmp/cctYddPe.s 			page 41


 1694 0052 83FB0034 		smull	r3, r4, r3, r0
 1695 0056 C317     		asrs	r3, r0, #31
 1696 0058 C3EBA413 		rsb	r3, r3, r4, asr #6
 1697              	.LVL185:
 490:Core/Src/mainLoop.c **** 	adc_buf->adcMeanVal = sumval;
 1698              		.loc 1 490 2 is_stmt 1 view .LVU433
 1699              		.loc 1 490 22 is_stmt 0 view .LVU434
 1700 005c C1F89421 		str	r2, [r1, #404]
 491:Core/Src/mainLoop.c **** 	adc_buf->adcDif2    = difval;
 1701              		.loc 1 491 2 is_stmt 1 view .LVU435
 1702              		.loc 1 491 22 is_stmt 0 view .LVU436
 1703 0060 C1F89831 		str	r3, [r1, #408]
 492:Core/Src/mainLoop.c **** 	
 493:Core/Src/mainLoop.c **** 	
 494:Core/Src/mainLoop.c **** }
 1704              		.loc 1 494 1 view .LVU437
 1705 0064 30BC     		pop	{r4, r5}
 1706              	.LCFI16:
 1707              		.cfi_restore 5
 1708              		.cfi_restore 4
 1709              		.cfi_def_cfa_offset 0
 1710 0066 7047     		bx	lr
 1711              	.L105:
 1712              		.align	2
 1713              	.L104:
 1714 0068 00000000 		.word	.LANCHOR8
 1715 006c 00000000 		.word	valMeanArray
 1716 0070 1F85EB51 		.word	1374389535
 1717              		.cfi_endproc
 1718              	.LFE146:
 1720              		.section	.text.cal_cp_output_dac_ext,"ax",%progbits
 1721              		.align	1
 1722              		.global	cal_cp_output_dac_ext
 1723              		.syntax unified
 1724              		.thumb
 1725              		.thumb_func
 1726              		.fpu fpv4-sp-d16
 1728              	cal_cp_output_dac_ext:
 1729              	.LVL186:
 1730              	.LFB147:
 495:Core/Src/mainLoop.c **** struct log_para_t logPara; //Áî®‰∫éÂêëhostÂèëÈÄÅË∞ÉËØïËøáÁ®ãÊï∞ÊçÆÔºåÂú®cal_cp_output_dac_extËøáÁ®ã
 496:Core/Src/mainLoop.c **** int32_t meanVal_view = 0;
 497:Core/Src/mainLoop.c **** int32_t difVal_view = 0;
 498:Core/Src/mainLoop.c **** #define RUN_30S 180000 //about 90S
 499:Core/Src/mainLoop.c **** void cal_cp_output_dac_ext(struct adc_buf_t* adc_buf, uint32_t *dacP, uint32_t *dacN, int32_t runTi
 1731              		.loc 1 499 109 is_stmt 1 view -0
 1732              		.cfi_startproc
 1733              		@ args = 0, pretend = 0, frame = 0
 1734              		@ frame_needed = 0, uses_anonymous_args = 0
 1735              		.loc 1 499 109 is_stmt 0 view .LVU439
 1736 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1737              	.LCFI17:
 1738              		.cfi_def_cfa_offset 40
 1739              		.cfi_offset 3, -40
 1740              		.cfi_offset 4, -36
 1741              		.cfi_offset 5, -32
 1742              		.cfi_offset 6, -28
ARM GAS  /tmp/cctYddPe.s 			page 42


 1743              		.cfi_offset 7, -24
 1744              		.cfi_offset 8, -20
 1745              		.cfi_offset 9, -16
 1746              		.cfi_offset 10, -12
 1747              		.cfi_offset 11, -8
 1748              		.cfi_offset 14, -4
 1749 0004 2DED028B 		vpush.64	{d8}
 1750              	.LCFI18:
 1751              		.cfi_def_cfa_offset 48
 1752              		.cfi_offset 80, -48
 1753              		.cfi_offset 81, -44
 1754 0008 0446     		mov	r4, r0
 1755 000a 0D46     		mov	r5, r1
 1756 000c 1646     		mov	r6, r2
 1757 000e 1F46     		mov	r7, r3
 500:Core/Src/mainLoop.c **** 	int32_t i=0;
 1758              		.loc 1 500 2 is_stmt 1 view .LVU440
 1759              	.LVL187:
 501:Core/Src/mainLoop.c **** 	int32_t N=ADC_BUF_T_SIZE*2;
 1760              		.loc 1 501 2 view .LVU441
 502:Core/Src/mainLoop.c **** 	int32_t allSum=0;
 1761              		.loc 1 502 2 view .LVU442
 503:Core/Src/mainLoop.c **** 	uint16_t forSaveAllSum=0;
 1762              		.loc 1 503 2 view .LVU443
 504:Core/Src/mainLoop.c **** 	uint32_t tmpUint32=0;
 1763              		.loc 1 504 2 view .LVU444
 505:Core/Src/mainLoop.c **** 	int32_t deltNoisV = 0;
 1764              		.loc 1 505 2 view .LVU445
 506:Core/Src/mainLoop.c **** 	for(i=0; i<N; i++){
 1765              		.loc 1 506 2 view .LVU446
 502:Core/Src/mainLoop.c **** 	uint16_t forSaveAllSum=0;
 1766              		.loc 1 502 10 is_stmt 0 view .LVU447
 1767 0010 0021     		movs	r1, #0
 1768              	.LVL188:
 1769              		.loc 1 506 7 view .LVU448
 1770 0012 0A46     		mov	r2, r1
 1771              	.LVL189:
 1772              	.L107:
 1773              		.loc 1 506 11 is_stmt 1 discriminator 1 view .LVU449
 1774              		.loc 1 506 2 is_stmt 0 discriminator 1 view .LVU450
 1775 0014 C72A     		cmp	r2, #199
 1776 0016 0ADC     		bgt	.L119
 507:Core/Src/mainLoop.c **** 		allSum += (int32_t) ((adc_buf->buf[i/2]&0x0fff));
 1777              		.loc 1 507 3 is_stmt 1 discriminator 3 view .LVU451
 1778              		.loc 1 507 39 is_stmt 0 discriminator 3 view .LVU452
 1779 0018 02EBD273 		add	r3, r2, r2, lsr #31
 1780 001c 5B10     		asrs	r3, r3, #1
 1781              		.loc 1 507 37 discriminator 3 view .LVU453
 1782 001e 04EB8303 		add	r3, r4, r3, lsl #2
 1783 0022 5B68     		ldr	r3, [r3, #4]
 1784              		.loc 1 507 13 discriminator 3 view .LVU454
 1785 0024 C3F30B03 		ubfx	r3, r3, #0, #12
 1786              		.loc 1 507 10 discriminator 3 view .LVU455
 1787 0028 1944     		add	r1, r1, r3
 1788              	.LVL190:
 506:Core/Src/mainLoop.c **** 	for(i=0; i<N; i++){
 1789              		.loc 1 506 16 is_stmt 1 discriminator 3 view .LVU456
ARM GAS  /tmp/cctYddPe.s 			page 43


 506:Core/Src/mainLoop.c **** 	for(i=0; i<N; i++){
 1790              		.loc 1 506 17 is_stmt 0 discriminator 3 view .LVU457
 1791 002a 0132     		adds	r2, r2, #1
 1792              	.LVL191:
 506:Core/Src/mainLoop.c **** 	for(i=0; i<N; i++){
 1793              		.loc 1 506 17 discriminator 3 view .LVU458
 1794 002c F2E7     		b	.L107
 1795              	.L119:
 508:Core/Src/mainLoop.c **** 	}
 509:Core/Src/mainLoop.c **** 	allSum = allSum/N;
 1796              		.loc 1 509 2 is_stmt 1 view .LVU459
 1797              		.loc 1 509 9 is_stmt 0 view .LVU460
 1798 002e 744B     		ldr	r3, .L120+24
 1799 0030 83FB0123 		smull	r2, r3, r3, r1
 1800              	.LVL192:
 1801              		.loc 1 509 9 view .LVU461
 1802 0034 4FEAE178 		asr	r8, r1, #31
 1803 0038 C8EBA318 		rsb	r8, r8, r3, asr #6
 1804              	.LVL193:
 510:Core/Src/mainLoop.c **** 	forSaveAllSum = allSum;
 1805              		.loc 1 510 2 is_stmt 1 view .LVU462
 1806              		.loc 1 510 16 is_stmt 0 view .LVU463
 1807 003c 1FFA88FA 		uxth	r10, r8
 1808              	.LVL194:
 511:Core/Src/mainLoop.c **** 	allSum = allSum - TARGET_CPV;
 1809              		.loc 1 511 2 is_stmt 1 view .LVU464
 1810              		.loc 1 511 9 is_stmt 0 view .LVU465
 1811 0040 A8F50068 		sub	r8, r8, #2048
 1812              	.LVL195:
 512:Core/Src/mainLoop.c **** 	insertMeanVal(allSum,adc_buf);
 1813              		.loc 1 512 2 is_stmt 1 view .LVU466
 1814 0044 2146     		mov	r1, r4
 1815 0046 4046     		mov	r0, r8
 1816              	.LVL196:
 1817              		.loc 1 512 2 is_stmt 0 view .LVU467
 1818 0048 FFF7FEFF 		bl	insertMeanVal
 1819              	.LVL197:
 513:Core/Src/mainLoop.c **** 	meanVal_view = adc_buf->adcMeanVal;
 1820              		.loc 1 513 2 is_stmt 1 view .LVU468
 1821              		.loc 1 513 24 is_stmt 0 view .LVU469
 1822 004c D4F89421 		ldr	r2, [r4, #404]
 1823              		.loc 1 513 15 view .LVU470
 1824 0050 6C4B     		ldr	r3, .L120+28
 1825 0052 1A60     		str	r2, [r3]
 514:Core/Src/mainLoop.c **** 	difVal_view  = adc_buf->adcDif2;
 1826              		.loc 1 514 2 is_stmt 1 view .LVU471
 1827              		.loc 1 514 24 is_stmt 0 view .LVU472
 1828 0054 D4F89821 		ldr	r2, [r4, #408]
 1829              		.loc 1 514 15 view .LVU473
 1830 0058 6B4B     		ldr	r3, .L120+32
 1831 005a 1A60     		str	r2, [r3]
 515:Core/Src/mainLoop.c **** 	
 516:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE-1; i++){
 1832              		.loc 1 516 2 is_stmt 1 view .LVU474
 1833              	.LVL198:
 1834              		.loc 1 516 7 is_stmt 0 view .LVU475
 1835 005c 0023     		movs	r3, #0
ARM GAS  /tmp/cctYddPe.s 			page 44


 1836              		.loc 1 516 2 view .LVU476
 1837 005e 06E0     		b	.L109
 1838              	.LVL199:
 1839              	.L110:
 517:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1840              		.loc 1 517 3 is_stmt 1 discriminator 3 view .LVU477
 1841              		.loc 1 517 33 is_stmt 0 discriminator 3 view .LVU478
 1842 0060 5A1C     		adds	r2, r3, #1
 1843              		.loc 1 517 31 discriminator 3 view .LVU479
 1844 0062 6A49     		ldr	r1, .L120+36
 1845 0064 51F82200 		ldr	r0, [r1, r2, lsl #2]
 1846              		.loc 1 517 18 discriminator 3 view .LVU480
 1847 0068 41F82300 		str	r0, [r1, r3, lsl #2]
 516:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1848              		.loc 1 516 33 is_stmt 1 discriminator 3 view .LVU481
 1849              	.LVL200:
 516:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1850              		.loc 1 516 34 is_stmt 0 discriminator 3 view .LVU482
 1851 006c 1346     		mov	r3, r2
 1852              	.LVL201:
 1853              	.L109:
 516:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1854              		.loc 1 516 11 is_stmt 1 discriminator 1 view .LVU483
 516:Core/Src/mainLoop.c **** 		adcSumArray[i] = adcSumArray[i+1];
 1855              		.loc 1 516 2 is_stmt 0 discriminator 1 view .LVU484
 1856 006e 082B     		cmp	r3, #8
 1857 0070 F6DD     		ble	.L110
 518:Core/Src/mainLoop.c **** 	}
 519:Core/Src/mainLoop.c **** 	adcSumArray[ADCSUMARRAY_SIZE-1] = allSum;
 1858              		.loc 1 519 2 is_stmt 1 view .LVU485
 1859              		.loc 1 519 34 is_stmt 0 view .LVU486
 1860 0072 664B     		ldr	r3, .L120+36
 1861              	.LVL202:
 1862              		.loc 1 519 34 view .LVU487
 1863 0074 C3F82480 		str	r8, [r3, #36]
 520:Core/Src/mainLoop.c **** 	
 521:Core/Src/mainLoop.c **** 	//pid
 522:Core/Src/mainLoop.c **** 	pidP = adcSumArray[ADCSUMARRAY_SIZE-1];
 1864              		.loc 1 522 2 is_stmt 1 view .LVU488
 1865              		.loc 1 522 7 is_stmt 0 view .LVU489
 1866 0078 654B     		ldr	r3, .L120+40
 1867 007a C3F80080 		str	r8, [r3]
 523:Core/Src/mainLoop.c **** 	pidI = 0;
 1868              		.loc 1 523 2 is_stmt 1 view .LVU490
 1869              		.loc 1 523 7 is_stmt 0 view .LVU491
 1870 007e 0023     		movs	r3, #0
 1871 0080 644A     		ldr	r2, .L120+44
 1872 0082 1360     		str	r3, [r2]
 524:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1873              		.loc 1 524 2 is_stmt 1 view .LVU492
 1874              	.LVL203:
 1875              		.loc 1 524 2 is_stmt 0 view .LVU493
 1876 0084 07E0     		b	.L111
 1877              	.LVL204:
 1878              	.L112:
 525:Core/Src/mainLoop.c **** 		pidI += adcSumArray[i];
 1879              		.loc 1 525 3 is_stmt 1 discriminator 3 view .LVU494
ARM GAS  /tmp/cctYddPe.s 			page 45


 1880              		.loc 1 525 22 is_stmt 0 discriminator 3 view .LVU495
 1881 0086 614A     		ldr	r2, .L120+36
 1882 0088 52F82300 		ldr	r0, [r2, r3, lsl #2]
 1883              		.loc 1 525 8 discriminator 3 view .LVU496
 1884 008c 6149     		ldr	r1, .L120+44
 1885 008e 0A68     		ldr	r2, [r1]
 1886 0090 0244     		add	r2, r2, r0
 1887 0092 0A60     		str	r2, [r1]
 524:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1888              		.loc 1 524 31 is_stmt 1 discriminator 3 view .LVU497
 524:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1889              		.loc 1 524 32 is_stmt 0 discriminator 3 view .LVU498
 1890 0094 0133     		adds	r3, r3, #1
 1891              	.LVL205:
 1892              	.L111:
 524:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1893              		.loc 1 524 11 is_stmt 1 discriminator 1 view .LVU499
 524:Core/Src/mainLoop.c **** 	for(i=0; i<ADCSUMARRAY_SIZE; i++){
 1894              		.loc 1 524 2 is_stmt 0 discriminator 1 view .LVU500
 1895 0096 092B     		cmp	r3, #9
 1896 0098 F5DD     		ble	.L112
 526:Core/Src/mainLoop.c **** 	}
 527:Core/Src/mainLoop.c **** 	pidI = pidI/ADCSUMARRAY_SIZE;
 1897              		.loc 1 527 2 is_stmt 1 view .LVU501
 1898              		.loc 1 527 13 is_stmt 0 view .LVU502
 1899 009a 5E49     		ldr	r1, .L120+44
 1900 009c 0B68     		ldr	r3, [r1]
 1901              	.LVL206:
 1902              		.loc 1 527 13 view .LVU503
 1903 009e 5E4A     		ldr	r2, .L120+48
 1904 00a0 82FB032B 		smull	r2, fp, r2, r3
 1905 00a4 DB17     		asrs	r3, r3, #31
 1906 00a6 C3EBAB0B 		rsb	fp, r3, fp, asr #2
 1907              		.loc 1 527 7 view .LVU504
 1908 00aa C1F800B0 		str	fp, [r1]
 528:Core/Src/mainLoop.c **** 	pidD = adcSumArray[ADCSUMARRAY_SIZE-1] - adcSumArray[ADCSUMARRAY_SIZE-2];
 1909              		.loc 1 528 2 is_stmt 1 view .LVU505
 1910              		.loc 1 528 54 is_stmt 0 view .LVU506
 1911 00ae 574B     		ldr	r3, .L120+36
 1912 00b0 1B6A     		ldr	r3, [r3, #32]
 1913              		.loc 1 528 41 view .LVU507
 1914 00b2 A8EB0303 		sub	r3, r8, r3
 1915 00b6 08EE103A 		vmov	s16, r3	@ int
 1916              		.loc 1 528 7 view .LVU508
 1917 00ba 584B     		ldr	r3, .L120+52
 1918 00bc 83ED008A 		vstr.32	s16, [r3]	@ int
 529:Core/Src/mainLoop.c **** 	dletDac = kP*((float_t)pidP) + kI*((float_t)pidI) + kD*((float_t)pidD);
 1919              		.loc 1 529 2 is_stmt 1 view .LVU509
 1920              		.loc 1 529 16 is_stmt 0 view .LVU510
 1921 00c0 07EE908A 		vmov	s15, r8	@ int
 1922 00c4 F8EEE77A 		vcvt.f32.s32	s15, s15
 1923 00c8 17EE900A 		vmov	r0, s15
 1924 00cc FFF7FEFF 		bl	__aeabi_f2d
 1925              	.LVL207:
 1926              		.loc 1 529 14 view .LVU511
 1927 00d0 45A3     		adr	r3, .L120
 1928 00d2 D3E90023 		ldrd	r2, [r3]
ARM GAS  /tmp/cctYddPe.s 			page 46


 1929 00d6 FFF7FEFF 		bl	__aeabi_dmul
 1930              	.LVL208:
 1931 00da 8046     		mov	r8, r0
 1932              	.LVL209:
 1933              		.loc 1 529 14 view .LVU512
 1934 00dc 8946     		mov	r9, r1
 1935              		.loc 1 529 37 view .LVU513
 1936 00de 07EE90BA 		vmov	s15, fp	@ int
 1937 00e2 F8EEE77A 		vcvt.f32.s32	s15, s15
 1938 00e6 17EE900A 		vmov	r0, s15
 1939 00ea FFF7FEFF 		bl	__aeabi_f2d
 1940              	.LVL210:
 1941              		.loc 1 529 35 view .LVU514
 1942 00ee 40A3     		adr	r3, .L120+8
 1943 00f0 D3E90023 		ldrd	r2, [r3]
 1944 00f4 FFF7FEFF 		bl	__aeabi_dmul
 1945              	.LVL211:
 1946 00f8 0246     		mov	r2, r0
 1947 00fa 0B46     		mov	r3, r1
 1948              		.loc 1 529 31 view .LVU515
 1949 00fc 4046     		mov	r0, r8
 1950 00fe 4946     		mov	r1, r9
 1951 0100 FFF7FEFF 		bl	__aeabi_dadd
 1952              	.LVL212:
 1953 0104 8046     		mov	r8, r0
 1954 0106 8946     		mov	r9, r1
 1955              		.loc 1 529 58 view .LVU516
 1956 0108 F8EEC87A 		vcvt.f32.s32	s15, s16
 1957 010c 17EE900A 		vmov	r0, s15
 1958 0110 FFF7FEFF 		bl	__aeabi_f2d
 1959              	.LVL213:
 1960              		.loc 1 529 56 view .LVU517
 1961 0114 38A3     		adr	r3, .L120+16
 1962 0116 D3E90023 		ldrd	r2, [r3]
 1963 011a FFF7FEFF 		bl	__aeabi_dmul
 1964              	.LVL214:
 1965 011e 0246     		mov	r2, r0
 1966 0120 0B46     		mov	r3, r1
 1967              		.loc 1 529 52 view .LVU518
 1968 0122 4046     		mov	r0, r8
 1969 0124 4946     		mov	r1, r9
 1970 0126 FFF7FEFF 		bl	__aeabi_dadd
 1971              	.LVL215:
 1972 012a FFF7FEFF 		bl	__aeabi_d2f
 1973              	.LVL216:
 1974              		.loc 1 529 10 view .LVU519
 1975 012e 3C4B     		ldr	r3, .L120+56
 1976 0130 1860     		str	r0, [r3]	@ float
 530:Core/Src/mainLoop.c **** 	tmpUint32 = abs((int32_t) (dletDac));
 1977              		.loc 1 530 2 is_stmt 1 view .LVU520
 1978              	.LVL217:
 531:Core/Src/mainLoop.c **** 	if(runTime500us < RUN_30S) { //nomal operate
 1979              		.loc 1 531 2 view .LVU521
 1980              		.loc 1 531 4 is_stmt 0 view .LVU522
 1981 0132 3C4B     		ldr	r3, .L120+60
 1982 0134 9F42     		cmp	r7, r3
 1983 0136 0FDD     		ble	.L117
ARM GAS  /tmp/cctYddPe.s 			page 47


 532:Core/Src/mainLoop.c **** 		deltNoisV = 0;
 533:Core/Src/mainLoop.c **** 	}else { //add noise
 534:Core/Src/mainLoop.c **** 		if((runTime500us&0x01) != 0){ //2ms
 1984              		.loc 1 534 3 is_stmt 1 view .LVU523
 1985              		.loc 1 534 5 is_stmt 0 view .LVU524
 1986 0138 17F00107 		ands	r7, r7, #1
 1987              	.LVL218:
 1988              		.loc 1 534 5 view .LVU525
 1989 013c 06D0     		beq	.L114
 535:Core/Src/mainLoop.c **** 			deltNoisV = 3;
 1990              		.loc 1 535 4 is_stmt 1 view .LVU526
 1991              	.LVL219:
 536:Core/Src/mainLoop.c **** 			HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 1992              		.loc 1 536 4 view .LVU527
 1993 013e 4FF48061 		mov	r1, #1024
 1994 0142 3948     		ldr	r0, .L120+64
 1995              	.LVL220:
 1996              		.loc 1 536 4 is_stmt 0 view .LVU528
 1997 0144 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 1998              	.LVL221:
 535:Core/Src/mainLoop.c **** 			deltNoisV = 3;
 1999              		.loc 1 535 14 view .LVU529
 2000 0148 0327     		movs	r7, #3
 2001 014a 06E0     		b	.L113
 2002              	.LVL222:
 2003              	.L114:
 537:Core/Src/mainLoop.c **** 		}else{
 538:Core/Src/mainLoop.c **** 			deltNoisV = 0;
 2004              		.loc 1 538 4 is_stmt 1 view .LVU530
 539:Core/Src/mainLoop.c **** 			HAL_GPIO_TogglePin(LED5_GPIO_Port, LED5_Pin);
 2005              		.loc 1 539 4 view .LVU531
 2006 014c 4FF48061 		mov	r1, #1024
 2007 0150 3548     		ldr	r0, .L120+64
 2008              	.LVL223:
 2009              		.loc 1 539 4 is_stmt 0 view .LVU532
 2010 0152 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 2011              	.LVL224:
 2012              		.loc 1 539 4 view .LVU533
 2013 0156 00E0     		b	.L113
 2014              	.LVL225:
 2015              	.L117:
 532:Core/Src/mainLoop.c **** 	}else { //add noise
 2016              		.loc 1 532 13 view .LVU534
 2017 0158 0027     		movs	r7, #0
 2018              	.LVL226:
 2019              	.L113:
 540:Core/Src/mainLoop.c **** 		}
 541:Core/Src/mainLoop.c **** 	}
 542:Core/Src/mainLoop.c **** 	(*dacP) += (int32_t) (dletDac);
 2020              		.loc 1 542 2 is_stmt 1 view .LVU535
 2021              		.loc 1 542 13 is_stmt 0 view .LVU536
 2022 015a 314A     		ldr	r2, .L120+56
 2023 015c D2ED007A 		vldr.32	s15, [r2]
 2024 0160 FDEEE77A 		vcvt.s32.f32	s15, s15
 2025              		.loc 1 542 10 view .LVU537
 2026 0164 2B68     		ldr	r3, [r5]
 2027 0166 17EE901A 		vmov	r1, s15	@ int
ARM GAS  /tmp/cctYddPe.s 			page 48


 2028 016a 0B44     		add	r3, r3, r1
 2029 016c 2B60     		str	r3, [r5]
 543:Core/Src/mainLoop.c **** 	(*dacN) -= (int32_t) (dletDac);
 2030              		.loc 1 543 2 is_stmt 1 view .LVU538
 2031              		.loc 1 543 13 is_stmt 0 view .LVU539
 2032 016e D2ED007A 		vldr.32	s15, [r2]
 2033 0172 FDEEE77A 		vcvt.s32.f32	s15, s15
 2034              		.loc 1 543 10 view .LVU540
 2035 0176 3368     		ldr	r3, [r6]
 2036 0178 17EE902A 		vmov	r2, s15	@ int
 2037 017c 9B1A     		subs	r3, r3, r2
 2038 017e 3360     		str	r3, [r6]
 544:Core/Src/mainLoop.c **** 	(*dacP) += deltNoisV;
 2039              		.loc 1 544 2 is_stmt 1 view .LVU541
 2040              		.loc 1 544 10 is_stmt 0 view .LVU542
 2041 0180 2B68     		ldr	r3, [r5]
 2042 0182 3B44     		add	r3, r3, r7
 2043 0184 2B60     		str	r3, [r5]
 545:Core/Src/mainLoop.c **** 	(*dacN) -= deltNoisV;
 2044              		.loc 1 545 2 is_stmt 1 view .LVU543
 2045              		.loc 1 545 10 is_stmt 0 view .LVU544
 2046 0186 3368     		ldr	r3, [r6]
 2047 0188 DB1B     		subs	r3, r3, r7
 2048 018a 3360     		str	r3, [r6]
 546:Core/Src/mainLoop.c **** 	max5307_w_chanel(DACP_1,  (*dacP)>>12,      max_outenable);
 2049              		.loc 1 546 2 is_stmt 1 view .LVU545
 2050              		.loc 1 546 29 is_stmt 0 view .LVU546
 2051 018c 2968     		ldr	r1, [r5]
 2052              		.loc 1 546 2 view .LVU547
 2053 018e 0122     		movs	r2, #1
 2054 0190 090B     		lsrs	r1, r1, #12
 2055 0192 0620     		movs	r0, #6
 2056 0194 FFF7FEFF 		bl	max5307_w_chanel
 2057              	.LVL227:
 547:Core/Src/mainLoop.c **** 	max5307_w_chanel(DACP_1K, ((*dacP)&0xfff),  max_outenable);
 2058              		.loc 1 547 2 is_stmt 1 view .LVU548
 2059              		.loc 1 547 30 is_stmt 0 view .LVU549
 2060 0198 2968     		ldr	r1, [r5]
 2061              		.loc 1 547 2 view .LVU550
 2062 019a 0122     		movs	r2, #1
 2063 019c C1F30B01 		ubfx	r1, r1, #0, #12
 2064 01a0 0720     		movs	r0, #7
 2065 01a2 FFF7FEFF 		bl	max5307_w_chanel
 2066              	.LVL228:
 548:Core/Src/mainLoop.c **** 	max5307_w_chanel(DACN_1,  (*dacN)>>12,      max_outenable);
 2067              		.loc 1 548 2 is_stmt 1 view .LVU551
 2068              		.loc 1 548 29 is_stmt 0 view .LVU552
 2069 01a6 3168     		ldr	r1, [r6]
 2070              		.loc 1 548 2 view .LVU553
 2071 01a8 0122     		movs	r2, #1
 2072 01aa 090B     		lsrs	r1, r1, #12
 2073 01ac 0520     		movs	r0, #5
 2074 01ae FFF7FEFF 		bl	max5307_w_chanel
 2075              	.LVL229:
 549:Core/Src/mainLoop.c **** 	max5307_w_chanel(DACN_1K, ((*dacN)&0xfff),  max_outenable);
 2076              		.loc 1 549 2 is_stmt 1 view .LVU554
 2077              		.loc 1 549 30 is_stmt 0 view .LVU555
ARM GAS  /tmp/cctYddPe.s 			page 49


 2078 01b2 3168     		ldr	r1, [r6]
 2079              		.loc 1 549 2 view .LVU556
 2080 01b4 0122     		movs	r2, #1
 2081 01b6 C1F30B01 		ubfx	r1, r1, #0, #12
 2082 01ba 0420     		movs	r0, #4
 2083 01bc FFF7FEFF 		bl	max5307_w_chanel
 2084              	.LVL230:
 550:Core/Src/mainLoop.c **** 	
 551:Core/Src/mainLoop.c **** 	//clear buf
 552:Core/Src/mainLoop.c **** 	for(i=0; i<ADC_BUF_T_SIZE; i++){
 2085              		.loc 1 552 2 is_stmt 1 view .LVU557
 2086              		.loc 1 552 7 is_stmt 0 view .LVU558
 2087 01c0 0023     		movs	r3, #0
 2088              		.loc 1 552 2 view .LVU559
 2089 01c2 04E0     		b	.L115
 2090              	.LVL231:
 2091              	.L116:
 553:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 2092              		.loc 1 553 3 is_stmt 1 discriminator 3 view .LVU560
 2093              		.loc 1 553 18 is_stmt 0 discriminator 3 view .LVU561
 2094 01c4 04EB8302 		add	r2, r4, r3, lsl #2
 2095 01c8 0021     		movs	r1, #0
 2096 01ca 5160     		str	r1, [r2, #4]
 552:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 2097              		.loc 1 552 29 is_stmt 1 discriminator 3 view .LVU562
 552:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 2098              		.loc 1 552 30 is_stmt 0 discriminator 3 view .LVU563
 2099 01cc 0133     		adds	r3, r3, #1
 2100              	.LVL232:
 2101              	.L115:
 552:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 2102              		.loc 1 552 11 is_stmt 1 discriminator 1 view .LVU564
 552:Core/Src/mainLoop.c **** 		adc_buf->buf[i]=0;
 2103              		.loc 1 552 2 is_stmt 0 discriminator 1 view .LVU565
 2104 01ce 632B     		cmp	r3, #99
 2105 01d0 F8DD     		ble	.L116
 554:Core/Src/mainLoop.c **** 	}
 555:Core/Src/mainLoop.c **** 	logPara.mean_adc_val = forSaveAllSum;
 2106              		.loc 1 555 2 is_stmt 1 view .LVU566
 2107              		.loc 1 555 23 is_stmt 0 view .LVU567
 2108 01d2 164B     		ldr	r3, .L120+68
 2109              	.LVL233:
 2110              		.loc 1 555 23 view .LVU568
 2111 01d4 A3F800A0 		strh	r10, [r3]	@ movhi
 556:Core/Src/mainLoop.c **** 	logPara.dac_val_n = (*dacN);
 2112              		.loc 1 556 2 is_stmt 1 view .LVU569
 2113              		.loc 1 556 23 is_stmt 0 view .LVU570
 2114 01d8 3268     		ldr	r2, [r6]
 2115              		.loc 1 556 20 view .LVU571
 2116 01da 9A60     		str	r2, [r3, #8]
 557:Core/Src/mainLoop.c **** 	logPara.dac_val_p = (*dacP);
 2117              		.loc 1 557 2 is_stmt 1 view .LVU572
 2118              		.loc 1 557 23 is_stmt 0 view .LVU573
 2119 01dc 2A68     		ldr	r2, [r5]
 2120              		.loc 1 557 20 view .LVU574
 2121 01de 5A60     		str	r2, [r3, #4]
 558:Core/Src/mainLoop.c **** }
ARM GAS  /tmp/cctYddPe.s 			page 50


 2122              		.loc 1 558 1 view .LVU575
 2123 01e0 BDEC028B 		vldm	sp!, {d8}
 2124              	.LCFI19:
 2125              		.cfi_restore 80
 2126              		.cfi_restore 81
 2127              		.cfi_def_cfa_offset 40
 2128 01e4 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2129              	.LVL234:
 2130              	.L121:
 2131              		.loc 1 558 1 view .LVU576
 2132              		.align	3
 2133              	.L120:
 2134 01e8 FCA9F1D2 		.word	3539053052
 2135 01ec 4D6240BF 		.word	-1086299571
 2136 01f0 88855AD3 		.word	3545925000
 2137 01f4 BCE3743F 		.word	1064625084
 2138 01f8 0AD7A370 		.word	1889785610
 2139 01fc 3D0AF23F 		.word	1072826941
 2140 0200 1F85EB51 		.word	1374389535
 2141 0204 00000000 		.word	.LANCHOR9
 2142 0208 00000000 		.word	.LANCHOR10
 2143 020c 00000000 		.word	adcSumArray
 2144 0210 00000000 		.word	.LANCHOR4
 2145 0214 00000000 		.word	.LANCHOR5
 2146 0218 67666666 		.word	1717986919
 2147 021c 00000000 		.word	.LANCHOR6
 2148 0220 00000000 		.word	.LANCHOR7
 2149 0224 1FBF0200 		.word	179999
 2150 0228 00080240 		.word	1073874944
 2151 022c 00000000 		.word	logPara
 2152              		.cfi_endproc
 2153              	.LFE147:
 2155              		.section	.text.fakeDelay,"ax",%progbits
 2156              		.align	1
 2157              		.global	fakeDelay
 2158              		.syntax unified
 2159              		.thumb
 2160              		.thumb_func
 2161              		.fpu fpv4-sp-d16
 2163              	fakeDelay:
 2164              	.LVL235:
 2165              	.LFB148:
 559:Core/Src/mainLoop.c **** 
 560:Core/Src/mainLoop.c **** uint32_t adc1_ok=0,adc2_ok=0;
 561:Core/Src/mainLoop.c **** #define MID_CP_VALUE (2048)
 562:Core/Src/mainLoop.c **** uint32_t value_dacP=0x800000,value_dacN=0x800000;
 563:Core/Src/mainLoop.c **** int32_t mainCp = 0,mainCpLast=0;
 564:Core/Src/mainLoop.c **** struct adc_buf_t adc1_t1, adc1_t2;
 565:Core/Src/mainLoop.c **** 
 566:Core/Src/mainLoop.c **** void fakeDelay(int32_t delay){
 2166              		.loc 1 566 30 is_stmt 1 view -0
 2167              		.cfi_startproc
 2168              		@ args = 0, pretend = 0, frame = 0
 2169              		@ frame_needed = 0, uses_anonymous_args = 0
 2170              		@ link register save eliminated.
 2171              		.loc 1 566 30 is_stmt 0 view .LVU578
 2172 0000 0146     		mov	r1, r0
ARM GAS  /tmp/cctYddPe.s 			page 51


 567:Core/Src/mainLoop.c **** 	int32_t i=0,k=0;
 2173              		.loc 1 567 2 is_stmt 1 view .LVU579
 2174              	.LVL236:
 568:Core/Src/mainLoop.c **** 	int32_t tmp=0;
 2175              		.loc 1 568 2 view .LVU580
 569:Core/Src/mainLoop.c **** 	for(k=0;k<delay;k++){
 2176              		.loc 1 569 2 view .LVU581
 2177              		.loc 1 569 7 is_stmt 0 view .LVU582
 2178 0002 0022     		movs	r2, #0
 2179              		.loc 1 569 2 view .LVU583
 2180 0004 00E0     		b	.L123
 2181              	.LVL237:
 2182              	.L128:
 2183              		.loc 1 569 18 is_stmt 1 discriminator 2 view .LVU584
 2184              		.loc 1 569 19 is_stmt 0 discriminator 2 view .LVU585
 2185 0006 0132     		adds	r2, r2, #1
 2186              	.LVL238:
 2187              	.L123:
 2188              		.loc 1 569 10 is_stmt 1 discriminator 1 view .LVU586
 2189              		.loc 1 569 2 is_stmt 0 discriminator 1 view .LVU587
 2190 0008 8A42     		cmp	r2, r1
 2191 000a 04DA     		bge	.L127
 570:Core/Src/mainLoop.c **** 		for(i=0;i<100;i++){
 2192              		.loc 1 570 8 view .LVU588
 2193 000c 0023     		movs	r3, #0
 2194              	.L125:
 2195              	.LVL239:
 2196              		.loc 1 570 11 is_stmt 1 discriminator 1 view .LVU589
 2197              		.loc 1 570 3 is_stmt 0 discriminator 1 view .LVU590
 2198 000e 632B     		cmp	r3, #99
 2199 0010 F9DC     		bgt	.L128
 571:Core/Src/mainLoop.c **** 			tmp++;
 2200              		.loc 1 571 4 is_stmt 1 discriminator 3 view .LVU591
 570:Core/Src/mainLoop.c **** 		for(i=0;i<100;i++){
 2201              		.loc 1 570 17 discriminator 3 view .LVU592
 570:Core/Src/mainLoop.c **** 		for(i=0;i<100;i++){
 2202              		.loc 1 570 18 is_stmt 0 discriminator 3 view .LVU593
 2203 0012 0133     		adds	r3, r3, #1
 2204              	.LVL240:
 570:Core/Src/mainLoop.c **** 		for(i=0;i<100;i++){
 2205              		.loc 1 570 18 discriminator 3 view .LVU594
 2206 0014 FBE7     		b	.L125
 2207              	.LVL241:
 2208              	.L127:
 572:Core/Src/mainLoop.c **** 		}
 573:Core/Src/mainLoop.c **** 	}
 574:Core/Src/mainLoop.c **** }
 2209              		.loc 1 574 1 view .LVU595
 2210 0016 7047     		bx	lr
 2211              		.cfi_endproc
 2212              	.LFE148:
 2214              		.section	.text.mainLoop1,"ax",%progbits
 2215              		.align	1
 2216              		.global	mainLoop1
 2217              		.syntax unified
 2218              		.thumb
 2219              		.thumb_func
ARM GAS  /tmp/cctYddPe.s 			page 52


 2220              		.fpu fpv4-sp-d16
 2222              	mainLoop1:
 2223              	.LFB149:
 575:Core/Src/mainLoop.c **** uint8_t logBufDma[20];
 576:Core/Src/mainLoop.c **** uint16_t ad9520_reg=0;
 577:Core/Src/mainLoop.c **** uint32_t locked = 0;
 578:Core/Src/mainLoop.c **** uint32_t adcVal,lastAdcVal;
 579:Core/Src/mainLoop.c **** void mainLoop1(void){
 2224              		.loc 1 579 21 is_stmt 1 view -0
 2225              		.cfi_startproc
 2226              		@ args = 0, pretend = 0, frame = 32
 2227              		@ frame_needed = 0, uses_anonymous_args = 0
 2228 0000 30B5     		push	{r4, r5, lr}
 2229              	.LCFI20:
 2230              		.cfi_def_cfa_offset 12
 2231              		.cfi_offset 4, -12
 2232              		.cfi_offset 5, -8
 2233              		.cfi_offset 14, -4
 2234 0002 89B0     		sub	sp, sp, #36
 2235              	.LCFI21:
 2236              		.cfi_def_cfa_offset 48
 580:Core/Src/mainLoop.c **** 
 581:Core/Src/mainLoop.c **** 	#define CONST_DELTDA (0X000)
 582:Core/Src/mainLoop.c **** 	uint32_t dac_default_val[8] = {0,0,0,0,0,0,0,0};
 2237              		.loc 1 582 2 view .LVU597
 2238              		.loc 1 582 11 is_stmt 0 view .LVU598
 2239 0004 2022     		movs	r2, #32
 2240 0006 0021     		movs	r1, #0
 2241 0008 6846     		mov	r0, sp
 2242 000a FFF7FEFF 		bl	memset
 2243              	.LVL242:
 583:Core/Src/mainLoop.c **** 	int32_t runTimes = 0; //log 30s, for example 0.5ms*2000=1s, runtimes=2000*60=1min
 2244              		.loc 1 583 2 is_stmt 1 view .LVU599
 584:Core/Src/mainLoop.c **** 	int32_t xyz=0;
 2245              		.loc 1 584 2 view .LVU600
 585:Core/Src/mainLoop.c **** 	adc1_t1.adc_cap_ok = CALOK;
 2246              		.loc 1 585 2 view .LVU601
 2247              		.loc 1 585 21 is_stmt 0 view .LVU602
 2248 000e 4FF6FF73 		movw	r3, #65535
 2249 0012 394A     		ldr	r2, .L137
 2250 0014 1360     		str	r3, [r2]
 586:Core/Src/mainLoop.c **** 	adc1_t2.adc_cap_ok = CALOK;
 2251              		.loc 1 586 2 is_stmt 1 view .LVU603
 2252              		.loc 1 586 21 is_stmt 0 view .LVU604
 2253 0016 394A     		ldr	r2, .L137+4
 2254 0018 1360     		str	r3, [r2]
 587:Core/Src/mainLoop.c **** 	/* USER CODE BEGIN 2 */
 588:Core/Src/mainLoop.c **** 	init_max5307();
 2255              		.loc 1 588 2 is_stmt 1 view .LVU605
 2256 001a FFF7FEFF 		bl	init_max5307
 2257              	.LVL243:
 589:Core/Src/mainLoop.c **** 	set_dac_initVal(dac_default_val);
 2258              		.loc 1 589 2 view .LVU606
 2259 001e 6846     		mov	r0, sp
 2260 0020 FFF7FEFF 		bl	set_dac_initVal
 2261              	.LVL244:
 590:Core/Src/mainLoop.c **** 	max5307_w_chanel(max_ch8,2048,max_outenable);
ARM GAS  /tmp/cctYddPe.s 			page 53


 2262              		.loc 1 590 2 view .LVU607
 2263 0024 0122     		movs	r2, #1
 2264 0026 4FF40061 		mov	r1, #2048
 2265 002a 0920     		movs	r0, #9
 2266 002c FFF7FEFF 		bl	max5307_w_chanel
 2267              	.LVL245:
 591:Core/Src/mainLoop.c **** 	do{ //set 1.5v
 2268              		.loc 1 591 2 view .LVU608
 592:Core/Src/mainLoop.c **** 		value_dacP -= CONST_DELTDA;
 2269              		.loc 1 592 3 view .LVU609
 2270              		.loc 1 592 14 is_stmt 0 view .LVU610
 2271 0030 334C     		ldr	r4, .L137+8
 2272 0032 2168     		ldr	r1, [r4]
 593:Core/Src/mainLoop.c **** 		value_dacN += CONST_DELTDA;
 2273              		.loc 1 593 3 is_stmt 1 view .LVU611
 594:Core/Src/mainLoop.c **** 		max5307_w_chanel(DACP_1, (value_dacP>>12),  max_outenable);
 2274              		.loc 1 594 3 view .LVU612
 2275 0034 0122     		movs	r2, #1
 2276 0036 090B     		lsrs	r1, r1, #12
 2277 0038 0620     		movs	r0, #6
 2278 003a FFF7FEFF 		bl	max5307_w_chanel
 2279              	.LVL246:
 595:Core/Src/mainLoop.c **** 		max5307_w_chanel(DACP_1K,(value_dacP&0XFFF),max_outenable);
 2280              		.loc 1 595 3 view .LVU613
 2281 003e 2168     		ldr	r1, [r4]
 2282 0040 0122     		movs	r2, #1
 2283 0042 C1F30B01 		ubfx	r1, r1, #0, #12
 2284 0046 0720     		movs	r0, #7
 2285 0048 FFF7FEFF 		bl	max5307_w_chanel
 2286              	.LVL247:
 596:Core/Src/mainLoop.c **** 		max5307_w_chanel(DACN_1,(value_dacN>>12),max_outenable);
 2287              		.loc 1 596 3 view .LVU614
 2288 004c 2D4C     		ldr	r4, .L137+12
 2289 004e 2168     		ldr	r1, [r4]
 2290 0050 0122     		movs	r2, #1
 2291 0052 090B     		lsrs	r1, r1, #12
 2292 0054 0520     		movs	r0, #5
 2293 0056 FFF7FEFF 		bl	max5307_w_chanel
 2294              	.LVL248:
 597:Core/Src/mainLoop.c **** 		max5307_w_chanel(DACN_1K,(value_dacN&0xFFF),max_outenable);
 2295              		.loc 1 597 3 view .LVU615
 2296 005a 2168     		ldr	r1, [r4]
 2297 005c 0122     		movs	r2, #1
 2298 005e C1F30B01 		ubfx	r1, r1, #0, #12
 2299 0062 0420     		movs	r0, #4
 2300 0064 FFF7FEFF 		bl	max5307_w_chanel
 2301              	.LVL249:
 598:Core/Src/mainLoop.c **** 	}while(0);
 2302              		.loc 1 598 8 view .LVU616
 599:Core/Src/mainLoop.c **** 		
 600:Core/Src/mainLoop.c **** 
 601:Core/Src/mainLoop.c **** 	init_ad9520();
 2303              		.loc 1 601 2 view .LVU617
 2304 0068 FFF7FEFF 		bl	init_ad9520
 2305              	.LVL250:
 602:Core/Src/mainLoop.c **** 	//SystemClock_Config();//from main.c
 603:Core/Src/mainLoop.c **** 	//fprintf(logBufDma,"helloworld");
ARM GAS  /tmp/cctYddPe.s 			page 54


 604:Core/Src/mainLoop.c **** 	for(int i=0;i<10;i++){
 2306              		.loc 1 604 2 view .LVU618
 2307              	.LBB5:
 2308              		.loc 1 604 6 view .LVU619
 2309              		.loc 1 604 10 is_stmt 0 view .LVU620
 2310 006c 0023     		movs	r3, #0
 2311              		.loc 1 604 2 view .LVU621
 2312 006e 04E0     		b	.L130
 2313              	.LVL251:
 2314              	.L131:
 605:Core/Src/mainLoop.c **** 		logBufDma[i] = 65 + i;
 2315              		.loc 1 605 3 is_stmt 1 discriminator 3 view .LVU622
 2316              		.loc 1 605 21 is_stmt 0 discriminator 3 view .LVU623
 2317 0070 03F14101 		add	r1, r3, #65
 2318              		.loc 1 605 16 discriminator 3 view .LVU624
 2319 0074 244A     		ldr	r2, .L137+16
 2320 0076 D154     		strb	r1, [r2, r3]
 604:Core/Src/mainLoop.c **** 		logBufDma[i] = 65 + i;
 2321              		.loc 1 604 19 is_stmt 1 discriminator 3 view .LVU625
 604:Core/Src/mainLoop.c **** 		logBufDma[i] = 65 + i;
 2322              		.loc 1 604 20 is_stmt 0 discriminator 3 view .LVU626
 2323 0078 0133     		adds	r3, r3, #1
 2324              	.LVL252:
 2325              	.L130:
 604:Core/Src/mainLoop.c **** 		logBufDma[i] = 65 + i;
 2326              		.loc 1 604 14 is_stmt 1 discriminator 1 view .LVU627
 604:Core/Src/mainLoop.c **** 		logBufDma[i] = 65 + i;
 2327              		.loc 1 604 2 is_stmt 0 discriminator 1 view .LVU628
 2328 007a 092B     		cmp	r3, #9
 2329 007c F8DD     		ble	.L131
 2330              	.LBE5:
 606:Core/Src/mainLoop.c **** 	}
 607:Core/Src/mainLoop.c **** 	logBufDma[0] = 35;//'#'
 2331              		.loc 1 607 2 is_stmt 1 view .LVU629
 2332              		.loc 1 607 15 is_stmt 0 view .LVU630
 2333 007e 224D     		ldr	r5, .L137+16
 2334 0080 2323     		movs	r3, #35
 2335              	.LVL253:
 2336              		.loc 1 607 15 view .LVU631
 2337 0082 2B70     		strb	r3, [r5]
 608:Core/Src/mainLoop.c **** 	
 609:Core/Src/mainLoop.c **** 	HAL_UART_IRQHandler(&huart2); //must add this, ornot uart2 dma not work
 2338              		.loc 1 609 2 is_stmt 1 view .LVU632
 2339 0084 214C     		ldr	r4, .L137+20
 2340 0086 2046     		mov	r0, r4
 2341 0088 FFF7FEFF 		bl	HAL_UART_IRQHandler
 2342              	.LVL254:
 610:Core/Src/mainLoop.c **** 	HAL_UART_Transmit_DMA(&huart2, logBufDma, 11);
 2343              		.loc 1 610 2 view .LVU633
 2344 008c 0B22     		movs	r2, #11
 2345 008e 2946     		mov	r1, r5
 2346 0090 2046     		mov	r0, r4
 2347 0092 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 2348              	.LVL255:
 611:Core/Src/mainLoop.c **** 	
 612:Core/Src/mainLoop.c **** 	HAL_Delay(1);
 2349              		.loc 1 612 2 view .LVU634
ARM GAS  /tmp/cctYddPe.s 			page 55


 2350 0096 0120     		movs	r0, #1
 2351 0098 FFF7FEFF 		bl	HAL_Delay
 2352              	.LVL256:
 613:Core/Src/mainLoop.c **** 	adc1_ok=0;adc2_ok=0;
 2353              		.loc 1 613 2 view .LVU635
 2354              		.loc 1 613 9 is_stmt 0 view .LVU636
 2355 009c 0024     		movs	r4, #0
 2356 009e 1C4B     		ldr	r3, .L137+24
 2357 00a0 1C60     		str	r4, [r3]
 2358              		.loc 1 613 12 is_stmt 1 view .LVU637
 2359              		.loc 1 613 19 is_stmt 0 view .LVU638
 2360 00a2 1C4B     		ldr	r3, .L137+28
 2361 00a4 1C60     		str	r4, [r3]
 614:Core/Src/mainLoop.c **** 	
 615:Core/Src/mainLoop.c **** 	HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t1.buf ,ADC_BUF_T_SIZE*2);
 2362              		.loc 1 615 2 is_stmt 1 view .LVU639
 2363 00a6 C822     		movs	r2, #200
 2364 00a8 1B49     		ldr	r1, .L137+32
 2365 00aa 1C48     		ldr	r0, .L137+36
 2366 00ac FFF7FEFF 		bl	HAL_ADC_Start_DMA
 2367              	.LVL257:
 2368 00b0 0AE0     		b	.L132
 2369              	.LVL258:
 2370              	.L136:
 616:Core/Src/mainLoop.c **** 	
 617:Core/Src/mainLoop.c **** /* USER CODE END 2 */
 618:Core/Src/mainLoop.c **** 	
 619:Core/Src/mainLoop.c **** 	while(1){
 620:Core/Src/mainLoop.c **** 			
 621:Core/Src/mainLoop.c **** 		
 622:Core/Src/mainLoop.c **** 		if(adc1_t1.adc_cap_ok == ADCCAPOK){
 623:Core/Src/mainLoop.c **** 		//cal t1
 624:Core/Src/mainLoop.c **** 			//HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t2.buf ,ADC_BUF_T_SIZE*2);
 625:Core/Src/mainLoop.c **** 			//cal_cp_output_dac(&adc1_t1, &value_dacP, &value_dacN);
 626:Core/Src/mainLoop.c **** 			cal_cp_output_dac_ext(&adc1_t1, &value_dacP, &value_dacN, runTimes);
 2371              		.loc 1 626 4 view .LVU640
 2372 00b2 114D     		ldr	r5, .L137
 2373 00b4 2346     		mov	r3, r4
 2374 00b6 134A     		ldr	r2, .L137+12
 2375 00b8 1149     		ldr	r1, .L137+8
 2376 00ba 2846     		mov	r0, r5
 2377 00bc FFF7FEFF 		bl	cal_cp_output_dac_ext
 2378              	.LVL259:
 627:Core/Src/mainLoop.c **** 			adc1_t1.adc_cap_ok = CALOK;
 2379              		.loc 1 627 4 view .LVU641
 2380              		.loc 1 627 23 is_stmt 0 view .LVU642
 2381 00c0 4FF6FF73 		movw	r3, #65535
 2382 00c4 2B60     		str	r3, [r5]
 628:Core/Src/mainLoop.c **** 			runTimes++; //log run time runTimes+1 = 500us,
 2383              		.loc 1 628 4 is_stmt 1 view .LVU643
 2384              		.loc 1 628 12 is_stmt 0 view .LVU644
 2385 00c6 0134     		adds	r4, r4, #1
 2386              	.LVL260:
 2387              	.L132:
 619:Core/Src/mainLoop.c **** 			
 2388              		.loc 1 619 2 is_stmt 1 view .LVU645
 622:Core/Src/mainLoop.c **** 		//cal t1
ARM GAS  /tmp/cctYddPe.s 			page 56


 2389              		.loc 1 622 3 view .LVU646
 622:Core/Src/mainLoop.c **** 		//cal t1
 2390              		.loc 1 622 13 is_stmt 0 view .LVU647
 2391 00c8 0B4B     		ldr	r3, .L137
 2392 00ca 1A68     		ldr	r2, [r3]
 622:Core/Src/mainLoop.c **** 		//cal t1
 2393              		.loc 1 622 5 view .LVU648
 2394 00cc 45F25553 		movw	r3, #21845
 2395 00d0 9A42     		cmp	r2, r3
 2396 00d2 EED0     		beq	.L136
 629:Core/Src/mainLoop.c **** 			
 630:Core/Src/mainLoop.c **** 		}else if(adc1_t2.adc_cap_ok == ADCCAPOK){
 2397              		.loc 1 630 9 is_stmt 1 view .LVU649
 2398              		.loc 1 630 19 is_stmt 0 view .LVU650
 2399 00d4 094B     		ldr	r3, .L137+4
 2400 00d6 1A68     		ldr	r2, [r3]
 2401              		.loc 1 630 11 view .LVU651
 2402 00d8 45F25553 		movw	r3, #21845
 2403 00dc 9A42     		cmp	r2, r3
 2404 00de F3D1     		bne	.L132
 631:Core/Src/mainLoop.c **** 			//cal t2
 632:Core/Src/mainLoop.c **** 			//HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t1.buf ,ADC_BUF_T_SIZE*2);
 633:Core/Src/mainLoop.c **** 			//cal_cp_output_dac(&adc1_t2, &value_dacP, &value_dacN);
 634:Core/Src/mainLoop.c **** 			cal_cp_output_dac_ext(&adc1_t2, &value_dacP, &value_dacN, runTimes);
 2405              		.loc 1 634 4 is_stmt 1 view .LVU652
 2406 00e0 064D     		ldr	r5, .L137+4
 2407 00e2 2346     		mov	r3, r4
 2408 00e4 074A     		ldr	r2, .L137+12
 2409 00e6 0649     		ldr	r1, .L137+8
 2410 00e8 2846     		mov	r0, r5
 2411 00ea FFF7FEFF 		bl	cal_cp_output_dac_ext
 2412              	.LVL261:
 635:Core/Src/mainLoop.c **** 			adc1_t2.adc_cap_ok = CALOK;
 2413              		.loc 1 635 4 view .LVU653
 2414              		.loc 1 635 23 is_stmt 0 view .LVU654
 2415 00ee 4FF6FF73 		movw	r3, #65535
 2416 00f2 2B60     		str	r3, [r5]
 636:Core/Src/mainLoop.c **** 			runTimes++; //log run time runTimes+1 = 500us,
 2417              		.loc 1 636 4 is_stmt 1 view .LVU655
 2418              		.loc 1 636 12 is_stmt 0 view .LVU656
 2419 00f4 0134     		adds	r4, r4, #1
 2420              	.LVL262:
 2421              		.loc 1 636 12 view .LVU657
 2422 00f6 E7E7     		b	.L132
 2423              	.L138:
 2424              		.align	2
 2425              	.L137:
 2426 00f8 00000000 		.word	adc1_t1
 2427 00fc 00000000 		.word	adc1_t2
 2428 0100 00000000 		.word	.LANCHOR11
 2429 0104 00000000 		.word	.LANCHOR12
 2430 0108 00000000 		.word	logBufDma
 2431 010c 00000000 		.word	huart2
 2432 0110 00000000 		.word	.LANCHOR13
 2433 0114 00000000 		.word	.LANCHOR14
 2434 0118 04000000 		.word	adc1_t1+4
 2435 011c 00000000 		.word	hadc1
ARM GAS  /tmp/cctYddPe.s 			page 57


 2436              		.cfi_endproc
 2437              	.LFE149:
 2439              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
 2440              		.align	1
 2441              		.global	HAL_ADC_ConvCpltCallback
 2442              		.syntax unified
 2443              		.thumb
 2444              		.thumb_func
 2445              		.fpu fpv4-sp-d16
 2447              	HAL_ADC_ConvCpltCallback:
 2448              	.LVL263:
 2449              	.LFB150:
 637:Core/Src/mainLoop.c **** 		}
 638:Core/Src/mainLoop.c **** 		//printf("hello stm32 detect vel\n");
 639:Core/Src/mainLoop.c **** 		//HAL_Delay(100);
 640:Core/Src/mainLoop.c **** 	}
 641:Core/Src/mainLoop.c **** }
 642:Core/Src/mainLoop.c **** 
 643:Core/Src/mainLoop.c **** void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc) {
 2450              		.loc 1 643 56 is_stmt 1 view -0
 2451              		.cfi_startproc
 2452              		@ args = 0, pretend = 0, frame = 0
 2453              		@ frame_needed = 0, uses_anonymous_args = 0
 2454              		.loc 1 643 56 is_stmt 0 view .LVU659
 2455 0000 10B5     		push	{r4, lr}
 2456              	.LCFI22:
 2457              		.cfi_def_cfa_offset 8
 2458              		.cfi_offset 4, -8
 2459              		.cfi_offset 14, -4
 2460 0002 0446     		mov	r4, r0
 644:Core/Src/mainLoop.c ****     // ËøôÈáåÊòØÂΩìADCËΩ¨Êç¢ÂÆåÊàêÊó∂ÊâßË°åÁöÑ‰ª£Á†Å
 645:Core/Src/mainLoop.c ****     // ÂèØ‰ª•ËÆæÁΩÆÊ†áÂøóÔºåÈÄöÁü•‰∏ªÁ®ãÂ∫èÈááÊ†∑Â∑≤ÁªèÂÆåÊàê
 646:Core/Src/mainLoop.c **** 	if(hadc == &hadc2){
 2461              		.loc 1 646 2 is_stmt 1 view .LVU660
 2462              		.loc 1 646 4 is_stmt 0 view .LVU661
 2463 0004 1C4B     		ldr	r3, .L149
 2464 0006 9842     		cmp	r0, r3
 2465 0008 03D0     		beq	.L145
 2466              	.LVL264:
 2467              	.L140:
 647:Core/Src/mainLoop.c **** 		 
 648:Core/Src/mainLoop.c **** 			adc2_ok = 1;
 649:Core/Src/mainLoop.c **** 		HAL_ADC_Start_DMA(&hadc2,(uint32_t*)value_adc2,ADC_TIMES_N);
 650:Core/Src/mainLoop.c **** 	}
 651:Core/Src/mainLoop.c **** 	if(hadc == &hadc1){
 2468              		.loc 1 651 2 is_stmt 1 view .LVU662
 2469              		.loc 1 651 4 is_stmt 0 view .LVU663
 2470 000a 1C4B     		ldr	r3, .L149+4
 2471 000c 9C42     		cmp	r4, r3
 2472 000e 0AD0     		beq	.L146
 2473              	.LVL265:
 2474              	.L139:
 652:Core/Src/mainLoop.c **** 		if(adc1_t1.adc_cap_ok == CALOK){
 653:Core/Src/mainLoop.c **** 			HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t1.buf ,ADC_BUF_T_SIZE*2);
 654:Core/Src/mainLoop.c **** 			adc1_t1.adc_cap_ok = ADCCAPOK;
 655:Core/Src/mainLoop.c **** 		}else if(adc1_t2.adc_cap_ok == CALOK){
 656:Core/Src/mainLoop.c **** 			HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t2.buf ,ADC_BUF_T_SIZE*2);
ARM GAS  /tmp/cctYddPe.s 			page 58


 657:Core/Src/mainLoop.c **** 			adc1_t2.adc_cap_ok = ADCCAPOK;
 658:Core/Src/mainLoop.c **** 		}else{
 659:Core/Src/mainLoop.c **** 			
 660:Core/Src/mainLoop.c **** 		}
 661:Core/Src/mainLoop.c **** 		HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 662:Core/Src/mainLoop.c **** 	}
 663:Core/Src/mainLoop.c **** }
 2475              		.loc 1 663 1 view .LVU664
 2476 0010 10BD     		pop	{r4, pc}
 2477              	.LVL266:
 2478              	.L145:
 648:Core/Src/mainLoop.c **** 		HAL_ADC_Start_DMA(&hadc2,(uint32_t*)value_adc2,ADC_TIMES_N);
 2479              		.loc 1 648 4 is_stmt 1 view .LVU665
 648:Core/Src/mainLoop.c **** 		HAL_ADC_Start_DMA(&hadc2,(uint32_t*)value_adc2,ADC_TIMES_N);
 2480              		.loc 1 648 12 is_stmt 0 view .LVU666
 2481 0012 1B4B     		ldr	r3, .L149+8
 2482 0014 0122     		movs	r2, #1
 2483 0016 1A60     		str	r2, [r3]
 649:Core/Src/mainLoop.c **** 	}
 2484              		.loc 1 649 3 is_stmt 1 view .LVU667
 2485 0018 4FF4FA52 		mov	r2, #8000
 2486 001c 1949     		ldr	r1, .L149+12
 2487 001e 1648     		ldr	r0, .L149
 2488              	.LVL267:
 649:Core/Src/mainLoop.c **** 	}
 2489              		.loc 1 649 3 is_stmt 0 view .LVU668
 2490 0020 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 2491              	.LVL268:
 2492 0024 F1E7     		b	.L140
 2493              	.L146:
 652:Core/Src/mainLoop.c **** 		if(adc1_t1.adc_cap_ok == CALOK){
 2494              		.loc 1 652 3 is_stmt 1 view .LVU669
 652:Core/Src/mainLoop.c **** 		if(adc1_t1.adc_cap_ok == CALOK){
 2495              		.loc 1 652 13 is_stmt 0 view .LVU670
 2496 0026 184B     		ldr	r3, .L149+16
 2497 0028 1A68     		ldr	r2, [r3]
 652:Core/Src/mainLoop.c **** 		if(adc1_t1.adc_cap_ok == CALOK){
 2498              		.loc 1 652 5 view .LVU671
 2499 002a 4FF6FF73 		movw	r3, #65535
 2500 002e 9A42     		cmp	r2, r3
 2501 0030 0BD0     		beq	.L147
 655:Core/Src/mainLoop.c **** 			HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t2.buf ,ADC_BUF_T_SIZE*2);
 2502              		.loc 1 655 9 is_stmt 1 view .LVU672
 655:Core/Src/mainLoop.c **** 			HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t2.buf ,ADC_BUF_T_SIZE*2);
 2503              		.loc 1 655 19 is_stmt 0 view .LVU673
 2504 0032 164B     		ldr	r3, .L149+20
 2505 0034 1A68     		ldr	r2, [r3]
 655:Core/Src/mainLoop.c **** 			HAL_ADC_Start_DMA(&hadc1,(uint32_t*)adc1_t2.buf ,ADC_BUF_T_SIZE*2);
 2506              		.loc 1 655 11 view .LVU674
 2507 0036 4FF6FF73 		movw	r3, #65535
 2508 003a 9A42     		cmp	r2, r3
 2509 003c 10D0     		beq	.L148
 2510              	.LVL269:
 2511              	.L143:
 660:Core/Src/mainLoop.c **** 		HAL_GPIO_TogglePin(LED3_GPIO_Port, LED3_Pin);
 2512              		.loc 1 660 3 is_stmt 1 view .LVU675
 661:Core/Src/mainLoop.c **** 	}
ARM GAS  /tmp/cctYddPe.s 			page 59


 2513              		.loc 1 661 3 view .LVU676
 2514 003e 4FF40061 		mov	r1, #2048
 2515 0042 1348     		ldr	r0, .L149+24
 2516 0044 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 2517              	.LVL270:
 2518              		.loc 1 663 1 is_stmt 0 view .LVU677
 2519 0048 E2E7     		b	.L139
 2520              	.LVL271:
 2521              	.L147:
 653:Core/Src/mainLoop.c **** 			adc1_t1.adc_cap_ok = ADCCAPOK;
 2522              		.loc 1 653 4 is_stmt 1 view .LVU678
 2523 004a 124C     		ldr	r4, .L149+28
 2524              	.LVL272:
 653:Core/Src/mainLoop.c **** 			adc1_t1.adc_cap_ok = ADCCAPOK;
 2525              		.loc 1 653 4 is_stmt 0 view .LVU679
 2526 004c C822     		movs	r2, #200
 2527 004e 2146     		mov	r1, r4
 2528 0050 0A48     		ldr	r0, .L149+4
 2529 0052 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 2530              	.LVL273:
 654:Core/Src/mainLoop.c **** 		}else if(adc1_t2.adc_cap_ok == CALOK){
 2531              		.loc 1 654 4 is_stmt 1 view .LVU680
 654:Core/Src/mainLoop.c **** 		}else if(adc1_t2.adc_cap_ok == CALOK){
 2532              		.loc 1 654 23 is_stmt 0 view .LVU681
 2533 0056 45F25553 		movw	r3, #21845
 2534 005a 44F8043C 		str	r3, [r4, #-4]
 2535 005e EEE7     		b	.L143
 2536              	.LVL274:
 2537              	.L148:
 656:Core/Src/mainLoop.c **** 			adc1_t2.adc_cap_ok = ADCCAPOK;
 2538              		.loc 1 656 4 is_stmt 1 view .LVU682
 2539 0060 0D4C     		ldr	r4, .L149+32
 2540              	.LVL275:
 656:Core/Src/mainLoop.c **** 			adc1_t2.adc_cap_ok = ADCCAPOK;
 2541              		.loc 1 656 4 is_stmt 0 view .LVU683
 2542 0062 C822     		movs	r2, #200
 2543 0064 2146     		mov	r1, r4
 2544 0066 0548     		ldr	r0, .L149+4
 2545 0068 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 2546              	.LVL276:
 657:Core/Src/mainLoop.c **** 		}else{
 2547              		.loc 1 657 4 is_stmt 1 view .LVU684
 657:Core/Src/mainLoop.c **** 		}else{
 2548              		.loc 1 657 23 is_stmt 0 view .LVU685
 2549 006c 45F25553 		movw	r3, #21845
 2550 0070 44F8043C 		str	r3, [r4, #-4]
 2551 0074 E3E7     		b	.L143
 2552              	.L150:
 2553 0076 00BF     		.align	2
 2554              	.L149:
 2555 0078 00000000 		.word	hadc2
 2556 007c 00000000 		.word	hadc1
 2557 0080 00000000 		.word	.LANCHOR14
 2558 0084 00000000 		.word	value_adc2
 2559 0088 00000000 		.word	adc1_t1
 2560 008c 00000000 		.word	adc1_t2
 2561 0090 00080240 		.word	1073874944
ARM GAS  /tmp/cctYddPe.s 			page 60


 2562 0094 04000000 		.word	adc1_t1+4
 2563 0098 04000000 		.word	adc1_t2+4
 2564              		.cfi_endproc
 2565              	.LFE150:
 2567              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 2568              		.align	1
 2569              		.global	HAL_UART_TxCpltCallback
 2570              		.syntax unified
 2571              		.thumb
 2572              		.thumb_func
 2573              		.fpu fpv4-sp-d16
 2575              	HAL_UART_TxCpltCallback:
 2576              	.LVL277:
 2577              	.LFB151:
 664:Core/Src/mainLoop.c ****      
 665:Core/Src/mainLoop.c **** //void HAL_UART_TxHalfCpltCallback(UART_HandleTypeDef *huart){
 666:Core/Src/mainLoop.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart){
 2578              		.loc 1 666 56 is_stmt 1 view -0
 2579              		.cfi_startproc
 2580              		@ args = 0, pretend = 0, frame = 0
 2581              		@ frame_needed = 0, uses_anonymous_args = 0
 2582              		.loc 1 666 56 is_stmt 0 view .LVU687
 2583 0000 08B5     		push	{r3, lr}
 2584              	.LCFI23:
 2585              		.cfi_def_cfa_offset 8
 2586              		.cfi_offset 3, -8
 2587              		.cfi_offset 14, -4
 667:Core/Src/mainLoop.c **** 	if(huart == &huart2){
 2588              		.loc 1 667 2 is_stmt 1 view .LVU688
 2589              		.loc 1 667 4 is_stmt 0 view .LVU689
 2590 0002 0C4B     		ldr	r3, .L155
 2591 0004 8342     		cmp	r3, r0
 2592 0006 00D0     		beq	.L154
 2593              	.LVL278:
 2594              	.L151:
 668:Core/Src/mainLoop.c **** 		uint16_t *padcv = (uint16_t *)(&logBufDma[1]);
 669:Core/Src/mainLoop.c **** 		uint32_t *pdacp = (uint32_t *)(&logBufDma[3]);
 670:Core/Src/mainLoop.c **** 		uint32_t *pdacn = (uint32_t *)(&logBufDma[7]);
 671:Core/Src/mainLoop.c **** 		*padcv = logPara.mean_adc_val;
 672:Core/Src/mainLoop.c **** 		*pdacp = logPara.dac_val_p;
 673:Core/Src/mainLoop.c **** 		*pdacn = logPara.dac_val_n;
 674:Core/Src/mainLoop.c **** 
 675:Core/Src/mainLoop.c **** 		HAL_UART_Transmit_DMA(&huart2, logBufDma, 11);
 676:Core/Src/mainLoop.c **** 		
 677:Core/Src/mainLoop.c **** 		HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 678:Core/Src/mainLoop.c **** 	}
 679:Core/Src/mainLoop.c **** }...
 2595              		.loc 1 679 1 view .LVU690
 2596 0008 08BD     		pop	{r3, pc}
 2597              	.LVL279:
 2598              	.L154:
 2599              	.LBB6:
 668:Core/Src/mainLoop.c **** 		uint16_t *padcv = (uint16_t *)(&logBufDma[1]);
 2600              		.loc 1 668 3 is_stmt 1 view .LVU691
 669:Core/Src/mainLoop.c **** 		uint32_t *pdacp = (uint32_t *)(&logBufDma[3]);
 2601              		.loc 1 669 3 view .LVU692
 670:Core/Src/mainLoop.c **** 		uint32_t *pdacn = (uint32_t *)(&logBufDma[7]);
ARM GAS  /tmp/cctYddPe.s 			page 61


 2602              		.loc 1 670 3 view .LVU693
 671:Core/Src/mainLoop.c **** 		*padcv = logPara.mean_adc_val;
 2603              		.loc 1 671 3 view .LVU694
 671:Core/Src/mainLoop.c **** 		*padcv = logPara.mean_adc_val;
 2604              		.loc 1 671 19 is_stmt 0 view .LVU695
 2605 000a 0B4B     		ldr	r3, .L155+4
 2606 000c 1A88     		ldrh	r2, [r3]
 671:Core/Src/mainLoop.c **** 		*padcv = logPara.mean_adc_val;
 2607              		.loc 1 671 10 view .LVU696
 2608 000e 0B49     		ldr	r1, .L155+8
 2609 0010 A1F80120 		strh	r2, [r1, #1]	@ unaligned
 672:Core/Src/mainLoop.c **** 		*pdacp = logPara.dac_val_p;
 2610              		.loc 1 672 3 is_stmt 1 view .LVU697
 672:Core/Src/mainLoop.c **** 		*pdacp = logPara.dac_val_p;
 2611              		.loc 1 672 19 is_stmt 0 view .LVU698
 2612 0014 5A68     		ldr	r2, [r3, #4]
 672:Core/Src/mainLoop.c **** 		*pdacp = logPara.dac_val_p;
 2613              		.loc 1 672 10 view .LVU699
 2614 0016 C1F80320 		str	r2, [r1, #3]	@ unaligned
 673:Core/Src/mainLoop.c **** 		*pdacn = logPara.dac_val_n;
 2615              		.loc 1 673 3 is_stmt 1 view .LVU700
 673:Core/Src/mainLoop.c **** 		*pdacn = logPara.dac_val_n;
 2616              		.loc 1 673 19 is_stmt 0 view .LVU701
 2617 001a 9B68     		ldr	r3, [r3, #8]
 673:Core/Src/mainLoop.c **** 		*pdacn = logPara.dac_val_n;
 2618              		.loc 1 673 10 view .LVU702
 2619 001c C1F80730 		str	r3, [r1, #7]	@ unaligned
 675:Core/Src/mainLoop.c **** 		HAL_UART_Transmit_DMA(&huart2, logBufDma, 11);
 2620              		.loc 1 675 3 is_stmt 1 view .LVU703
 2621 0020 0B22     		movs	r2, #11
 2622 0022 0448     		ldr	r0, .L155
 2623              	.LVL280:
 675:Core/Src/mainLoop.c **** 		HAL_UART_Transmit_DMA(&huart2, logBufDma, 11);
 2624              		.loc 1 675 3 is_stmt 0 view .LVU704
 2625 0024 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 2626              	.LVL281:
 677:Core/Src/mainLoop.c **** 		HAL_GPIO_TogglePin(LED4_GPIO_Port, LED4_Pin);
 2627              		.loc 1 677 3 is_stmt 1 view .LVU705
 2628 0028 4FF48051 		mov	r1, #4096
 2629 002c 0448     		ldr	r0, .L155+12
 2630 002e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 2631              	.LVL282:
 2632              	.LBE6:
 2633              		.loc 1 679 1 is_stmt 0 view .LVU706
 2634 0032 E9E7     		b	.L151
 2635              	.L156:
 2636              		.align	2
 2637              	.L155:
 2638 0034 00000000 		.word	huart2
 2639 0038 00000000 		.word	logPara
 2640 003c 00000000 		.word	logBufDma
 2641 0040 00080240 		.word	1073874944
 2642              		.cfi_endproc
 2643              	.LFE151:
 2645              		.comm	lastAdcVal,4,4
 2646              		.comm	adcVal,4,4
 2647              		.global	locked
ARM GAS  /tmp/cctYddPe.s 			page 62


 2648              		.global	ad9520_reg
 2649              		.comm	logBufDma,20,4
 2650              		.comm	adc1_t2,412,4
 2651              		.comm	adc1_t1,412,4
 2652              		.global	mainCpLast
 2653              		.global	mainCp
 2654              		.global	value_dacN
 2655              		.global	value_dacP
 2656              		.global	adc2_ok
 2657              		.global	adc1_ok
 2658              		.global	difVal_view
 2659              		.global	meanVal_view
 2660              		.comm	logPara,12,4
 2661              		.comm	valMeanArray,800,4
 2662              		.global	dletDac
 2663              		.global	pidD
 2664              		.global	pidI
 2665              		.global	pidP
 2666              		.comm	adcSumArray,40,4
 2667              		.comm	value_cp,32000,4
 2668              		.comm	value_adc2,16000,4
 2669              		.comm	value_adc1,16000,4
 2670              		.global	Wave_LUT
 2671              		.comm	tmp,8,8
 2672              		.comm	dacV,4,4
 2673              		.comm	v_dianya,4,4
 2674              		.comm	buf,4,4
 2675              		.comm	yy_cnt,4,4
 2676              		.comm	xx_cnt,4,4
 2677              		.comm	complete_sign,4,4
 2678              		.comm	yy,4,4
 2679              		.comm	xx,4,4
 2680              		.global	fre_dif
 2681              		.global	f
 2682              		.global	i
 2683              		.global	chanl2_midx
 2684              		.global	chanl1_midx
 2685              		.global	average_xNum2
 2686              		.global	average_xNum1
 2687              		.global	chanl2_completed
 2688              		.global	chanl1_completed
 2689              		.comm	chanl2_capNum_f,400,4
 2690              		.comm	chanl1_capNum_f,400,4
 2691              		.comm	chanl2_xNum,400,4
 2692              		.comm	chanl1_xNum,400,4
 2693              		.comm	chanl2_capNum,400,4
 2694              		.comm	chanl1_capNum,400,4
 2695              		.section	.bss.ad9520_reg,"aw",%nobits
 2696              		.align	1
 2699              	ad9520_reg:
 2700 0000 0000     		.space	2
 2701              		.section	.bss.adc1_ok,"aw",%nobits
 2702              		.align	2
 2703              		.set	.LANCHOR13,. + 0
 2706              	adc1_ok:
 2707 0000 00000000 		.space	4
 2708              		.section	.bss.adc2_ok,"aw",%nobits
ARM GAS  /tmp/cctYddPe.s 			page 63


 2709              		.align	2
 2710              		.set	.LANCHOR14,. + 0
 2713              	adc2_ok:
 2714 0000 00000000 		.space	4
 2715              		.section	.bss.average_xNum1,"aw",%nobits
 2716              		.align	2
 2719              	average_xNum1:
 2720 0000 00000000 		.space	4
 2721              		.section	.bss.average_xNum2,"aw",%nobits
 2722              		.align	2
 2725              	average_xNum2:
 2726 0000 00000000 		.space	4
 2727              		.section	.bss.chanl1_completed,"aw",%nobits
 2728              		.align	2
 2731              	chanl1_completed:
 2732 0000 00000000 		.space	4
 2733              		.section	.bss.chanl1_midx,"aw",%nobits
 2734              		.align	2
 2735              		.set	.LANCHOR2,. + 0
 2738              	chanl1_midx:
 2739 0000 00000000 		.space	4
 2740              		.section	.bss.chanl2_completed,"aw",%nobits
 2741              		.align	2
 2744              	chanl2_completed:
 2745 0000 00000000 		.space	4
 2746              		.section	.bss.chanl2_midx,"aw",%nobits
 2747              		.align	2
 2748              		.set	.LANCHOR3,. + 0
 2751              	chanl2_midx:
 2752 0000 00000000 		.space	4
 2753              		.section	.bss.currentP.10299,"aw",%nobits
 2754              		.align	2
 2755              		.set	.LANCHOR8,. + 0
 2758              	currentP.10299:
 2759 0000 00000000 		.space	4
 2760              		.section	.bss.difVal_view,"aw",%nobits
 2761              		.align	2
 2762              		.set	.LANCHOR10,. + 0
 2765              	difVal_view:
 2766 0000 00000000 		.space	4
 2767              		.section	.bss.dletDac,"aw",%nobits
 2768              		.align	2
 2769              		.set	.LANCHOR7,. + 0
 2772              	dletDac:
 2773 0000 00000000 		.space	4
 2774              		.section	.bss.fre_dif,"aw",%nobits
 2775              		.align	2
 2776              		.set	.LANCHOR0,. + 0
 2779              	fre_dif:
 2780 0000 00000000 		.space	4
 2781              		.section	.bss.i,"aw",%nobits
 2782              		.align	2
 2783              		.set	.LANCHOR1,. + 0
 2786              	i:
 2787 0000 00000000 		.space	4
 2788              		.section	.bss.locked,"aw",%nobits
 2789              		.align	2
ARM GAS  /tmp/cctYddPe.s 			page 64


 2792              	locked:
 2793 0000 00000000 		.space	4
 2794              		.section	.bss.mainCp,"aw",%nobits
 2795              		.align	2
 2798              	mainCp:
 2799 0000 00000000 		.space	4
 2800              		.section	.bss.mainCpLast,"aw",%nobits
 2801              		.align	2
 2804              	mainCpLast:
 2805 0000 00000000 		.space	4
 2806              		.section	.bss.meanVal_view,"aw",%nobits
 2807              		.align	2
 2808              		.set	.LANCHOR9,. + 0
 2811              	meanVal_view:
 2812 0000 00000000 		.space	4
 2813              		.section	.bss.pidD,"aw",%nobits
 2814              		.align	2
 2815              		.set	.LANCHOR6,. + 0
 2818              	pidD:
 2819 0000 00000000 		.space	4
 2820              		.section	.bss.pidI,"aw",%nobits
 2821              		.align	2
 2822              		.set	.LANCHOR5,. + 0
 2825              	pidI:
 2826 0000 00000000 		.space	4
 2827              		.section	.bss.pidP,"aw",%nobits
 2828              		.align	2
 2829              		.set	.LANCHOR4,. + 0
 2832              	pidP:
 2833 0000 00000000 		.space	4
 2834              		.section	.data.Wave_LUT,"aw"
 2835              		.align	2
 2838              	Wave_LUT:
 2839 0000 00080000 		.word	2048
 2840 0004 65080000 		.word	2149
 2841 0008 CA080000 		.word	2250
 2842 000c 2E090000 		.word	2350
 2843 0010 92090000 		.word	2450
 2844 0014 F5090000 		.word	2549
 2845 0018 560A0000 		.word	2646
 2846 001c B60A0000 		.word	2742
 2847 0020 150B0000 		.word	2837
 2848 0024 710B0000 		.word	2929
 2849 0028 CC0B0000 		.word	3020
 2850 002c 240C0000 		.word	3108
 2851 0030 790C0000 		.word	3193
 2852 0034 CB0C0000 		.word	3275
 2853 0038 1B0D0000 		.word	3355
 2854 003c 670D0000 		.word	3431
 2855 0040 B00D0000 		.word	3504
 2856 0044 F60D0000 		.word	3574
 2857 0048 370E0000 		.word	3639
 2858 004c 750E0000 		.word	3701
 2859 0050 AF0E0000 		.word	3759
 2860 0054 E40E0000 		.word	3812
 2861 0058 150F0000 		.word	3861
 2862 005c 420F0000 		.word	3906
ARM GAS  /tmp/cctYddPe.s 			page 65


 2863 0060 6A0F0000 		.word	3946
 2864 0064 8E0F0000 		.word	3982
 2865 0068 AD0F0000 		.word	4013
 2866 006c C70F0000 		.word	4039
 2867 0070 DC0F0000 		.word	4060
 2868 0074 EC0F0000 		.word	4076
 2869 0078 F70F0000 		.word	4087
 2870 007c FE0F0000 		.word	4094
 2871 0080 FF0F0000 		.word	4095
 2872 0084 FB0F0000 		.word	4091
 2873 0088 F20F0000 		.word	4082
 2874 008c E50F0000 		.word	4069
 2875 0090 D20F0000 		.word	4050
 2876 0094 BA0F0000 		.word	4026
 2877 0098 9E0F0000 		.word	3998
 2878 009c 7D0F0000 		.word	3965
 2879 00a0 570F0000 		.word	3927
 2880 00a4 2C0F0000 		.word	3884
 2881 00a8 FD0E0000 		.word	3837
 2882 00ac CA0E0000 		.word	3786
 2883 00b0 920E0000 		.word	3730
 2884 00b4 570E0000 		.word	3671
 2885 00b8 170E0000 		.word	3607
 2886 00bc D30D0000 		.word	3539
 2887 00c0 8C0D0000 		.word	3468
 2888 00c4 420D0000 		.word	3394
 2889 00c8 F40C0000 		.word	3316
 2890 00cc A30C0000 		.word	3235
 2891 00d0 4F0C0000 		.word	3151
 2892 00d4 F80B0000 		.word	3064
 2893 00d8 9F0B0000 		.word	2975
 2894 00dc 430B0000 		.word	2883
 2895 00e0 E60A0000 		.word	2790
 2896 00e4 870A0000 		.word	2695
 2897 00e8 260A0000 		.word	2598
 2898 00ec C4090000 		.word	2500
 2899 00f0 60090000 		.word	2400
 2900 00f4 FC080000 		.word	2300
 2901 00f8 97080000 		.word	2199
 2902 00fc 32080000 		.word	2098
 2903 0100 CD070000 		.word	1997
 2904 0104 68070000 		.word	1896
 2905 0108 03070000 		.word	1795
 2906 010c 9F060000 		.word	1695
 2907 0110 3B060000 		.word	1595
 2908 0114 D9050000 		.word	1497
 2909 0118 78050000 		.word	1400
 2910 011c 19050000 		.word	1305
 2911 0120 BC040000 		.word	1212
 2912 0124 60040000 		.word	1120
 2913 0128 07040000 		.word	1031
 2914 012c B0030000 		.word	944
 2915 0130 5C030000 		.word	860
 2916 0134 0B030000 		.word	779
 2917 0138 BD020000 		.word	701
 2918 013c 73020000 		.word	627
 2919 0140 2C020000 		.word	556
ARM GAS  /tmp/cctYddPe.s 			page 66


 2920 0144 E8010000 		.word	488
 2921 0148 A8010000 		.word	424
 2922 014c 6D010000 		.word	365
 2923 0150 35010000 		.word	309
 2924 0154 02010000 		.word	258
 2925 0158 D3000000 		.word	211
 2926 015c A8000000 		.word	168
 2927 0160 82000000 		.word	130
 2928 0164 61000000 		.word	97
 2929 0168 45000000 		.word	69
 2930 016c 2D000000 		.word	45
 2931 0170 1A000000 		.word	26
 2932 0174 0D000000 		.word	13
 2933 0178 04000000 		.word	4
 2934 017c 00000000 		.word	0
 2935 0180 01000000 		.word	1
 2936 0184 08000000 		.word	8
 2937 0188 13000000 		.word	19
 2938 018c 23000000 		.word	35
 2939 0190 38000000 		.word	56
 2940 0194 52000000 		.word	82
 2941 0198 71000000 		.word	113
 2942 019c 95000000 		.word	149
 2943 01a0 BD000000 		.word	189
 2944 01a4 EA000000 		.word	234
 2945 01a8 1B010000 		.word	283
 2946 01ac 50010000 		.word	336
 2947 01b0 8A010000 		.word	394
 2948 01b4 C8010000 		.word	456
 2949 01b8 09020000 		.word	521
 2950 01bc 4F020000 		.word	591
 2951 01c0 98020000 		.word	664
 2952 01c4 E4020000 		.word	740
 2953 01c8 34030000 		.word	820
 2954 01cc 86030000 		.word	902
 2955 01d0 DB030000 		.word	987
 2956 01d4 33040000 		.word	1075
 2957 01d8 8E040000 		.word	1166
 2958 01dc EA040000 		.word	1258
 2959 01e0 49050000 		.word	1353
 2960 01e4 A9050000 		.word	1449
 2961 01e8 0A060000 		.word	1546
 2962 01ec 6D060000 		.word	1645
 2963 01f0 D1060000 		.word	1745
 2964 01f4 35070000 		.word	1845
 2965 01f8 9A070000 		.word	1946
 2966 01fc FF070000 		.word	2047
 2967              		.section	.data.f,"aw"
 2968              		.align	2
 2971              	f:
 2972 0000 C3F54840 		.word	1078523331
 2973              		.section	.data.value_dacN,"aw"
 2974              		.align	2
 2975              		.set	.LANCHOR12,. + 0
 2978              	value_dacN:
 2979 0000 00008000 		.word	8388608
 2980              		.section	.data.value_dacP,"aw"
ARM GAS  /tmp/cctYddPe.s 			page 67


 2981              		.align	2
 2982              		.set	.LANCHOR11,. + 0
 2985              	value_dacP:
 2986 0000 00008000 		.word	8388608
 2987              		.text
 2988              	.Letext0:
 2989              		.file 2 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/inc
 2990              		.file 3 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/inc
 2991              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 2992              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 2993              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 2994              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 2995              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2996              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 2997              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 2998              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dac.h"
 2999              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 3000              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 3001              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 3002              		.file 15 "Core/Inc/mainLoop.h"
 3003              		.file 16 "Core/Inc/max5307.h"
 3004              		.file 17 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/lib/gcc/arm-none
 3005              		.file 18 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3006              		.file 19 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3007              		.file 20 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3008              		.file 21 "/home/cahill/stm32cubeMx/install_bin/gcc-arm-none-eabi-9-2020-q2-update/arm-none-eabi/in
 3009              		.file 22 "<built-in>"
 3010              		.file 23 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 3011              		.file 24 "Core/Inc/ad9520_function.h"
ARM GAS  /tmp/cctYddPe.s 			page 68


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mainLoop.c
     /tmp/cctYddPe.s:18     .text._write:0000000000000000 $t
     /tmp/cctYddPe.s:26     .text._write:0000000000000000 _write
     /tmp/cctYddPe.s:60     .text._write:0000000000000014 $d
     /tmp/cctYddPe.s:65     .text.transform_capNum_to_xNum:0000000000000000 $t
     /tmp/cctYddPe.s:72     .text.transform_capNum_to_xNum:0000000000000000 transform_capNum_to_xNum
     /tmp/cctYddPe.s:133    .text.cal_average_xNum:0000000000000000 $t
     /tmp/cctYddPe.s:140    .text.cal_average_xNum:0000000000000000 cal_average_xNum
     /tmp/cctYddPe.s:209    .text.enable_tim4_capture_Iterrupt:0000000000000000 $t
     /tmp/cctYddPe.s:216    .text.enable_tim4_capture_Iterrupt:0000000000000000 enable_tim4_capture_Iterrupt
     /tmp/cctYddPe.s:244    .text.enable_tim4_capture_Iterrupt:0000000000000018 $d
     /tmp/cctYddPe.s:254    .text.generateSinWave:0000000000000000 $t
     /tmp/cctYddPe.s:261    .text.generateSinWave:0000000000000000 generateSinWave
     /tmp/cctYddPe.s:307    .text.generateSinWave:0000000000000038 $d
                            *COM*:0000000000000008 tmp
     /tmp/cctYddPe.s:318    .text.mainLoop:0000000000000000 $t
     /tmp/cctYddPe.s:325    .text.mainLoop:0000000000000000 mainLoop
     /tmp/cctYddPe.s:561    .text.mainLoop:0000000000000150 $d
                            *COM*:0000000000000004 complete_sign
                            *COM*:0000000000000004 xx
                            *COM*:0000000000000004 yy
                            *COM*:0000000000000004 xx_cnt
                            *COM*:0000000000000004 yy_cnt
                            *COM*:0000000000000004 v_dianya
                            *COM*:0000000000000004 buf
                            *COM*:0000000000000190 chanl1_capNum
                            *COM*:0000000000000190 chanl2_capNum
     /tmp/cctYddPe.s:585    .text.HAL_TIM_IC_CaptureCallback:0000000000000000 $t
     /tmp/cctYddPe.s:592    .text.HAL_TIM_IC_CaptureCallback:0000000000000000 HAL_TIM_IC_CaptureCallback
     /tmp/cctYddPe.s:663    .text.HAL_TIM_IC_CaptureCallback:0000000000000044 $d
     /tmp/cctYddPe.s:673    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 $t
     /tmp/cctYddPe.s:680    .text.HAL_TIM_PeriodElapsedCallback:0000000000000000 HAL_TIM_PeriodElapsedCallback
     /tmp/cctYddPe.s:741    .text.HAL_TIM_PeriodElapsedCallback:0000000000000034 $d
     /tmp/cctYddPe.s:755    .text.HAL_UART_RxCpltCallback:0000000000000000 $t
     /tmp/cctYddPe.s:762    .text.HAL_UART_RxCpltCallback:0000000000000000 HAL_UART_RxCpltCallback
     /tmp/cctYddPe.s:974    .text.HAL_UART_RxCpltCallback:0000000000000130 $d
     /tmp/cctYddPe.s:989    .text.set_dac_initVal:0000000000000000 $t
     /tmp/cctYddPe.s:996    .text.set_dac_initVal:0000000000000000 set_dac_initVal
     /tmp/cctYddPe.s:1070   .text.cal_k_value_cp:0000000000000000 $t
     /tmp/cctYddPe.s:1077   .text.cal_k_value_cp:0000000000000000 cal_k_value_cp
     /tmp/cctYddPe.s:1193   .text.cal_k_value_cp:000000000000005c $d
                            *COM*:0000000000007d00 value_cp
     /tmp/cctYddPe.s:1198   .text.cal_value_cp:0000000000000000 $t
     /tmp/cctYddPe.s:1205   .text.cal_value_cp:0000000000000000 cal_value_cp
     /tmp/cctYddPe.s:1260   .text.cal_value_cp:000000000000002c $d
                            *COM*:0000000000003e80 value_adc1
     /tmp/cctYddPe.s:1266   .text.cal_cp_output_dac:0000000000000000 $t
     /tmp/cctYddPe.s:1273   .text.cal_cp_output_dac:0000000000000000 cal_cp_output_dac
     /tmp/cctYddPe.s:1577   .text.cal_cp_output_dac:0000000000000178 $d
                            *COM*:0000000000000028 adcSumArray
     /tmp/cctYddPe.s:1594   .text.insertMeanVal:0000000000000000 $t
     /tmp/cctYddPe.s:1601   .text.insertMeanVal:0000000000000000 insertMeanVal
     /tmp/cctYddPe.s:1714   .text.insertMeanVal:0000000000000068 $d
                            *COM*:0000000000000320 valMeanArray
     /tmp/cctYddPe.s:1721   .text.cal_cp_output_dac_ext:0000000000000000 $t
     /tmp/cctYddPe.s:1728   .text.cal_cp_output_dac_ext:0000000000000000 cal_cp_output_dac_ext
ARM GAS  /tmp/cctYddPe.s 			page 69


     /tmp/cctYddPe.s:2134   .text.cal_cp_output_dac_ext:00000000000001e8 $d
                            *COM*:000000000000000c logPara
     /tmp/cctYddPe.s:2156   .text.fakeDelay:0000000000000000 $t
     /tmp/cctYddPe.s:2163   .text.fakeDelay:0000000000000000 fakeDelay
     /tmp/cctYddPe.s:2215   .text.mainLoop1:0000000000000000 $t
     /tmp/cctYddPe.s:2222   .text.mainLoop1:0000000000000000 mainLoop1
     /tmp/cctYddPe.s:2426   .text.mainLoop1:00000000000000f8 $d
                            *COM*:000000000000019c adc1_t1
                            *COM*:000000000000019c adc1_t2
                            *COM*:0000000000000014 logBufDma
     /tmp/cctYddPe.s:2440   .text.HAL_ADC_ConvCpltCallback:0000000000000000 $t
     /tmp/cctYddPe.s:2447   .text.HAL_ADC_ConvCpltCallback:0000000000000000 HAL_ADC_ConvCpltCallback
     /tmp/cctYddPe.s:2555   .text.HAL_ADC_ConvCpltCallback:0000000000000078 $d
                            *COM*:0000000000003e80 value_adc2
     /tmp/cctYddPe.s:2568   .text.HAL_UART_TxCpltCallback:0000000000000000 $t
     /tmp/cctYddPe.s:2575   .text.HAL_UART_TxCpltCallback:0000000000000000 HAL_UART_TxCpltCallback
     /tmp/cctYddPe.s:2638   .text.HAL_UART_TxCpltCallback:0000000000000034 $d
                            *COM*:0000000000000004 lastAdcVal
                            *COM*:0000000000000004 adcVal
     /tmp/cctYddPe.s:2792   .bss.locked:0000000000000000 locked
     /tmp/cctYddPe.s:2699   .bss.ad9520_reg:0000000000000000 ad9520_reg
     /tmp/cctYddPe.s:2804   .bss.mainCpLast:0000000000000000 mainCpLast
     /tmp/cctYddPe.s:2798   .bss.mainCp:0000000000000000 mainCp
     /tmp/cctYddPe.s:2978   .data.value_dacN:0000000000000000 value_dacN
     /tmp/cctYddPe.s:2985   .data.value_dacP:0000000000000000 value_dacP
     /tmp/cctYddPe.s:2713   .bss.adc2_ok:0000000000000000 adc2_ok
     /tmp/cctYddPe.s:2706   .bss.adc1_ok:0000000000000000 adc1_ok
     /tmp/cctYddPe.s:2765   .bss.difVal_view:0000000000000000 difVal_view
     /tmp/cctYddPe.s:2811   .bss.meanVal_view:0000000000000000 meanVal_view
     /tmp/cctYddPe.s:2772   .bss.dletDac:0000000000000000 dletDac
     /tmp/cctYddPe.s:2818   .bss.pidD:0000000000000000 pidD
     /tmp/cctYddPe.s:2825   .bss.pidI:0000000000000000 pidI
     /tmp/cctYddPe.s:2832   .bss.pidP:0000000000000000 pidP
     /tmp/cctYddPe.s:2838   .data.Wave_LUT:0000000000000000 Wave_LUT
                            *COM*:0000000000000004 dacV
     /tmp/cctYddPe.s:2779   .bss.fre_dif:0000000000000000 fre_dif
     /tmp/cctYddPe.s:2971   .data.f:0000000000000000 f
     /tmp/cctYddPe.s:2786   .bss.i:0000000000000000 i
     /tmp/cctYddPe.s:2751   .bss.chanl2_midx:0000000000000000 chanl2_midx
     /tmp/cctYddPe.s:2738   .bss.chanl1_midx:0000000000000000 chanl1_midx
     /tmp/cctYddPe.s:2725   .bss.average_xNum2:0000000000000000 average_xNum2
     /tmp/cctYddPe.s:2719   .bss.average_xNum1:0000000000000000 average_xNum1
     /tmp/cctYddPe.s:2744   .bss.chanl2_completed:0000000000000000 chanl2_completed
     /tmp/cctYddPe.s:2731   .bss.chanl1_completed:0000000000000000 chanl1_completed
                            *COM*:0000000000000190 chanl2_capNum_f
                            *COM*:0000000000000190 chanl1_capNum_f
                            *COM*:0000000000000190 chanl2_xNum
                            *COM*:0000000000000190 chanl1_xNum
     /tmp/cctYddPe.s:2696   .bss.ad9520_reg:0000000000000000 $d
     /tmp/cctYddPe.s:2702   .bss.adc1_ok:0000000000000000 $d
     /tmp/cctYddPe.s:2709   .bss.adc2_ok:0000000000000000 $d
     /tmp/cctYddPe.s:2716   .bss.average_xNum1:0000000000000000 $d
     /tmp/cctYddPe.s:2722   .bss.average_xNum2:0000000000000000 $d
     /tmp/cctYddPe.s:2728   .bss.chanl1_completed:0000000000000000 $d
     /tmp/cctYddPe.s:2734   .bss.chanl1_midx:0000000000000000 $d
     /tmp/cctYddPe.s:2741   .bss.chanl2_completed:0000000000000000 $d
     /tmp/cctYddPe.s:2747   .bss.chanl2_midx:0000000000000000 $d
ARM GAS  /tmp/cctYddPe.s 			page 70


     /tmp/cctYddPe.s:2754   .bss.currentP.10299:0000000000000000 $d
     /tmp/cctYddPe.s:2758   .bss.currentP.10299:0000000000000000 currentP.10299
     /tmp/cctYddPe.s:2761   .bss.difVal_view:0000000000000000 $d
     /tmp/cctYddPe.s:2768   .bss.dletDac:0000000000000000 $d
     /tmp/cctYddPe.s:2775   .bss.fre_dif:0000000000000000 $d
     /tmp/cctYddPe.s:2782   .bss.i:0000000000000000 $d
     /tmp/cctYddPe.s:2789   .bss.locked:0000000000000000 $d
     /tmp/cctYddPe.s:2795   .bss.mainCp:0000000000000000 $d
     /tmp/cctYddPe.s:2801   .bss.mainCpLast:0000000000000000 $d
     /tmp/cctYddPe.s:2807   .bss.meanVal_view:0000000000000000 $d
     /tmp/cctYddPe.s:2814   .bss.pidD:0000000000000000 $d
     /tmp/cctYddPe.s:2821   .bss.pidI:0000000000000000 $d
     /tmp/cctYddPe.s:2828   .bss.pidP:0000000000000000 $d
     /tmp/cctYddPe.s:2835   .data.Wave_LUT:0000000000000000 $d
     /tmp/cctYddPe.s:2968   .data.f:0000000000000000 $d
     /tmp/cctYddPe.s:2974   .data.value_dacN:0000000000000000 $d
     /tmp/cctYddPe.s:2981   .data.value_dacP:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart2
HAL_TIM_Base_Start_IT
htim5
htim4
htim1
__aeabi_i2d
__aeabi_dmul
__aeabi_dadd
sin
__aeabi_f2d
__aeabi_ddiv
__aeabi_d2uiz
init_max5307
max5307_w_chanel
HAL_DAC_Start
HAL_DAC_SetValue
HAL_UART_Receive_IT
init_ad9520
HAL_GPIO_TogglePin
HAL_Delay
check_ad9520_status
round
hdac
__aeabi_d2f
__aeabi_dsub
max5307_loadpin
memset
HAL_UART_IRQHandler
HAL_UART_Transmit_DMA
HAL_ADC_Start_DMA
hadc1
hadc2
